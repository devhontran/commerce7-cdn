var zt=Object.defineProperty;var Gt=(A,h,p)=>h in A?zt(A,h,{enumerable:!0,configurable:!0,writable:!0,value:p}):A[h]=p;var V=(A,h,p)=>(Gt(A,typeof h!="symbol"?h+"":h,p),p);import{b as U,P as ee,u as ie,d as b,e as $t,M as be,h as it,f as Te,g as F,i as st,r as Xt,_ as Ze,j as Qt,s as pt,S as Me,L as Kt,k as Yt,A as Jt,l as Zt,D as jt,m as _t,n as en,o as gt,R as mt,U as vt,a as _,p as je,q as _e,F as tn,T as nn,c as Ye,t as sn,v as rn,w as Ce,x as on,y as an,z as xt,B as Je,C as ln,E as cn}from"./global.js";/*!
 * ScrollToPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ae,Ot,ve,ge,Se,Ct,Tt,Ne,At=function(){return typeof window<"u"},Lt=function(){return ae||At()&&(ae=window.gsap)&&ae.registerPlugin&&ae},Et=function(h){return typeof h=="string"},yt=function(h){return typeof h=="function"},ke=function(h,p){var v=p==="x"?"Width":"Height",c="scroll"+v,e="client"+v;return h===ve||h===ge||h===Se?Math.max(ge[c],Se[c])-(ve["inner"+v]||ge[e]||Se[e]):h[c]-h["offset"+v]},Be=function(h,p){var v="scroll"+(p==="x"?"Left":"Top");return h===ve&&(h.pageXOffset!=null?v="page"+p.toUpperCase()+"Offset":h=ge[v]!=null?ge:Se),function(){return h[v]}},un=function(h,p,v,c){if(yt(h)&&(h=h(p,v,c)),typeof h!="object")return Et(h)&&h!=="max"&&h.charAt(1)!=="="?{x:h,y:h}:{y:h};if(h.nodeType)return{y:h,x:h};var e={},n;for(n in h)e[n]=n!=="onAutoKill"&&yt(h[n])?h[n](p,v,c):h[n];return e},It=function(h,p){if(h=Ct(h)[0],!h||!h.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var v=h.getBoundingClientRect(),c=!p||p===ve||p===Se,e=c?{top:ge.clientTop-(ve.pageYOffset||ge.scrollTop||Se.scrollTop||0),left:ge.clientLeft-(ve.pageXOffset||ge.scrollLeft||Se.scrollLeft||0)}:p.getBoundingClientRect(),n={x:v.left-e.left,y:v.top-e.top};return!c&&p&&(n.x+=Be(p,"x")(),n.y+=Be(p,"y")()),n},St=function(h,p,v,c,e){return!isNaN(h)&&typeof h!="object"?parseFloat(h)-e:Et(h)&&h.charAt(1)==="="?parseFloat(h.substr(2))*(h.charAt(0)==="-"?-1:1)+c-e:h==="max"?ke(p,v)-e:Math.min(ke(p,v),It(h,p)[v]-e)},Mt=function(){ae=Lt(),At()&&ae&&typeof document<"u"&&document.body&&(ve=window,Se=document.body,ge=document.documentElement,Ct=ae.utils.toArray,ae.config({autoKillThreshold:7}),Tt=ae.config(),Ot=1)},He={version:"3.12.5",name:"scrollTo",rawVars:1,register:function(h){ae=h,Mt()},init:function(h,p,v,c,e){Ot||Mt();var n=this,s=ae.getProperty(h,"scrollSnapType");n.isWin=h===ve,n.target=h,n.tween=v,p=un(p,c,h,e),n.vars=p,n.autoKill=!!p.autoKill,n.getX=Be(h,"x"),n.getY=Be(h,"y"),n.x=n.xPrev=n.getX(),n.y=n.yPrev=n.getY(),Ne||(Ne=ae.core.globals().ScrollTrigger),ae.getProperty(h,"scrollBehavior")==="smooth"&&ae.set(h,{scrollBehavior:"auto"}),s&&s!=="none"&&(n.snap=1,n.snapInline=h.style.scrollSnapType,h.style.scrollSnapType="none"),p.x!=null?(n.add(n,"x",n.x,St(p.x,h,"x",n.x,p.offsetX||0),c,e),n._props.push("scrollTo_x")):n.skipX=1,p.y!=null?(n.add(n,"y",n.y,St(p.y,h,"y",n.y,p.offsetY||0),c,e),n._props.push("scrollTo_y")):n.skipY=1},render:function(h,p){for(var v=p._pt,c=p.target,e=p.tween,n=p.autoKill,s=p.xPrev,i=p.yPrev,u=p.isWin,o=p.snap,f=p.snapInline,l,t,r,a,d;v;)v.r(h,v.d),v=v._next;l=u||!p.skipX?p.getX():s,t=u||!p.skipY?p.getY():i,r=t-i,a=l-s,d=Tt.autoKillThreshold,p.x<0&&(p.x=0),p.y<0&&(p.y=0),n&&(!p.skipX&&(a>d||a<-d)&&l<ke(c,"x")&&(p.skipX=1),!p.skipY&&(r>d||r<-d)&&t<ke(c,"y")&&(p.skipY=1),p.skipX&&p.skipY&&(e.kill(),p.vars.onAutoKill&&p.vars.onAutoKill.apply(e,p.vars.onAutoKillParams||[]))),u?ve.scrollTo(p.skipX?l:p.x,p.skipY?t:p.y):(p.skipY||(c.scrollTop=p.y),p.skipX||(c.scrollLeft=p.x)),o&&(h===1||h===0)&&(t=c.scrollTop,l=c.scrollLeft,f?c.style.scrollSnapType=f:c.style.removeProperty("scroll-snap-type"),c.scrollTop=t+1,c.scrollLeft=l+1,c.scrollTop=t,c.scrollLeft=l),p.xPrev=p.x,p.yPrev=p.y,Ne&&Ne.update()},kill:function(h){var p=h==="scrollTo",v=this._props.indexOf(h);return(p||h==="scrollTo_x")&&(this.skipX=1),(p||h==="scrollTo_y")&&(this.skipY=1),v>-1&&this._props.splice(v,1),!this._props.length}};He.max=ke;He.getOffset=It;He.buildGetter=Be;Lt()&&ae.registerPlugin(He);const et=(A,h,p,v,c)=>parseFloat(((A-h)*(c-v)/(p-h)+v).toFixed(3)),ze=A=>{const h=parseFloat(getComputedStyle(document.documentElement).fontSize);return A/h};class fn{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}class dn{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this)),this.randomQuotes()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el)}randomQuotes(){const h=this.DOM.el.querySelector(".blog-quote-list");if(!h)return;const p=h.querySelectorAll(".blog-quote-item");if(!p)return;p.forEach(c=>{c.style.display="none"});const v=$t(0,p.length);p[v].style.display="block"}clear(){this.initParticles()}}class hn{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el)}clear(){this.initParticles()}}class pn{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el)}clear(){this.initParticles()}}class gn{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this)),this.handleExitedCaseStudiesDetails()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el)}clear(){this.initParticles()}handleExitedCaseStudiesDetails(){}}class mn{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}class vn{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this)),this.handleChangeBackgroundAccor(),this.heroVideoAction()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el),this.initMotion()}initMotion(){const h=this.DOM.el.querySelectorAll(".home-hero-brands-wrap");h.length&&h.forEach(p=>{new be({wrap:p,listSplide:p.querySelectorAll(".home-hero-brands")})})}clear(){this.initParticles()}heroVideoAction(){const h=this.DOM.el.querySelector(".product-tool-img-btn"),p=this.DOM.el.querySelector(".home-hero-poup-video"),v=this.DOM.el.querySelector(".home-hero--poup-ic"),c=this.DOM.el.querySelector(".home-hero-poup-video-content");if(!h||!p||!v||!c)return;h.addEventListener("click",()=>{p.classList.add("is-show")}),v.addEventListener("click",()=>e()),it({element:c,action:()=>e()});const e=()=>{p.classList.remove("is-show")}}handleChangeBackgroundAccor(){const h=this.DOM.el.querySelector(".products-accordion-inner");h&&h.addEventListener("click",()=>{h.querySelectorAll(".products-accordion-item").forEach(v=>{if(v.classList.contains("products-accor-item-active")){const e=v.getAttribute("bg-color");if(!e)return;h.style.backgroundColor=e}})})}}class xn{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}function rt(A){return typeof A=="number"}function tt(A){return typeof A=="string"}function Ge(A){return typeof A=="boolean"}function wt(A){return Object.prototype.toString.call(A)==="[object Object]"}function J(A){return Math.abs(A)}function ot(A){return Math.sign(A)}function Ie(A,h){return J(A-h)}function yn(A,h){if(A===0||h===0||J(A)<=J(h))return 0;const p=Ie(J(A),J(h));return J(p/A)}function Sn(A){return Math.round(A*100)/100}function Re(A){return Fe(A).map(Number)}function de(A){return A[qe(A)]}function qe(A){return Math.max(0,A.length-1)}function at(A,h){return h===qe(A)}function Dt(A,h=0){return Array.from(Array(A),(p,v)=>h+v)}function Fe(A){return Object.keys(A)}function bt(A,h){return[A,h].reduce((p,v)=>(Fe(v).forEach(c=>{const e=p[c],n=v[c],s=wt(e)&&wt(n);p[c]=s?bt(e,n):n}),p),{})}function nt(A,h){return typeof h.MouseEvent<"u"&&A instanceof h.MouseEvent}function Mn(A,h){const p={start:v,center:c,end:e};function v(){return 0}function c(i){return e(i)/2}function e(i){return h-i}function n(i,u){return tt(A)?p[A](i):A(h,i,u)}return{measure:n}}function Ve(){let A=[];function h(c,e,n,s={passive:!0}){let i;if("addEventListener"in c)c.addEventListener(e,n,s),i=()=>c.removeEventListener(e,n,s);else{const u=c;u.addListener(n),i=()=>u.removeListener(n)}return A.push(i),v}function p(){A=A.filter(c=>c())}const v={add:h,clear:p};return v}function wn(A,h,p,v){const c=Ve(),e=1e3/60;let n=null,s=0,i=0;function u(){c.add(A,"visibilitychange",()=>{A.hidden&&r()})}function o(){t(),c.clear()}function f(d){if(!i)return;n||(n=d,p(),p());const m=d-n;for(n=d,s+=m;s>=e;)p(),s-=e;const x=s/e;v(x),i&&(i=h.requestAnimationFrame(f))}function l(){i||(i=h.requestAnimationFrame(f))}function t(){h.cancelAnimationFrame(i),n=null,s=0,i=0}function r(){n=null,s=0}return{init:u,destroy:o,start:l,stop:t,update:p,render:v}}function Dn(A,h){const p=h==="rtl",v=A==="y",c=v?"y":"x",e=v?"x":"y",n=!v&&p?-1:1,s=o(),i=f();function u(r){const{height:a,width:d}=r;return v?a:d}function o(){return v?"top":p?"right":"left"}function f(){return v?"bottom":p?"left":"right"}function l(r){return r*n}return{scroll:c,cross:e,startEdge:s,endEdge:i,measureSize:u,direction:l}}function we(A=0,h=0){const p=J(A-h);function v(u){return u<A}function c(u){return u>h}function e(u){return v(u)||c(u)}function n(u){return e(u)?v(u)?A:h:u}function s(u){return p?u-p*Math.ceil((u-h)/p):u}return{length:p,max:h,min:A,constrain:n,reachedAny:e,reachedMax:c,reachedMin:v,removeOffset:s}}function kt(A,h,p){const{constrain:v}=we(0,A),c=A+1;let e=n(h);function n(l){return p?J((c+l)%c):v(l)}function s(){return e}function i(l){return e=n(l),f}function u(l){return o().set(s()+l)}function o(){return kt(A,s(),p)}const f={get:s,set:i,add:u,clone:o};return f}function Pn(A,h,p,v,c,e,n,s,i,u,o,f,l,t,r,a,d,m,x){const{cross:w,direction:C}=A,g=["INPUT","SELECT","TEXTAREA"],S={passive:!1},M=Ve(),y=Ve(),P=we(50,225).constrain(t.measure(20)),D={mouse:300,touch:400},O={mouse:500,touch:600},T=r?43:25;let L=!1,I=0,E=0,R=!1,k=!1,H=!1,q=!1;function X(B){if(!x)return;function $(re){(Ge(x)||x(B,re))&&W(re)}const j=h;M.add(j,"dragstart",re=>re.preventDefault(),S).add(j,"touchmove",()=>{},S).add(j,"touchend",()=>{}).add(j,"touchstart",$).add(j,"mousedown",$).add(j,"touchcancel",z).add(j,"contextmenu",z).add(j,"click",oe,!0)}function G(){M.clear(),y.clear()}function K(){const B=q?p:h;y.add(B,"touchmove",Q,S).add(B,"touchend",z).add(B,"mousemove",Q,S).add(B,"mouseup",z)}function Z(B){const $=B.nodeName||"";return g.includes($)}function te(){return(r?O:D)[q?"mouse":"touch"]}function se(B,$){const j=f.add(ot(B)*-1),re=o.byDistance(B,!r).distance;return r||J(B)<P?re:d&&$?re*.5:o.byIndex(j.get(),0).distance}function W(B){const $=nt(B,v);q=$,H=r&&$&&!B.buttons&&L,L=Ie(c.get(),n.get())>=2,!($&&B.button!==0)&&(Z(B.target)||(R=!0,e.pointerDown(B),u.useFriction(0).useDuration(0),c.set(n),K(),I=e.readPoint(B),E=e.readPoint(B,w),l.emit("pointerDown")))}function Q(B){if(!nt(B,v)&&B.touches.length>=2)return z(B);const j=e.readPoint(B),re=e.readPoint(B,w),le=Ie(j,I),ce=Ie(re,E);if(!k&&!q&&(!B.cancelable||(k=le>ce,!k)))return z(B);const ue=e.pointerMove(B);le>a&&(H=!0),u.useFriction(.3).useDuration(.75),s.start(),c.add(C(ue)),B.preventDefault()}function z(B){const j=o.byDistance(0,!1).index!==f.get(),re=e.pointerUp(B)*te(),le=se(C(re),j),ce=yn(re,le),ue=T-10*ce,ne=m+ce/50;k=!1,R=!1,y.clear(),u.useDuration(ue).useFriction(ne),i.distance(le,!r),q=!1,l.emit("pointerUp")}function oe(B){H&&(B.stopPropagation(),B.preventDefault(),H=!1)}function Y(){return R}return{init:X,destroy:G,pointerDown:Y}}function On(A,h){let v,c;function e(f){return f.timeStamp}function n(f,l){const r=`client${(l||A.scroll)==="x"?"X":"Y"}`;return(nt(f,h)?f:f.touches[0])[r]}function s(f){return v=f,c=f,n(f)}function i(f){const l=n(f)-n(c),t=e(f)-e(v)>170;return c=f,t&&(v=f),l}function u(f){if(!v||!c)return 0;const l=n(c)-n(v),t=e(f)-e(v),r=e(f)-e(c)>170,a=l/t;return t&&!r&&J(a)>.1?a:0}return{pointerDown:s,pointerMove:i,pointerUp:u,readPoint:n}}function Cn(){function A(p){const{offsetTop:v,offsetLeft:c,offsetWidth:e,offsetHeight:n}=p;return{top:v,right:c+e,bottom:v+n,left:c,width:e,height:n}}return{measure:A}}function Tn(A){function h(v){return A*(v/100)}return{measure:h}}function An(A,h,p,v,c,e,n){const s=[A].concat(v);let i,u,o=[],f=!1;function l(d){return c.measureSize(n.measure(d))}function t(d){if(!e)return;u=l(A),o=v.map(l);function m(x){for(const w of x){if(f)return;const C=w.target===A,g=v.indexOf(w.target),S=C?u:o[g],M=l(C?A:v[g]);if(J(M-S)>=.5){d.reInit(),h.emit("resize");break}}}i=new ResizeObserver(x=>{(Ge(e)||e(d,x))&&m(x)}),p.requestAnimationFrame(()=>{s.forEach(x=>i.observe(x))})}function r(){f=!0,i&&i.disconnect()}return{init:t,destroy:r}}function Ln(A,h,p,v,c,e){let n=0,s=0,i=c,u=e,o=A.get(),f=0;function l(){const S=v.get()-A.get(),M=!i;let y=0;return M?(n=0,p.set(v),A.set(v),y=S):(p.set(A),n+=S/i,n*=u,o+=n,A.add(n),y=o-f),s=ot(y),f=o,g}function t(){const S=v.get()-h.get();return J(S)<.001}function r(){return i}function a(){return s}function d(){return n}function m(){return w(c)}function x(){return C(e)}function w(S){return i=S,g}function C(S){return u=S,g}const g={direction:a,duration:r,velocity:d,seek:l,settled:t,useBaseFriction:x,useBaseDuration:m,useFriction:C,useDuration:w};return g}function En(A,h,p,v,c){const e=c.measure(10),n=c.measure(50),s=we(.1,.99);let i=!1;function u(){return!(i||!A.reachedAny(p.get())||!A.reachedAny(h.get()))}function o(t){if(!u())return;const r=A.reachedMin(h.get())?"min":"max",a=J(A[r]-h.get()),d=p.get()-h.get(),m=s.constrain(a/n);p.subtract(d*m),!t&&J(d)<e&&(p.set(A.constrain(p.get())),v.useDuration(25).useBaseFriction())}function f(t){i=!t}return{shouldConstrain:u,constrain:o,toggleActive:f}}function In(A,h,p,v,c){const e=we(-h+A,0),n=f(),s=o(),i=l();function u(r,a){return Ie(r,a)<=1}function o(){const r=n[0],a=de(n),d=n.lastIndexOf(r),m=n.indexOf(a)+1;return we(d,m)}function f(){return p.map((r,a)=>{const{min:d,max:m}=e,x=e.constrain(r),w=!a,C=at(p,a);return w?m:C||u(d,x)?d:u(m,x)?m:x}).map(r=>parseFloat(r.toFixed(3)))}function l(){if(h<=A+c)return[e.max];if(v==="keepSnaps")return n;const{min:r,max:a}=s;return n.slice(r,a)}return{snapsContained:i,scrollContainLimit:s}}function bn(A,h,p){const v=h[0],c=p?v-A:de(h);return{limit:we(c,v)}}function kn(A,h,p,v){const e=h.min+.1,n=h.max+.1,{reachedMin:s,reachedMax:i}=we(e,n);function u(l){return l===1?i(p.get()):l===-1?s(p.get()):!1}function o(l){if(!u(l))return;const t=A*(l*-1);v.forEach(r=>r.add(t))}return{loop:o}}function Bn(A){const{max:h,length:p}=A;function v(e){const n=e-h;return p?n/-p:0}return{get:v}}function Rn(A,h,p,v,c){const{startEdge:e,endEdge:n}=A,{groupSlides:s}=c,i=f().map(h.measure),u=l(),o=t();function f(){return s(v).map(a=>de(a)[n]-a[0][e]).map(J)}function l(){return v.map(a=>p[e]-a[e]).map(a=>-J(a))}function t(){return s(u).map(a=>a[0]).map((a,d)=>a+i[d])}return{snaps:u,snapsAligned:o}}function Fn(A,h,p,v,c,e){const{groupSlides:n}=c,{min:s,max:i}=v,u=o();function o(){const l=n(e),t=!A||h==="keepSnaps";return p.length===1?[e]:t?l:l.slice(s,i).map((r,a,d)=>{const m=!a,x=at(d,a);if(m){const w=de(d[0])+1;return Dt(w)}if(x){const w=qe(e)-de(d)[0]+1;return Dt(w,de(d)[0])}return r})}return{slideRegistry:u}}function Vn(A,h,p,v,c){const{reachedAny:e,removeOffset:n,constrain:s}=v;function i(r){return r.concat().sort((a,d)=>J(a)-J(d))[0]}function u(r){const a=A?n(r):s(r),d=h.map((x,w)=>({diff:o(x-a,0),index:w})).sort((x,w)=>J(x.diff)-J(w.diff)),{index:m}=d[0];return{index:m,distance:a}}function o(r,a){const d=[r,r+p,r-p];if(!A)return r;if(!a)return i(d);const m=d.filter(x=>ot(x)===a);return m.length?i(m):de(d)-p}function f(r,a){const d=h[r]-c.get(),m=o(d,a);return{index:r,distance:m}}function l(r,a){const d=c.get()+r,{index:m,distance:x}=u(d),w=!A&&e(d);if(!a||w)return{index:m,distance:r};const C=h[m]-x,g=r+o(C,0);return{index:m,distance:g}}return{byDistance:l,byIndex:f,shortcut:o}}function Hn(A,h,p,v,c,e,n){function s(f){const l=f.distance,t=f.index!==h.get();e.add(l),l&&(v.duration()?A.start():(A.update(),A.render(1),A.update())),t&&(p.set(h.get()),h.set(f.index),n.emit("select"))}function i(f,l){const t=c.byDistance(f,l);s(t)}function u(f,l){const t=h.clone().set(f),r=c.byIndex(t.get(),l);s(r)}return{distance:i,index:u}}function qn(A,h,p,v,c,e,n,s){const i={passive:!0,capture:!0};let u=0;function o(t){if(!s)return;function r(a){if(new Date().getTime()-u>10)return;n.emit("slideFocusStart"),A.scrollLeft=0;const x=p.findIndex(w=>w.includes(a));rt(x)&&(c.useDuration(0),v.index(x,0),n.emit("slideFocus"))}e.add(document,"keydown",f,!1),h.forEach((a,d)=>{e.add(a,"focus",m=>{(Ge(s)||s(t,m))&&r(d)},i)})}function f(t){t.code==="Tab"&&(u=new Date().getTime())}return{init:o}}function Ee(A){let h=A;function p(){return h}function v(i){h=n(i)}function c(i){h+=n(i)}function e(i){h-=n(i)}function n(i){return rt(i)?i:i.get()}return{get:p,set:v,add:c,subtract:e}}function Bt(A,h){const p=A.scroll==="x"?n:s,v=h.style;let c=null,e=!1;function n(l){return`translate3d(${l}px,0px,0px)`}function s(l){return`translate3d(0px,${l}px,0px)`}function i(l){if(e)return;const t=Sn(A.direction(l));t!==c&&(v.transform=p(t),c=t)}function u(l){e=!l}function o(){e||(v.transform="",h.getAttribute("style")||h.removeAttribute("style"))}return{clear:o,to:i,toggleActive:u}}function Wn(A,h,p,v,c,e,n,s,i){const o=Re(c),f=Re(c).reverse(),l=m().concat(x());function t(M,y){return M.reduce((P,D)=>P-c[D],y)}function r(M,y){return M.reduce((P,D)=>t(P,y)>0?P.concat([D]):P,[])}function a(M){return e.map((y,P)=>({start:y-v[P]+.5+M,end:y+h-.5+M}))}function d(M,y,P){const D=a(y);return M.map(O=>{const T=P?0:-p,L=P?p:0,I=P?"end":"start",E=D[O][I];return{index:O,loopPoint:E,slideLocation:Ee(-1),translate:Bt(A,i[O]),target:()=>s.get()>E?T:L}})}function m(){const M=n[0],y=r(f,M);return d(y,p,!1)}function x(){const M=h-n[0]-1,y=r(o,M);return d(y,-p,!0)}function w(){return l.every(({index:M})=>{const y=o.filter(P=>P!==M);return t(y,h)<=.1})}function C(){l.forEach(M=>{const{target:y,translate:P,slideLocation:D}=M,O=y();O!==D.get()&&(P.to(O),D.set(O))})}function g(){l.forEach(M=>M.translate.clear())}return{canLoop:w,clear:g,loop:C,loopPoints:l}}function Un(A,h,p){let v,c=!1;function e(i){if(!p)return;function u(o){for(const f of o)if(f.type==="childList"){i.reInit(),h.emit("slidesChanged");break}}v=new MutationObserver(o=>{c||(Ge(p)||p(i,o))&&u(o)}),v.observe(A,{childList:!0})}function n(){v&&v.disconnect(),c=!0}return{init:e,destroy:n}}function Nn(A,h,p,v){const c={};let e=null,n=null,s,i=!1;function u(){s=new IntersectionObserver(r=>{i||(r.forEach(a=>{const d=h.indexOf(a.target);c[d]=a}),e=null,n=null,p.emit("slidesInView"))},{root:A.parentElement,threshold:v}),h.forEach(r=>s.observe(r))}function o(){s&&s.disconnect(),i=!0}function f(r){return Fe(c).reduce((a,d)=>{const m=parseInt(d),{isIntersecting:x}=c[m];return(r&&x||!r&&!x)&&a.push(m),a},[])}function l(r=!0){if(r&&e)return e;if(!r&&n)return n;const a=f(r);return r&&(e=a),r||(n=a),a}return{init:u,destroy:o,get:l}}function zn(A,h,p,v,c,e){const{measureSize:n,startEdge:s,endEdge:i}=A,u=p[0]&&c,o=r(),f=a(),l=p.map(n),t=d();function r(){if(!u)return 0;const x=p[0];return J(h[s]-x[s])}function a(){if(!u)return 0;const x=e.getComputedStyle(de(v));return parseFloat(x.getPropertyValue(`margin-${i}`))}function d(){return p.map((x,w,C)=>{const g=!w,S=at(C,w);return g?l[w]+o:S?l[w]+f:C[w+1][s]-x[s]}).map(J)}return{slideSizes:l,slideSizesWithGaps:t,startGap:o,endGap:f}}function Gn(A,h,p,v,c,e,n,s,i){const{startEdge:u,endEdge:o,direction:f}=A,l=rt(p);function t(m,x){return Re(m).filter(w=>w%x===0).map(w=>m.slice(w,w+x))}function r(m){return m.length?Re(m).reduce((x,w,C)=>{const g=de(x)||0,S=g===0,M=w===qe(m),y=c[u]-e[g][u],P=c[u]-e[w][o],D=!v&&S?f(n):0,O=!v&&M?f(s):0,T=J(P-O-(y+D));return C&&T>h+i&&x.push(w),M&&x.push(m.length),x},[]).map((x,w,C)=>{const g=Math.max(C[w-1]||0);return m.slice(g,x)}):[]}function a(m){return l?t(m,p):r(m)}return{groupSlides:a}}function $n(A,h,p,v,c,e,n){const{align:s,axis:i,direction:u,startIndex:o,loop:f,duration:l,dragFree:t,dragThreshold:r,inViewThreshold:a,slidesToScroll:d,skipSnaps:m,containScroll:x,watchResize:w,watchSlides:C,watchDrag:g,watchFocus:S}=e,M=2,y=Cn(),P=y.measure(h),D=p.map(y.measure),O=Dn(i,u),T=O.measureSize(P),L=Tn(T),I=Mn(s,T),E=!f&&!!x,R=f||!!x,{slideSizes:k,slideSizesWithGaps:H,startGap:q,endGap:X}=zn(O,P,D,p,R,c),G=Gn(O,T,d,f,P,D,q,X,M),{snaps:K,snapsAligned:Z}=Rn(O,I,P,D,G),te=-de(K)+de(H),{snapsContained:se,scrollContainLimit:W}=In(T,te,Z,x,M),Q=E?se:Z,{limit:z}=bn(te,Q,f),oe=kt(qe(Q),o,f),Y=oe.clone(),N=Re(p),B=({dragHandler:fe,scrollBody:Qe,scrollBounds:Ke,options:{loop:Ue}})=>{Ue||Ke.constrain(fe.pointerDown()),Qe.seek()},$=({scrollBody:fe,translate:Qe,location:Ke,offsetLocation:Ue,previousLocation:Rt,scrollLooper:Ft,slideLooper:Vt,dragHandler:Ht,animation:qt,eventHandler:lt,scrollBounds:Wt,options:{loop:ct}},ut)=>{const ft=fe.settled(),Ut=!Wt.shouldConstrain(),dt=ct?ft:ft&&Ut,ht=dt&&!Ht.pointerDown();ht&&qt.stop();const Nt=Ke.get()*ut+Rt.get()*(1-ut);Ue.set(Nt),ct&&(Ft.loop(fe.direction()),Vt.loop()),Qe.to(Ue.get()),ht&&lt.emit("settle"),dt||lt.emit("scroll")},j=wn(v,c,()=>B(xe),fe=>$(xe,fe)),re=.68,le=Q[oe.get()],ce=Ee(le),ue=Ee(le),ne=Ee(le),he=Ee(le),me=Ln(ce,ne,ue,he,l,re),De=Vn(f,Q,te,z,he),Pe=Hn(j,oe,Y,me,De,he,n),Ae=Bn(z),Le=Ve(),Oe=Nn(h,p,n,a),{slideRegistry:We}=Fn(E,x,Q,W,G,N),Xe=qn(A,p,We,Pe,me,Le,n,S),xe={ownerDocument:v,ownerWindow:c,eventHandler:n,containerRect:P,slideRects:D,animation:j,axis:O,dragHandler:Pn(O,A,v,c,he,On(O,c),ce,j,Pe,me,De,oe,n,L,t,r,m,re,g),eventStore:Le,percentOfView:L,index:oe,indexPrevious:Y,limit:z,location:ce,offsetLocation:ne,previousLocation:ue,options:e,resizeHandler:An(h,n,c,p,O,w,y),scrollBody:me,scrollBounds:En(z,ne,he,me,L),scrollLooper:kn(te,z,ne,[ce,ne,ue,he]),scrollProgress:Ae,scrollSnapList:Q.map(Ae.get),scrollSnaps:Q,scrollTarget:De,scrollTo:Pe,slideLooper:Wn(O,T,te,k,H,K,Q,ne,p),slideFocus:Xe,slidesHandler:Un(h,n,C),slidesInView:Oe,slideIndexes:N,slideRegistry:We,slidesToScroll:G,target:he,translate:Bt(O,h)};return xe}function Xn(){let A={},h;function p(u){h=u}function v(u){return A[u]||[]}function c(u){return v(u).forEach(o=>o(h,u)),i}function e(u,o){return A[u]=v(u).concat([o]),i}function n(u,o){return A[u]=v(u).filter(f=>f!==o),i}function s(){A={}}const i={init:p,emit:c,off:n,on:e,clear:s};return i}const Qn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Kn(A){function h(e,n){return bt(e,n||{})}function p(e){const n=e.breakpoints||{},s=Fe(n).filter(i=>A.matchMedia(i).matches).map(i=>n[i]).reduce((i,u)=>h(i,u),{});return h(e,s)}function v(e){return e.map(n=>Fe(n.breakpoints||{})).reduce((n,s)=>n.concat(s),[]).map(A.matchMedia)}return{mergeOptions:h,optionsAtMedia:p,optionsMediaQueries:v}}function Yn(A){let h=[];function p(e,n){return h=n.filter(({options:s})=>A.optionsAtMedia(s).active!==!1),h.forEach(s=>s.init(e,A)),n.reduce((s,i)=>Object.assign(s,{[i.name]:i}),{})}function v(){h=h.filter(e=>e.destroy())}return{init:p,destroy:v}}function $e(A,h,p){const v=A.ownerDocument,c=v.defaultView,e=Kn(c),n=Yn(e),s=Ve(),i=Xn(),{mergeOptions:u,optionsAtMedia:o,optionsMediaQueries:f}=e,{on:l,off:t,emit:r}=i,a=O;let d=!1,m,x=u(Qn,$e.globalOptions),w=u(x),C=[],g,S,M;function y(){const{container:N,slides:B}=w;S=(tt(N)?A.querySelector(N):N)||A.children[0];const j=tt(B)?S.querySelectorAll(B):B;M=[].slice.call(j||S.children)}function P(N){const B=$n(A,S,M,v,c,N,i);if(N.loop&&!B.slideLooper.canLoop()){const $=Object.assign({},N,{loop:!1});return P($)}return B}function D(N,B){d||(x=u(x,N),w=o(x),C=B||C,y(),m=P(w),f([x,...C.map(({options:$})=>$)]).forEach($=>s.add($,"change",O)),w.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(Y),m.eventHandler.init(Y),m.resizeHandler.init(Y),m.slidesHandler.init(Y),m.options.loop&&m.slideLooper.loop(),S.offsetParent&&M.length&&m.dragHandler.init(Y),g=n.init(Y,C)))}function O(N,B){const $=G();T(),D(u({startIndex:$},N),B),i.emit("reInit")}function T(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),n.destroy(),s.clear()}function L(){d||(d=!0,s.clear(),T(),i.emit("destroy"),i.clear())}function I(N,B,$){!w.active||d||(m.scrollBody.useBaseFriction().useDuration(B===!0?0:w.duration),m.scrollTo.index(N,$||0))}function E(N){const B=m.index.add(1).get();I(B,N,-1)}function R(N){const B=m.index.add(-1).get();I(B,N,1)}function k(){return m.index.add(1).get()!==G()}function H(){return m.index.add(-1).get()!==G()}function q(){return m.scrollSnapList}function X(){return m.scrollProgress.get(m.offsetLocation.get())}function G(){return m.index.get()}function K(){return m.indexPrevious.get()}function Z(){return m.slidesInView.get()}function te(){return m.slidesInView.get(!1)}function se(){return g}function W(){return m}function Q(){return A}function z(){return S}function oe(){return M}const Y={canScrollNext:k,canScrollPrev:H,containerNode:z,internalEngine:W,destroy:L,off:t,on:l,emit:r,plugins:se,previousScrollSnap:K,reInit:a,rootNode:Q,scrollNext:E,scrollPrev:R,scrollProgress:X,scrollSnapList:q,scrollTo:I,selectedScrollSnap:G,slideNodes:oe,slidesInView:Z,slidesNotInView:te};return D(h,p),setTimeout(()=>i.emit("init"),0),Y}$e.globalOptions=void 0;class Jn{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this)),this.appendSlide(".article-more-cards","btn-cate-prev","btn-cate-next")}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}appendSlide(h,p,v){const c=document.querySelector(h),e=$e(c,{align:"start",skipSnaps:!1}),n=document.getElementById(p),s=document.getElementById(v),i=()=>{n==null||n.classList.toggle("disabled",!e.canScrollPrev()),s==null||s.classList.toggle("disabled",!e.canScrollNext())};e.on("select",i),e.on("reInit",i),i(),n==null||n.addEventListener("click",()=>e.scrollPrev()),s==null||s.addEventListener("click",()=>e.scrollNext())}clear(){this.initParticles()}}class Zn{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this)),this.appendSlide(".embla-cate","btn-cate-prev","btn-cate-next"),this.appendSlide(".embla-cs-slide","btn-case-studies-prev","btn-case-studies-next"),this.appendSlide(".embla-la-slide","btn-la-prev","btn-la-next"),this.appendSlide(".embla-video-hub-slide","btn-video-hub-prev","btn-video-hub-next")}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}appendSlide(h,p,v){const c=document.querySelector(h),e=$e(c,{align:"start",skipSnaps:!1}),n=document.getElementById(p),s=document.getElementById(v),i=()=>{n==null||n.classList.toggle("disabled",!e.canScrollPrev()),s==null||s.classList.toggle("disabled",!e.canScrollNext())};e.on("select",i),e.on("reInit",i),i(),n==null||n.addEventListener("click",()=>e.scrollPrev()),s==null||s.addEventListener("click",()=>e.scrollNext())}clear(){this.initParticles()}}class jn{constructor(h){V(this,"DOM");this.DOM={el:h},U.emit(Te),this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this))}initForm(){var v;const h=(v=this.DOM.el.querySelector("form"))==null?void 0:v.querySelector('input[name="userCount"]'),p=JSON.parse(localStorage.getItem("countUser")||"0");!p||!h||(h.value=p)}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el),this.initForm()}clear(){this.initParticles()}}class _n{constructor(h){V(this,"DOM");this.DOM={el:h},U.emit(Te),console.log("solution enter"),this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this)),this.handleChangeBackgroundAccor(),this.handleChangeImageAccor(),this.heroVideoAction()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el),this.initMotion()}initMotion(){const h=this.DOM.el.querySelectorAll(".home-hero-brands-wrap");h.length&&h.forEach(p=>{new be({wrap:p,listSplide:p.querySelectorAll(".home-hero-brands")})})}clear(){this.initParticles()}heroVideoAction(){const h=this.DOM.el.querySelector(".product-tool-img-btn"),p=this.DOM.el.querySelector(".home-hero-poup-video"),v=this.DOM.el.querySelector(".home-hero--poup-ic"),c=this.DOM.el.querySelector(".home-hero-poup-video-content");if(!h||!p||!v||!c)return;h.addEventListener("click",()=>{p.classList.add("is-show")}),v.addEventListener("click",()=>e()),it({element:c,action:()=>e()});const e=()=>{p.classList.remove("is-show")}}handleChangeBackgroundAccor(){const h=this.DOM.el.querySelector(".products-accordion-inner");h&&h.addEventListener("click",()=>{h.querySelectorAll(".products-accordion-item").forEach(v=>{if(v.classList.contains("products-accor-item-active")){const e=v.getAttribute("bg-color");if(!e)return;h.style.backgroundColor=e}})})}handleChangeImageAccor(){const h=Array.from(this.DOM.el.querySelectorAll(".solution-contracts-accordinale-item")),p=this.DOM.el.querySelectorAll(".solution-contracts-accordinale-img");h.forEach((v,c)=>{v.addEventListener("click",()=>{h.findIndex(s=>s.classList.contains("is-active-accordion"))===-1?p.forEach(s=>{F.to(s,{opacity:0,duration:.4,ease:"power3.out"})}):e(c)});const e=n=>{p.forEach((s,i)=>{n===i?F.to(s,{opacity:1,duration:.8,ease:"power3.out"}):F.to(s,{opacity:0,duration:.8,ease:"power3.out"})})};e(0)})}}class ei{constructor(){V(this,"DOM");this.DOM={el:document.querySelector(".footer")},this.DOM.el&&(this.hander(),this.initMotion())}initMotion(){this.DOM.el&&(b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el))}hander(){var p;const h=(p=this.DOM.el)==null?void 0:p.querySelector(".footer-bottom-inner-back");F.registerPlugin(He),h==null||h.addEventListener("click",()=>{F.to(window,{scrollTo:0,duration:1.2,ease:"power3.inOut"})})}movingImageFooter(){var n,s,i,u,o;const h=(n=this.DOM.el)==null?void 0:n.querySelector(".footer-middle-inner-img"),p=(s=this.DOM.el)==null?void 0:s.querySelector(".footer-middle-list-imgs");new st({el:p,offset:25,direction:1,scale:1.3});const v=(i=this.DOM.el)==null?void 0:i.querySelectorAll(".footer-middle-list-imgs-item"),c=F.quickTo(h,"x",{duration:.9,ease:"power3.out"}),e=f=>{v==null||v.forEach((l,t)=>{t===f?F.to(l,{opacity:1,ease:"power3.out",duration:.6,willChange:"opacity"}):F.to(l,{opacity:0,ease:"power3.out",duration:.6})})};e(1),h.style.willChange="transform",(u=this.DOM.el)==null||u.addEventListener("mousemove",f=>{if(!this.DOM.el)return;const l=f.pageX,t=et(l,0,window.innerWidth,-1,1),r=Math.floor(et(l,0,window.innerWidth,0,(v==null?void 0:v.length)||3)),a=(this.DOM.el.clientWidth-h.clientWidth)/2;c(t*a),e(r)}),(o=this.DOM.el)==null||o.addEventListener("mouseleave",()=>{c(0),e(1)})}resetMovingImageFooter(){}}class ti{constructor(){V(this,"DOM");V(this,"isOpenMenu");this.DOM={el:document.querySelector(".header-container"),footer:document.querySelector(".footer")},this.isOpenMenu=!1,this.show(),this.handleDropdownToggle(),this.handleOpenNavMobile()}show(){var u,o,f;let h=0;const p=((u=this.DOM.el)==null?void 0:u.getAttribute("data-type"))==="light";let v;if(!this.DOM.el)return;let c=!1,e=!1;const n=this.DOM.el.querySelector(".header-dropdown-overlay"),s=()=>{var l;clearTimeout(v),(l=this.DOM.el)==null||l.classList.add("scrollDown"),e=!0},i=()=>{clearTimeout(v),F.killTweensOf(n),F.to(n,{opacity:0,ease:"power3.out",overwrite:"auto",duration:.8}),this.handleResetDropdown(),v=setTimeout(()=>{var l;e=!1,c||(l=this.DOM.el)==null||l.classList.remove("scrollDown")},550)};(o=this.DOM.el)==null||o.addEventListener("mouseenter",s),(f=this.DOM.el)==null||f.addEventListener("mouseleave",i),window.addEventListener("scroll",()=>{var m;if(!this.DOM.el)return;const l=window.pageYOffset||document.documentElement.scrollTop||0;c=l>this.DOM.el.clientHeight;const t=((m=this.DOM.footer)==null?void 0:m.getBoundingClientRect().y)-this.DOM.el.clientHeight<0,a=h<l&&l>this.DOM.el.clientHeight*2||t,d=h>l&&!t;if(a)this.DOM.el.classList.add("hidden"),this.handleResetDropdown();else if(d)if(this.DOM.el.classList.remove("hidden"),c)this.DOM.el.classList.add("scrollDown");else{if(e)return;this.DOM.el.classList.remove("scrollDown")}h=l,l>20?F.to(this.DOM.el,{backgroundColor:p?"#011623":"#fff",boxShadow:"0 0 10px 0 rgba(0, 0, 0, 0.1)",ease:"power3.out",overwrite:"auto"}):F.to(this.DOM.el,{backgroundColor:"transparent",boxShadow:"none",ease:"power3.out",overwrite:"auto"})})}handleResetDropdown(){if(!this.DOM.el)return;this.DOM.el.querySelectorAll(".header-main-menu-dropdown").forEach(p=>{const v=p.querySelector(".header-main-menu-dropdown-ic"),c=p.querySelector(".header-dropdown");!v||!c||(F.killTweensOf([c,v]),F.to(v,{ease:"power3.out",duration:.4,rotate:0,overwrite:"auto"}),F.to(c,{ease:"power3.out",y:50,boxShadow:"none",pointerEvents:"none",opacity:0,zIndex:1,overwrite:"auto"}))})}handleDropdownToggle(){if(!this.DOM.el)return;this.DOM.el.querySelectorAll(".header-main-menu-dropdown").forEach(p=>{const v=p.querySelector(".header-main-menu-dropdown-ic"),c=p.querySelector(".header-dropdown");F.set(".header-dropdown",{y:50});const e=()=>{F.killTweensOf([c,v]),F.killTweensOf(p),F.to(v,{ease:"power3.out",duration:.4,rotate:180,overwrite:"auto"}),F.to(c,{ease:"power3.out",opacity:1,boxShadow:"0 0 10px 0 rgba(0, 0, 0, 0.1)",y:0,pointerEvents:"all",overwrite:"auto",zIndex:2})};Xt(()=>{p.addEventListener("mouseenter",e),p.addEventListener("mouseleave",this.handleResetDropdown.bind(this))})})}handleIconToggleMobile(h){var v;const p=(v=this.DOM.el)==null?void 0:v.querySelectorAll(".header-btn-menu-icon-line");p&&(h?(F.to(p[0],{ease:"power3",duration:.4,transformOrigin:"center center",rotate:45,y:"0.25rem",overwrite:"auto"}),F.to(p[1],{ease:"power3",duration:.4,rotate:-45,y:"-0.25rem",transformOrigin:"center center",overwrite:"auto"})):(F.to(p[0],{ease:"power3",duration:.4,transformOrigin:"center center",rotate:0,y:0,overwrite:"auto"}),F.to(p[1],{ease:"power3",duration:.4,rotate:0,y:0,transformOrigin:"center center",overwrite:"auto"})))}handleOpenNavMobile(){var v,c;const h=(v=this.DOM.el)==null?void 0:v.querySelector(".header-btn-menu"),p=(c=this.DOM.el)==null?void 0:c.querySelector(".header-mobile-nav");!h||!p||(F.set(p,{opacity:0,xPercent:100,pointerEvents:"none",overwrite:"auto"}),h.addEventListener("click",()=>{var e,n;if(this.isOpenMenu){this.isOpenMenu=!1,(e=this.DOM.el)==null||e.classList.remove("isOpenMenu"),Ze.enabled(),this.handleIconToggleMobile(!1),F.to(p,{opacity:0,duration:.6,xPercent:100,ease:"power3.out",pointerEvents:"none",overwrite:"auto"});return}else this.isOpenMenu=!0,(n=this.DOM.el)==null||n.classList.add("isOpenMenu"),Ze.disabled(),this.handleIconToggleMobile(!0),F.to(p,{opacity:1,xPercent:0,pointerEvents:"all",duration:.6,ease:"power3.out",overwrite:"auto"})}))}}const ni=({el:A,isGsap:h=!0,isDebug:p,inScreen:v,onEnterBack:c,outScreen:e,threshold:n=0,onToggle:s,onToggleOb:i,start:u,end:o})=>{let f=!1,l=null,t;return!Qt()||h?pt(()=>{l=Me.create({trigger:A,start:u||`top+=${n*100}% bottom`,end:o||"bottom top",markers:p,onToggle:d=>{f=d.isActive,s&&s(d),f?v&&v():e&&e()},onEnterBack:c,invalidateOnRefresh:!0})}):pt(()=>{t=new IntersectionObserver(d=>{f=d[0].isIntersecting,i&&i(f),f?v&&v():e&&e()},{threshold:n}),t.observe(A)}),{isInViewPointer:()=>f,removeOb:()=>{t&&(t.unobserve(A),t.disconnect()),f=!1,l==null||l.kill(),l=null}}};class ii{constructor(){V(this,"DOM");V(this,"isReady");V(this,"inited");V(this,"windowIsBlur");V(this,"isSimpleLoader");V(this,"minProgress");V(this,"processing");V(this,"registerCount");V(this,"lowNet");V(this,"strokeDashoffset");V(this,"obServerAPI");V(this,"idAnimationLoop");V(this,"runAnimation");V(this,"delayPageEnter");V(this,"delaLoadingOut");this.registerLoader=this.registerLoader.bind(this),this.unRegisterLoader=this.unRegisterLoader.bind(this),this.init()}init(){this.DOM={main:document.querySelector(".page-loading")},document.body.classList.add("js-ready","is-loading"),U.emit(Kt),this.inited=!!this.DOM.main,this.isReady=!1,this.windowIsBlur=!1,this.isSimpleLoader=!1,this.minProgress=98,this.delayPageEnter=1.2,this.delaLoadingOut=.3,this.processing={delta:0,percentStuck:0,runWidth:0},this.registerCount=0,this.lowNet=0,this.strokeDashoffset=829,this.hideLoading=this.hideLoading.bind(this),Yt(()=>(U.on(mt,this.registerLoader),U.on(vt,this.unRegisterLoader),window.addEventListener("DOMContentLoaded",this.hideLoading),()=>{U.off(mt,this.registerLoader),U.off(vt,this.unRegisterLoader),window.removeEventListener("DOMContentLoaded",this.hideLoading)}))}simpleLoaded(){var h;(h=this.DOM.main)==null||h.classList.add("is-simple"),this.isSimpleLoader=!0,this.pageLoaded()}simple(){this.obServerAPI=ni({el:document.body}),this.isSimpleLoader=!0,this.isReady=!0,U.emit(Jt),document.body.classList.add("is-ready")}hideLoading(){U.emit(Zt)}hide(){jt(()=>{this.DOM.main&&(this.DOM.main.style.visibility="hidden")})}async pageLoaded(){var h,p;if(this.idAnimationLoop&&cancelAnimationFrame(this.idAnimationLoop),document.body.classList.remove("is-loading"),document.body.classList.remove("is-simple"),U.emit(ee),U.emit(_t),this.isSimpleLoader){if(!this.DOM.main)return;if(((h=document.querySelector(".main"))==null?void 0:h.getAttribute("data-page"))==="home"){const c=F.timeline(),e=this.DOM.main.querySelector(".page-loading-content-first"),n=new en(e,{types:"words, lines"}),s=(p=this.DOM.main.querySelector(".page-loading-content-logo"))==null?void 0:p.querySelector("img");e.classList.add("text__mask"),n.lines&&n.lines.forEach(i=>{const u=document.createElement("div");u.appendChild(i),u.classList.add("line__mask"),e.appendChild(u)}),F.set(".page-loading-content-first",{opacity:1,onComplete:()=>{var i;(i=n.lines)!=null&&i.length&&F.set(n.lines,{y:"110%"})}}),c.to(n.lines,{y:"0%",duration:1.2,ease:"power3.out",stagger:.1}).to(n.lines,{y:"-110%",duration:1.2,ease:"power3.inOut"}).to(s,{y:"0%",duration:.8,ease:"power3.out"},"-=0.55").to(s,{y:"-110%",overwrite:"auto",duration:.8,ease:"power3.inOut"}),c.to(this.DOM.main,{opacity:0,duration:this.delayPageEnter,ease:"power3.inOut",onStart:()=>{document.body.classList.remove("is-loading")},onComplete:()=>{setTimeout(()=>this.hide(),100)}}),setTimeout(()=>{U.emit(Te),U.emit(gt)},3750)}else F.to(this.DOM.main,{opacity:0,duration:this.delayPageEnter,ease:"power3.inOut",onStart:()=>{document.body.classList.remove("is-loading")},onComplete:()=>{setTimeout(()=>this.hide(),100)}}),setTimeout(()=>{U.emit(Te),U.emit(gt)},250)}}registerLoader(){this.registerCount++}unRegisterLoader(){this.registerCount--}}const Pt=new ii;class si{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el),this.handleStackCard()}clear(){this.initParticles()}handleStackCard(){var t;const h=this.DOM.el.querySelector(".about-vision-sticky-inner"),p=this.DOM.el.querySelector(".about-vision-sticky-left"),v=p.querySelectorAll(".about-sticky-left-card"),c=this.DOM.el.querySelector(".about-vision-sticky-right-inner"),e=(t=this.DOM.el.querySelector(".about-vision-sticky-right-inner"))==null?void 0:t.querySelectorAll(".about-sticky-right-img"),n=ze((window.innerHeight-c.clientHeight)/2),s=this.DOM.el.querySelector(".about-vision-sticky-left-wrap"),i=v[v.length-1];this.DOM.listImagesDesk=e;const u=ze((c.clientHeight-_(3.2)*2)/v.length),o=(v.length-1)*u+ze(i.clientHeight)+3.2*(v.length-1),f=ze(window.innerHeight)-n;je?(()=>{const r=F.timeline({scrollTrigger:{trigger:".about-vision-sticky",start:"top top",end(){return"bottom bottom"},scrub:1,onUpdate:x=>{const{progress:w}=x,C=Math.round(_e(w,0,1,0,v.length-1));m(C)}}});F.timeline({scrollTrigger:{trigger:".about-vision-sticky",start:"top top",end:"bottom bottom",scrub:1}}).to(p,{y:`-${o-f+n}rem`}),(x=>{v.forEach((w,C)=>{C!==2&&r.to(w,{height:`${u}rem`,ease:"none",overwrite:"auto"})})})();const m=x=>{!je||!(e!=null&&e.length)||e.forEach((w,C)=>{C===x?(F.killTweensOf(w),F.to(w,{opacity:1,ease:"power3",duration:.8})):F.to(w,{opacity:0,ease:"power3",duration:.8})})};m(0),h.style.top=`${n}rem`,s.style.height=`${window.innerHeight-_(n)}px`,s.style.marginBottom=`${-n}rem`})():this.handleReplaceUrlImg()}handleReplaceUrlImg(){var v;const h=this.DOM.el.querySelectorAll(".about-img-mb"),p=(v=this.DOM.el.querySelector(".about-vision-sticky-right-inner"))==null?void 0:v.querySelectorAll(".about-sticky-right-img");h.forEach((c,e)=>{var u,o;const n=c.querySelector("img");if(!p.length||!n)return;const s=(u=p[e].querySelector("img"))==null?void 0:u.getAttribute("src"),i=(o=p[e].querySelector("img"))==null?void 0:o.getAttribute("srcset");s&&i&&(n.setAttribute("src",s),n.setAttribute("srcset",i))})}}class ri{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this))}clear(){this.initParticles()}initParticles(){var i;const h=this.DOM.el.querySelector(".articles-show"),p=h==null?void 0:h.querySelectorAll(".text-support-center"),v=window.location.pathname.split("/"),c=v[v.length-1],e=this.DOM.el.querySelector(".sc-text-name");if(!document.referrer.includes("support-center"))p==null||p.forEach(u=>{var l,t,r,a;const o=(l=u.parentElement)==null?void 0:l.querySelectorAll(".text-article-child"),f=o&&Array.from(o);if(!(!o||!e||!u.textContent||!f)){for(let d=0;d<f.length;d++)if(f[d].textContent===c){const x=(t=u==null?void 0:u.parentElement)==null?void 0:t.querySelector(".text-support-center");if(!x)return;(a=e.parentElement)==null||a.setAttribute("href",`/support-center/${(r=x.textContent)==null?void 0:r.toLowerCase().split(" ").join("-")}`),e.innerHTML=x.textContent;break}}});else{const u=localStorage.getItem("sc-category");if(!u||!e)return;e.innerHTML=u,(i=e.parentElement)==null||i.setAttribute("href",`/support-center/${u==null?void 0:u.toLowerCase().split(" ").join("-")}`)}}}class oi{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this))}initParticles(){this.initMotion(),this.handleDrawLine(),this.handleAction()}handleDrawLine(){const h=this.DOM.el.querySelectorAll(".changelog-item");Me.refresh(),h.forEach((p,v)=>{const c=p.querySelector(".line-draws");if(c&&(c.style.willChange="transform",Me.create({trigger:p,start:()=>`top ${v===0?"bottom":"center"}`,scrub:1,end:"bottom center",onUpdate:({progress:e})=>{c.style.transform=`scaleY(${e})`}}),v>3)){const e=p.querySelectorAll(".js-fade"),n=p.querySelectorAll(".js-text-mask");setTimeout(()=>{e.forEach((s,i)=>{new tn(s,{delay:i/10})}),n.forEach(s=>{new nn(s,{delay:.05})})},100)}})}handleAction(){const h=this.DOM.el.querySelector(".changelog-more");h==null||h.addEventListener("click",()=>{setTimeout(()=>{this.handleDrawLine()},300)}),this.handleSubmit()}handleSubmit(){const h=this.DOM.el.querySelectorAll(".changelog-detail-right-btn-wrap"),p=this.DOM.el.querySelector('input[name="type"]'),v=this.DOM.el.querySelector('input[name="link"]');h.forEach(c=>{c.addEventListener("click",()=>{var n;const e=(n=c.querySelector("[data-type-access]"))==null?void 0:n.getAttribute("data-type-access");p.value=e||"",v.value=location.href,c.classList.add("active")})})}initMotion(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}class ai{constructor(h){V(this,"DOM");this.DOM={wrapper:h.querySelector(".home-feature-cards"),listCards:h.querySelectorAll(".home-feature-card")},this.init()}init(){this.DOM.listCards.forEach((h,p,v)=>{if(!je)return;const c=v[0].clientHeight,e=(window.innerHeight-c)/2,n=v.length*_(8),s=et(p,0,v.length-1,.8125,1);h.style.top=`${e+n}px`,h.style.transform=`translateY(-${(v.length-p)*_(8)}px)`,F.timeline({scrollTrigger:{trigger:h,start:()=>"top center",end:`+=${(v.length-p)*c} `,scrub:1}}).to(h,{scale:s,transformOrigin:"top center",ease:"none"},0)})}}var ye={},li={get exports(){return ye},set exports(A){ye=A}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(A,h){(function(v,c){A.exports=c()})(Ye,function(){return function(p){var v={};function c(e){if(v[e])return v[e].exports;var n=v[e]={i:e,l:!1,exports:{}};return p[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}return c.m=p,c.c=v,c.d=function(e,n,s){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:s})},c.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(n&1&&(e=c(e)),n&8||n&4&&typeof e=="object"&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),n&2&&typeof e!="string")for(var i in e)c.d(s,i,function(u){return e[u]}.bind(null,i));return s},c.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="",c(c.s=20)}([function(p,v){var c={};p.exports=c,function(){c._baseDelta=1e3/60,c._nextId=0,c._seed=0,c._nowStartTime=+new Date,c._warnedOnce={},c._decomp=null,c.extend=function(n,s){var i,u;typeof s=="boolean"?(i=2,u=s):(i=1,u=!0);for(var o=i;o<arguments.length;o++){var f=arguments[o];if(f)for(var l in f)u&&f[l]&&f[l].constructor===Object&&(!n[l]||n[l].constructor===Object)?(n[l]=n[l]||{},c.extend(n[l],u,f[l])):n[l]=f[l]}return n},c.clone=function(n,s){return c.extend({},s,n)},c.keys=function(n){if(Object.keys)return Object.keys(n);var s=[];for(var i in n)s.push(i);return s},c.values=function(n){var s=[];if(Object.keys){for(var i=Object.keys(n),u=0;u<i.length;u++)s.push(n[i[u]]);return s}for(var o in n)s.push(n[o]);return s},c.get=function(n,s,i,u){s=s.split(".").slice(i,u);for(var o=0;o<s.length;o+=1)n=n[s[o]];return n},c.set=function(n,s,i,u,o){var f=s.split(".").slice(u,o);return c.get(n,s,0,-1)[f[f.length-1]]=i,i},c.shuffle=function(n){for(var s=n.length-1;s>0;s--){var i=Math.floor(c.random()*(s+1)),u=n[s];n[s]=n[i],n[i]=u}return n},c.choose=function(n){return n[Math.floor(c.random()*n.length)]},c.isElement=function(n){return typeof HTMLElement<"u"?n instanceof HTMLElement:!!(n&&n.nodeType&&n.nodeName)},c.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"},c.isFunction=function(n){return typeof n=="function"},c.isPlainObject=function(n){return typeof n=="object"&&n.constructor===Object},c.isString=function(n){return toString.call(n)==="[object String]"},c.clamp=function(n,s,i){return n<s?s:n>i?i:n},c.sign=function(n){return n<0?-1:1},c.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-c._nowStartTime},c.random=function(n,s){return n=typeof n<"u"?n:0,s=typeof s<"u"?s:1,n+e()*(s-n)};var e=function(){return c._seed=(c._seed*9301+49297)%233280,c._seed/233280};c.colorToNumber=function(n){return n=n.replace("#",""),n.length==3&&(n=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)),parseInt(n,16)},c.logLevel=1,c.log=function(){console&&c.logLevel>0&&c.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.info=function(){console&&c.logLevel>0&&c.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.warn=function(){console&&c.logLevel>0&&c.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.warnOnce=function(){var n=Array.prototype.slice.call(arguments).join(" ");c._warnedOnce[n]||(c.warn(n),c._warnedOnce[n]=!0)},c.deprecated=function(n,s,i){n[s]=c.chain(function(){c.warnOnce(" deprecated ",i)},n[s])},c.nextId=function(){return c._nextId++},c.indexOf=function(n,s){if(n.indexOf)return n.indexOf(s);for(var i=0;i<n.length;i++)if(n[i]===s)return i;return-1},c.map=function(n,s){if(n.map)return n.map(s);for(var i=[],u=0;u<n.length;u+=1)i.push(s(n[u]));return i},c.topologicalSort=function(n){var s=[],i=[],u=[];for(var o in n)!i[o]&&!u[o]&&c._topologicalSort(o,i,u,n,s);return s},c._topologicalSort=function(n,s,i,u,o){var f=u[n]||[];i[n]=!0;for(var l=0;l<f.length;l+=1){var t=f[l];i[t]||s[t]||c._topologicalSort(t,s,i,u,o)}i[n]=!1,s[n]=!0,o.push(n)},c.chain=function(){for(var n=[],s=0;s<arguments.length;s+=1){var i=arguments[s];i._chained?n.push.apply(n,i._chained):n.push(i)}var u=function(){for(var o,f=new Array(arguments.length),l=0,t=arguments.length;l<t;l++)f[l]=arguments[l];for(l=0;l<n.length;l+=1){var r=n[l].apply(o,f);typeof r<"u"&&(o=r)}return o};return u._chained=n,u},c.chainPathBefore=function(n,s,i){return c.set(n,s,c.chain(i,c.get(n,s)))},c.chainPathAfter=function(n,s,i){return c.set(n,s,c.chain(c.get(n,s),i))},c.setDecomp=function(n){c._decomp=n},c.getDecomp=function(){var n=c._decomp;try{!n&&typeof window<"u"&&(n=window.decomp),!n&&typeof Ye<"u"&&(n=Ye.decomp)}catch{n=null}return n}}()},function(p,v){var c={};p.exports=c,function(){c.create=function(e){var n={min:{x:0,y:0},max:{x:0,y:0}};return e&&c.update(n,e),n},c.update=function(e,n,s){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var i=0;i<n.length;i++){var u=n[i];u.x>e.max.x&&(e.max.x=u.x),u.x<e.min.x&&(e.min.x=u.x),u.y>e.max.y&&(e.max.y=u.y),u.y<e.min.y&&(e.min.y=u.y)}s&&(s.x>0?e.max.x+=s.x:e.min.x+=s.x,s.y>0?e.max.y+=s.y:e.min.y+=s.y)},c.contains=function(e,n){return n.x>=e.min.x&&n.x<=e.max.x&&n.y>=e.min.y&&n.y<=e.max.y},c.overlaps=function(e,n){return e.min.x<=n.max.x&&e.max.x>=n.min.x&&e.max.y>=n.min.y&&e.min.y<=n.max.y},c.translate=function(e,n){e.min.x+=n.x,e.max.x+=n.x,e.min.y+=n.y,e.max.y+=n.y},c.shift=function(e,n){var s=e.max.x-e.min.x,i=e.max.y-e.min.y;e.min.x=n.x,e.max.x=n.x+s,e.min.y=n.y,e.max.y=n.y+i}}()},function(p,v){var c={};p.exports=c,function(){c.create=function(e,n){return{x:e||0,y:n||0}},c.clone=function(e){return{x:e.x,y:e.y}},c.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},c.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},c.rotate=function(e,n,s){var i=Math.cos(n),u=Math.sin(n);s||(s={});var o=e.x*i-e.y*u;return s.y=e.x*u+e.y*i,s.x=o,s},c.rotateAbout=function(e,n,s,i){var u=Math.cos(n),o=Math.sin(n);i||(i={});var f=s.x+((e.x-s.x)*u-(e.y-s.y)*o);return i.y=s.y+((e.x-s.x)*o+(e.y-s.y)*u),i.x=f,i},c.normalise=function(e){var n=c.magnitude(e);return n===0?{x:0,y:0}:{x:e.x/n,y:e.y/n}},c.dot=function(e,n){return e.x*n.x+e.y*n.y},c.cross=function(e,n){return e.x*n.y-e.y*n.x},c.cross3=function(e,n,s){return(n.x-e.x)*(s.y-e.y)-(n.y-e.y)*(s.x-e.x)},c.add=function(e,n,s){return s||(s={}),s.x=e.x+n.x,s.y=e.y+n.y,s},c.sub=function(e,n,s){return s||(s={}),s.x=e.x-n.x,s.y=e.y-n.y,s},c.mult=function(e,n){return{x:e.x*n,y:e.y*n}},c.div=function(e,n){return{x:e.x/n,y:e.y/n}},c.perp=function(e,n){return n=n===!0?-1:1,{x:n*-e.y,y:n*e.x}},c.neg=function(e){return{x:-e.x,y:-e.y}},c.angle=function(e,n){return Math.atan2(n.y-e.y,n.x-e.x)},c._temp=[c.create(),c.create(),c.create(),c.create(),c.create(),c.create()]}()},function(p,v,c){var e={};p.exports=e;var n=c(2),s=c(0);(function(){e.create=function(i,u){for(var o=[],f=0;f<i.length;f++){var l=i[f],t={x:l.x,y:l.y,index:f,body:u,isInternal:!1};o.push(t)}return o},e.fromPath=function(i,u){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return i.replace(o,function(l,t,r){f.push({x:parseFloat(t),y:parseFloat(r)})}),e.create(f,u)},e.centre=function(i){for(var u=e.area(i,!0),o={x:0,y:0},f,l,t,r=0;r<i.length;r++)t=(r+1)%i.length,f=n.cross(i[r],i[t]),l=n.mult(n.add(i[r],i[t]),f),o=n.add(o,l);return n.div(o,6*u)},e.mean=function(i){for(var u={x:0,y:0},o=0;o<i.length;o++)u.x+=i[o].x,u.y+=i[o].y;return n.div(u,i.length)},e.area=function(i,u){for(var o=0,f=i.length-1,l=0;l<i.length;l++)o+=(i[f].x-i[l].x)*(i[f].y+i[l].y),f=l;return u?o/2:Math.abs(o)/2},e.inertia=function(i,u){for(var o=0,f=0,l=i,t,r,a=0;a<l.length;a++)r=(a+1)%l.length,t=Math.abs(n.cross(l[r],l[a])),o+=t*(n.dot(l[r],l[r])+n.dot(l[r],l[a])+n.dot(l[a],l[a])),f+=t;return u/6*(o/f)},e.translate=function(i,u,o){o=typeof o<"u"?o:1;var f=i.length,l=u.x*o,t=u.y*o,r;for(r=0;r<f;r++)i[r].x+=l,i[r].y+=t;return i},e.rotate=function(i,u,o){if(u!==0){var f=Math.cos(u),l=Math.sin(u),t=o.x,r=o.y,a=i.length,d,m,x,w;for(w=0;w<a;w++)d=i[w],m=d.x-t,x=d.y-r,d.x=t+(m*f-x*l),d.y=r+(m*l+x*f);return i}},e.contains=function(i,u){for(var o=u.x,f=u.y,l=i.length,t=i[l-1],r,a=0;a<l;a++){if(r=i[a],(o-t.x)*(r.y-t.y)+(f-t.y)*(t.x-r.x)>0)return!1;t=r}return!0},e.scale=function(i,u,o,f){if(u===1&&o===1)return i;f=f||e.centre(i);for(var l,t,r=0;r<i.length;r++)l=i[r],t=n.sub(l,f),i[r].x=f.x+t.x*u,i[r].y=f.y+t.y*o;return i},e.chamfer=function(i,u,o,f,l){typeof u=="number"?u=[u]:u=u||[8],o=typeof o<"u"?o:-1,f=f||2,l=l||14;for(var t=[],r=0;r<i.length;r++){var a=i[r-1>=0?r-1:i.length-1],d=i[r],m=i[(r+1)%i.length],x=u[r<u.length?r:u.length-1];if(x===0){t.push(d);continue}var w=n.normalise({x:d.y-a.y,y:a.x-d.x}),C=n.normalise({x:m.y-d.y,y:d.x-m.x}),g=Math.sqrt(2*Math.pow(x,2)),S=n.mult(s.clone(w),x),M=n.normalise(n.mult(n.add(w,C),.5)),y=n.sub(d,n.mult(M,g)),P=o;o===-1&&(P=Math.pow(x,.32)*1.75),P=s.clamp(P,f,l),P%2===1&&(P+=1);for(var D=Math.acos(n.dot(w,C)),O=D/P,T=0;T<P;T++)t.push(n.add(n.rotate(S,O*T),y))}return t},e.clockwiseSort=function(i){var u=e.mean(i);return i.sort(function(o,f){return n.angle(u,o)-n.angle(u,f)}),i},e.isConvex=function(i){var u=0,o=i.length,f,l,t,r;if(o<3)return null;for(f=0;f<o;f++)if(l=(f+1)%o,t=(f+2)%o,r=(i[l].x-i[f].x)*(i[t].y-i[l].y),r-=(i[l].y-i[f].y)*(i[t].x-i[l].x),r<0?u|=1:r>0&&(u|=2),u===3)return!1;return u!==0?!0:null},e.hull=function(i){var u=[],o=[],f,l;for(i=i.slice(0),i.sort(function(t,r){var a=t.x-r.x;return a!==0?a:t.y-r.y}),l=0;l<i.length;l+=1){for(f=i[l];o.length>=2&&n.cross3(o[o.length-2],o[o.length-1],f)<=0;)o.pop();o.push(f)}for(l=i.length-1;l>=0;l-=1){for(f=i[l];u.length>=2&&n.cross3(u[u.length-2],u[u.length-1],f)<=0;)u.pop();u.push(f)}return u.pop(),o.pop(),u.concat(o)}})()},function(p,v,c){var e={};p.exports=e;var n=c(3),s=c(2),i=c(7),u=c(0),o=c(1),f=c(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var r={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},a=u.extend(r,t);return l(a,t),a},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var l=function(t,r){r=r||{},e.set(t,{bounds:t.bounds||o.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),n.rotate(t.vertices,t.angle,t.position),f.rotate(t.axes,t.angle),o.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:r.axes||t.axes,area:r.area||t.area,mass:r.mass||t.mass,inertia:r.inertia||t.inertia});var a=t.isStatic?"#14151f":u.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),d=t.isStatic?"#555":"#ccc",m=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||a,t.render.strokeStyle=t.render.strokeStyle||d,t.render.lineWidth=t.render.lineWidth||m,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,r,a){var d;typeof r=="string"&&(d=r,r={},r[d]=a);for(d in r)if(Object.prototype.hasOwnProperty.call(r,d))switch(a=r[d],d){case"isStatic":e.setStatic(t,a);break;case"isSleeping":i.set(t,a);break;case"mass":e.setMass(t,a);break;case"density":e.setDensity(t,a);break;case"inertia":e.setInertia(t,a);break;case"vertices":e.setVertices(t,a);break;case"position":e.setPosition(t,a);break;case"angle":e.setAngle(t,a);break;case"velocity":e.setVelocity(t,a);break;case"angularVelocity":e.setAngularVelocity(t,a);break;case"speed":e.setSpeed(t,a);break;case"angularSpeed":e.setAngularSpeed(t,a);break;case"parts":e.setParts(t,a);break;case"centre":e.setCentre(t,a);break;default:t[d]=a}},e.setStatic=function(t,r){for(var a=0;a<t.parts.length;a++){var d=t.parts[a];r?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=r}},e.setMass=function(t,r){var a=t.inertia/(t.mass/6);t.inertia=a*(r/6),t.inverseInertia=1/t.inertia,t.mass=r,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,r){e.setMass(t,r*t.area),t.density=r},e.setInertia=function(t,r){t.inertia=r,t.inverseInertia=1/t.inertia},e.setVertices=function(t,r){r[0].body===t?t.vertices=r:t.vertices=n.create(r,t),t.axes=f.fromVertices(t.vertices),t.area=n.area(t.vertices),e.setMass(t,t.density*t.area);var a=n.centre(t.vertices);n.translate(t.vertices,a,-1),e.setInertia(t,e._inertiaScale*n.inertia(t.vertices,t.mass)),n.translate(t.vertices,t.position),o.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,r,a){var d;for(r=r.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,d=0;d<r.length;d++){var m=r[d];m!==t&&(m.parent=t,t.parts.push(m))}if(t.parts.length!==1){if(a=typeof a<"u"?a:!0,a){var x=[];for(d=0;d<r.length;d++)x=x.concat(r[d].vertices);n.clockwiseSort(x);var w=n.hull(x),C=n.centre(w);e.setVertices(t,w),n.translate(t.vertices,C)}var g=e._totalProperties(t);t.area=g.area,t.parent=t,t.position.x=g.centre.x,t.position.y=g.centre.y,t.positionPrev.x=g.centre.x,t.positionPrev.y=g.centre.y,e.setMass(t,g.mass),e.setInertia(t,g.inertia),e.setPosition(t,g.centre)}},e.setCentre=function(t,r,a){a?(t.positionPrev.x+=r.x,t.positionPrev.y+=r.y,t.position.x+=r.x,t.position.y+=r.y):(t.positionPrev.x=r.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=r.y-(t.position.y-t.positionPrev.y),t.position.x=r.x,t.position.y=r.y)},e.setPosition=function(t,r,a){var d=s.sub(r,t.position);a?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=d.x,t.velocity.y=d.y,t.speed=s.magnitude(d)):(t.positionPrev.x+=d.x,t.positionPrev.y+=d.y);for(var m=0;m<t.parts.length;m++){var x=t.parts[m];x.position.x+=d.x,x.position.y+=d.y,n.translate(x.vertices,d),o.update(x.bounds,x.vertices,t.velocity)}},e.setAngle=function(t,r,a){var d=r-t.angle;a?(t.anglePrev=t.angle,t.angularVelocity=d,t.angularSpeed=Math.abs(d)):t.anglePrev+=d;for(var m=0;m<t.parts.length;m++){var x=t.parts[m];x.angle+=d,n.rotate(x.vertices,d,t.position),f.rotate(x.axes,d),o.update(x.bounds,x.vertices,t.velocity),m>0&&s.rotateAbout(x.position,d,t.position,x.position)}},e.setVelocity=function(t,r){var a=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-r.x*a,t.positionPrev.y=t.position.y-r.y*a,t.velocity.x=(t.position.x-t.positionPrev.x)/a,t.velocity.y=(t.position.y-t.positionPrev.y)/a,t.speed=s.magnitude(t.velocity)},e.getVelocity=function(t){var r=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*r,y:(t.position.y-t.positionPrev.y)*r}},e.getSpeed=function(t){return s.magnitude(e.getVelocity(t))},e.setSpeed=function(t,r){e.setVelocity(t,s.mult(s.normalise(e.getVelocity(t)),r))},e.setAngularVelocity=function(t,r){var a=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-r*a,t.angularVelocity=(t.angle-t.anglePrev)/a,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,r){e.setAngularVelocity(t,u.sign(e.getAngularVelocity(t))*r)},e.translate=function(t,r,a){e.setPosition(t,s.add(t.position,r),a)},e.rotate=function(t,r,a,d){if(!a)e.setAngle(t,t.angle+r,d);else{var m=Math.cos(r),x=Math.sin(r),w=t.position.x-a.x,C=t.position.y-a.y;e.setPosition(t,{x:a.x+(w*m-C*x),y:a.y+(w*x+C*m)},d),e.setAngle(t,t.angle+r,d)}},e.scale=function(t,r,a,d){var m=0,x=0;d=d||t.position;for(var w=0;w<t.parts.length;w++){var C=t.parts[w];n.scale(C.vertices,r,a,d),C.axes=f.fromVertices(C.vertices),C.area=n.area(C.vertices),e.setMass(C,t.density*C.area),n.translate(C.vertices,{x:-C.position.x,y:-C.position.y}),e.setInertia(C,e._inertiaScale*n.inertia(C.vertices,C.mass)),n.translate(C.vertices,{x:C.position.x,y:C.position.y}),w>0&&(m+=C.area,x+=C.inertia),C.position.x=d.x+(C.position.x-d.x)*r,C.position.y=d.y+(C.position.y-d.y)*a,o.update(C.bounds,C.vertices,t.velocity)}t.parts.length>1&&(t.area=m,t.isStatic||(e.setMass(t,t.density*m),e.setInertia(t,x))),t.circleRadius&&(r===a?t.circleRadius*=r:t.circleRadius=null)},e.update=function(t,r){r=(typeof r<"u"?r:1e3/60)*t.timeScale;var a=r*r,d=e._timeCorrection?r/(t.deltaTime||r):1,m=1-t.frictionAir*(r/u._baseDelta),x=(t.position.x-t.positionPrev.x)*d,w=(t.position.y-t.positionPrev.y)*d;t.velocity.x=x*m+t.force.x/t.mass*a,t.velocity.y=w*m+t.force.y/t.mass*a,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=r,t.angularVelocity=(t.angle-t.anglePrev)*m*d+t.torque/t.inertia*a,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var C=0;C<t.parts.length;C++){var g=t.parts[C];n.translate(g.vertices,t.velocity),C>0&&(g.position.x+=t.velocity.x,g.position.y+=t.velocity.y),t.angularVelocity!==0&&(n.rotate(g.vertices,t.angularVelocity,t.position),f.rotate(g.axes,t.angularVelocity),C>0&&s.rotateAbout(g.position,t.angularVelocity,t.position,g.position)),o.update(g.bounds,g.vertices,t.velocity)}},e.updateVelocities=function(t){var r=e._baseDelta/t.deltaTime,a=t.velocity;a.x=(t.position.x-t.positionPrev.x)*r,a.y=(t.position.y-t.positionPrev.y)*r,t.speed=Math.sqrt(a.x*a.x+a.y*a.y),t.angularVelocity=(t.angle-t.anglePrev)*r,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,r,a){var d={x:r.x-t.position.x,y:r.y-t.position.y};t.force.x+=a.x,t.force.y+=a.y,t.torque+=d.x*a.y-d.y*a.x},e._totalProperties=function(t){for(var r={mass:0,area:0,inertia:0,centre:{x:0,y:0}},a=t.parts.length===1?0:1;a<t.parts.length;a++){var d=t.parts[a],m=d.mass!==1/0?d.mass:1;r.mass+=m,r.area+=d.area,r.inertia+=d.inertia,r.centre=s.add(r.centre,s.mult(d.position,m))}return r.centre=s.div(r.centre,r.mass),r}})()},function(p,v,c){var e={};p.exports=e;var n=c(0);(function(){e.on=function(s,i,u){for(var o=i.split(" "),f,l=0;l<o.length;l++)f=o[l],s.events=s.events||{},s.events[f]=s.events[f]||[],s.events[f].push(u);return u},e.off=function(s,i,u){if(!i){s.events={};return}typeof i=="function"&&(u=i,i=n.keys(s.events).join(" "));for(var o=i.split(" "),f=0;f<o.length;f++){var l=s.events[o[f]],t=[];if(u&&l)for(var r=0;r<l.length;r++)l[r]!==u&&t.push(l[r]);s.events[o[f]]=t}},e.trigger=function(s,i,u){var o,f,l,t,r=s.events;if(r&&n.keys(r).length>0){u||(u={}),o=i.split(" ");for(var a=0;a<o.length;a++)if(f=o[a],l=r[f],l){t=n.clone(u,!1),t.name=f,t.source=s;for(var d=0;d<l.length;d++)l[d].apply(s,[t])}}}})()},function(p,v,c){var e={};p.exports=e;var n=c(5),s=c(0),i=c(1),u=c(4);(function(){e.create=function(o){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},e.setModified=function(o,f,l,t){if(o.isModified=f,f&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),l&&o.parent&&e.setModified(o.parent,f,l,t),t)for(var r=0;r<o.composites.length;r++){var a=o.composites[r];e.setModified(a,f,l,t)}},e.add=function(o,f){var l=[].concat(f);n.trigger(o,"beforeAdd",{object:f});for(var t=0;t<l.length;t++){var r=l[t];switch(r.type){case"body":if(r.parent!==r){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(o,r);break;case"constraint":e.addConstraint(o,r);break;case"composite":e.addComposite(o,r);break;case"mouseConstraint":e.addConstraint(o,r.constraint);break}}return n.trigger(o,"afterAdd",{object:f}),o},e.remove=function(o,f,l){var t=[].concat(f);n.trigger(o,"beforeRemove",{object:f});for(var r=0;r<t.length;r++){var a=t[r];switch(a.type){case"body":e.removeBody(o,a,l);break;case"constraint":e.removeConstraint(o,a,l);break;case"composite":e.removeComposite(o,a,l);break;case"mouseConstraint":e.removeConstraint(o,a.constraint);break}}return n.trigger(o,"afterRemove",{object:f}),o},e.addComposite=function(o,f){return o.composites.push(f),f.parent=o,e.setModified(o,!0,!0,!1),o},e.removeComposite=function(o,f,l){var t=s.indexOf(o.composites,f);if(t!==-1){var r=e.allBodies(f);e.removeCompositeAt(o,t);for(var a=0;a<r.length;a++)r[a].sleepCounter=0}if(l)for(var a=0;a<o.composites.length;a++)e.removeComposite(o.composites[a],f,!0);return o},e.removeCompositeAt=function(o,f){return o.composites.splice(f,1),e.setModified(o,!0,!0,!1),o},e.addBody=function(o,f){return o.bodies.push(f),e.setModified(o,!0,!0,!1),o},e.removeBody=function(o,f,l){var t=s.indexOf(o.bodies,f);if(t!==-1&&(e.removeBodyAt(o,t),f.sleepCounter=0),l)for(var r=0;r<o.composites.length;r++)e.removeBody(o.composites[r],f,!0);return o},e.removeBodyAt=function(o,f){return o.bodies.splice(f,1),e.setModified(o,!0,!0,!1),o},e.addConstraint=function(o,f){return o.constraints.push(f),e.setModified(o,!0,!0,!1),o},e.removeConstraint=function(o,f,l){var t=s.indexOf(o.constraints,f);if(t!==-1&&e.removeConstraintAt(o,t),l)for(var r=0;r<o.composites.length;r++)e.removeConstraint(o.composites[r],f,!0);return o},e.removeConstraintAt=function(o,f){return o.constraints.splice(f,1),e.setModified(o,!0,!0,!1),o},e.clear=function(o,f,l){if(l)for(var t=0;t<o.composites.length;t++)e.clear(o.composites[t],f,!0);return f?o.bodies=o.bodies.filter(function(r){return r.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,e.setModified(o,!0,!0,!1),o},e.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var f=[].concat(o.bodies),l=0;l<o.composites.length;l++)f=f.concat(e.allBodies(o.composites[l]));return o.cache&&(o.cache.allBodies=f),f},e.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var f=[].concat(o.constraints),l=0;l<o.composites.length;l++)f=f.concat(e.allConstraints(o.composites[l]));return o.cache&&(o.cache.allConstraints=f),f},e.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var f=[].concat(o.composites),l=0;l<o.composites.length;l++)f=f.concat(e.allComposites(o.composites[l]));return o.cache&&(o.cache.allComposites=f),f},e.get=function(o,f,l){var t,r;switch(l){case"body":t=e.allBodies(o);break;case"constraint":t=e.allConstraints(o);break;case"composite":t=e.allComposites(o).concat(o);break}return t?(r=t.filter(function(a){return a.id.toString()===f.toString()}),r.length===0?null:r[0]):null},e.move=function(o,f,l){return e.remove(o,f),e.add(l,f),o},e.rebase=function(o){for(var f=e.allBodies(o).concat(e.allConstraints(o)).concat(e.allComposites(o)),l=0;l<f.length;l++)f[l].id=s.nextId();return o},e.translate=function(o,f,l){for(var t=l?e.allBodies(o):o.bodies,r=0;r<t.length;r++)u.translate(t[r],f);return o},e.rotate=function(o,f,l,t){for(var r=Math.cos(f),a=Math.sin(f),d=t?e.allBodies(o):o.bodies,m=0;m<d.length;m++){var x=d[m],w=x.position.x-l.x,C=x.position.y-l.y;u.setPosition(x,{x:l.x+(w*r-C*a),y:l.y+(w*a+C*r)}),u.rotate(x,f)}return o},e.scale=function(o,f,l,t,r){for(var a=r?e.allBodies(o):o.bodies,d=0;d<a.length;d++){var m=a[d],x=m.position.x-t.x,w=m.position.y-t.y;u.setPosition(m,{x:t.x+x*f,y:t.y+w*l}),u.scale(m,f,l)}return o},e.bounds=function(o){for(var f=e.allBodies(o),l=[],t=0;t<f.length;t+=1){var r=f[t];l.push(r.bounds.min,r.bounds.max)}return i.create(l)}})()},function(p,v,c){var e={};p.exports=e;var n=c(4),s=c(5),i=c(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(u,o){for(var f=o/i._baseDelta,l=e._motionSleepThreshold,t=0;t<u.length;t++){var r=u[t],a=n.getSpeed(r),d=n.getAngularSpeed(r),m=a*a+d*d;if(r.force.x!==0||r.force.y!==0){e.set(r,!1);continue}var x=Math.min(r.motion,m),w=Math.max(r.motion,m);r.motion=e._minBias*x+(1-e._minBias)*w,r.sleepThreshold>0&&r.motion<l?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold/f&&e.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}},e.afterCollisions=function(u){for(var o=e._motionSleepThreshold,f=0;f<u.length;f++){var l=u[f];if(l.isActive){var t=l.collision,r=t.bodyA.parent,a=t.bodyB.parent;if(!(r.isSleeping&&a.isSleeping||r.isStatic||a.isStatic)&&(r.isSleeping||a.isSleeping)){var d=r.isSleeping&&!r.isStatic?r:a,m=d===r?a:r;!d.isStatic&&m.motion>o&&e.set(d,!1)}}}},e.set=function(u,o){var f=u.isSleeping;o?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,f||s.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,f&&s.trigger(u,"sleepEnd"))}})()},function(p,v,c){var e={};p.exports=e;var n=c(3),s=c(9);(function(){var i=[],u={overlap:0,axis:null},o={overlap:0,axis:null};e.create=function(f,l){return{pair:null,collided:!1,bodyA:f,bodyB:l,parentA:f.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(f,l,t){if(e._overlapAxes(u,f.vertices,l.vertices,f.axes),u.overlap<=0||(e._overlapAxes(o,l.vertices,f.vertices,l.axes),o.overlap<=0))return null;var r=t&&t.table[s.id(f,l)],a;r?a=r.collision:(a=e.create(f,l),a.collided=!0,a.bodyA=f.id<l.id?f:l,a.bodyB=f.id<l.id?l:f,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent),f=a.bodyA,l=a.bodyB;var d;u.overlap<o.overlap?d=u:d=o;var m=a.normal,x=a.tangent,w=a.penetration,C=a.supports,g=d.overlap,S=d.axis,M=S.x,y=S.y,P=l.position.x-f.position.x,D=l.position.y-f.position.y;M*P+y*D>=0&&(M=-M,y=-y),m.x=M,m.y=y,x.x=-y,x.y=M,w.x=M*g,w.y=y*g,a.depth=g;var O=e._findSupports(f,l,m,1),T=0;if(n.contains(f.vertices,O[0])&&(C[T++]=O[0]),n.contains(f.vertices,O[1])&&(C[T++]=O[1]),T<2){var L=e._findSupports(l,f,m,-1);n.contains(l.vertices,L[0])&&(C[T++]=L[0]),T<2&&n.contains(l.vertices,L[1])&&(C[T++]=L[1])}return T===0&&(C[T++]=O[0]),a.supportCount=T,a},e._overlapAxes=function(f,l,t,r){var a=l.length,d=t.length,m=l[0].x,x=l[0].y,w=t[0].x,C=t[0].y,g=r.length,S=Number.MAX_VALUE,M=0,y,P,D,O,T,L;for(T=0;T<g;T++){var I=r[T],E=I.x,R=I.y,k=m*E+x*R,H=w*E+C*R,q=k,X=H;for(L=1;L<a;L+=1)O=l[L].x*E+l[L].y*R,O>q?q=O:O<k&&(k=O);for(L=1;L<d;L+=1)O=t[L].x*E+t[L].y*R,O>X?X=O:O<H&&(H=O);if(P=q-H,D=X-k,y=P<D?P:D,y<S&&(S=y,M=T,y<=0))break}f.axis=r[M],f.overlap=S},e._findSupports=function(f,l,t,r){var a=l.vertices,d=a.length,m=f.position.x,x=f.position.y,w=t.x*r,C=t.y*r,g=a[0],S=g,M=w*(m-S.x)+C*(x-S.y),y,P,D;for(D=1;D<d;D+=1)S=a[D],P=w*(m-S.x)+C*(x-S.y),P<M&&(M=P,g=S);return y=a[(d+g.index-1)%d],M=w*(m-y.x)+C*(x-y.y),S=a[(g.index+1)%d],w*(m-S.x)+C*(x-S.y)<M?(i[0]=g,i[1]=S,i):(i[0]=g,i[1]=y,i)}})()},function(p,v,c){var e={};p.exports=e;var n=c(16);(function(){e.create=function(s,i){var u=s.bodyA,o=s.bodyB,f={id:e.id(u,o),bodyA:u,bodyB:o,collision:s,contacts:[n.create(),n.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||o.isSensor,timeCreated:i,timeUpdated:i,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(f,s,i),f},e.update=function(s,i,u){var o=i.supports,f=i.supportCount,l=s.contacts,t=i.parentA,r=i.parentB;s.isActive=!0,s.timeUpdated=u,s.collision=i,s.separation=i.depth,s.inverseMass=t.inverseMass+r.inverseMass,s.friction=t.friction<r.friction?t.friction:r.friction,s.frictionStatic=t.frictionStatic>r.frictionStatic?t.frictionStatic:r.frictionStatic,s.restitution=t.restitution>r.restitution?t.restitution:r.restitution,s.slop=t.slop>r.slop?t.slop:r.slop,s.contactCount=f,i.pair=s;var a=o[0],d=l[0],m=o[1],x=l[1];(x.vertex===a||d.vertex===m)&&(l[1]=d,l[0]=d=x,x=l[1]),d.vertex=a,x.vertex=m},e.setActive=function(s,i,u){i?(s.isActive=!0,s.timeUpdated=u):(s.isActive=!1,s.contactCount=0)},e.id=function(s,i){return s.id<i.id?s.id.toString(36)+":"+i.id.toString(36):i.id.toString(36)+":"+s.id.toString(36)}})()},function(p,v,c){var e={};p.exports=e;var n=c(3),s=c(2),i=c(7),u=c(1),o=c(11),f=c(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(l){var t=l;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var r=t.bodyA?s.add(t.bodyA.position,t.pointA):t.pointA,a=t.bodyB?s.add(t.bodyB.position,t.pointB):t.pointB,d=s.magnitude(s.sub(r,a));t.length=typeof t.length<"u"?t.length:d,t.id=t.id||f.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var m={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(m.type="pin",m.anchors=!1):t.stiffness<.9&&(m.type="spring"),t.render=f.extend(m,t.render),t},e.preSolveAll=function(l){for(var t=0;t<l.length;t+=1){var r=l[t],a=r.constraintImpulse;r.isStatic||a.x===0&&a.y===0&&a.angle===0||(r.position.x+=a.x,r.position.y+=a.y,r.angle+=a.angle)}},e.solveAll=function(l,t){for(var r=f.clamp(t/f._baseDelta,0,1),a=0;a<l.length;a+=1){var d=l[a],m=!d.bodyA||d.bodyA&&d.bodyA.isStatic,x=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(m||x)&&e.solve(l[a],r)}for(a=0;a<l.length;a+=1)d=l[a],m=!d.bodyA||d.bodyA&&d.bodyA.isStatic,x=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!m&&!x&&e.solve(l[a],r)},e.solve=function(l,t){var r=l.bodyA,a=l.bodyB,d=l.pointA,m=l.pointB;if(!(!r&&!a)){r&&!r.isStatic&&(s.rotate(d,r.angle-l.angleA,d),l.angleA=r.angle),a&&!a.isStatic&&(s.rotate(m,a.angle-l.angleB,m),l.angleB=a.angle);var x=d,w=m;if(r&&(x=s.add(r.position,d)),a&&(w=s.add(a.position,m)),!(!x||!w)){var C=s.sub(x,w),g=s.magnitude(C);g<e._minLength&&(g=e._minLength);var S=(g-l.length)/g,M=l.stiffness>=1||l.length===0,y=M?l.stiffness*t:l.stiffness*t*t,P=l.damping*t,D=s.mult(C,S*y),O=(r?r.inverseMass:0)+(a?a.inverseMass:0),T=(r?r.inverseInertia:0)+(a?a.inverseInertia:0),L=O+T,I,E,R,k,H;if(P>0){var q=s.create();R=s.div(C,g),H=s.sub(a&&s.sub(a.position,a.positionPrev)||q,r&&s.sub(r.position,r.positionPrev)||q),k=s.dot(R,H)}r&&!r.isStatic&&(E=r.inverseMass/O,r.constraintImpulse.x-=D.x*E,r.constraintImpulse.y-=D.y*E,r.position.x-=D.x*E,r.position.y-=D.y*E,P>0&&(r.positionPrev.x-=P*R.x*k*E,r.positionPrev.y-=P*R.y*k*E),I=s.cross(d,D)/L*e._torqueDampen*r.inverseInertia*(1-l.angularStiffness),r.constraintImpulse.angle-=I,r.angle-=I),a&&!a.isStatic&&(E=a.inverseMass/O,a.constraintImpulse.x+=D.x*E,a.constraintImpulse.y+=D.y*E,a.position.x+=D.x*E,a.position.y+=D.y*E,P>0&&(a.positionPrev.x+=P*R.x*k*E,a.positionPrev.y+=P*R.y*k*E),I=s.cross(m,D)/L*e._torqueDampen*a.inverseInertia*(1-l.angularStiffness),a.constraintImpulse.angle+=I,a.angle+=I)}}},e.postSolveAll=function(l){for(var t=0;t<l.length;t++){var r=l[t],a=r.constraintImpulse;if(!(r.isStatic||a.x===0&&a.y===0&&a.angle===0)){i.set(r,!1);for(var d=0;d<r.parts.length;d++){var m=r.parts[d];n.translate(m.vertices,a),d>0&&(m.position.x+=a.x,m.position.y+=a.y),a.angle!==0&&(n.rotate(m.vertices,a.angle,r.position),o.rotate(m.axes,a.angle),d>0&&s.rotateAbout(m.position,a.angle,r.position,m.position)),u.update(m.bounds,m.vertices,r.velocity)}a.angle*=e._warming,a.x*=e._warming,a.y*=e._warming}}},e.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},e.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},e.currentLength=function(l){var t=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),r=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),a=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),d=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),m=t-a,x=r-d;return Math.sqrt(m*m+x*x)}})()},function(p,v,c){var e={};p.exports=e;var n=c(2),s=c(0);(function(){e.fromVertices=function(i){for(var u={},o=0;o<i.length;o++){var f=(o+1)%i.length,l=n.normalise({x:i[f].y-i[o].y,y:i[o].x-i[f].x}),t=l.y===0?1/0:l.x/l.y;t=t.toFixed(3).toString(),u[t]=l}return s.values(u)},e.rotate=function(i,u){if(u!==0)for(var o=Math.cos(u),f=Math.sin(u),l=0;l<i.length;l++){var t=i[l],r;r=t.x*o-t.y*f,t.y=t.x*f+t.y*o,t.x=r}}})()},function(p,v,c){var e={};p.exports=e;var n=c(3),s=c(0),i=c(4),u=c(1),o=c(2);(function(){e.rectangle=function(f,l,t,r,a){a=a||{};var d={label:"Rectangle Body",position:{x:f,y:l},vertices:n.fromPath("L 0 0 L "+t+" 0 L "+t+" "+r+" L 0 "+r)};if(a.chamfer){var m=a.chamfer;d.vertices=n.chamfer(d.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete a.chamfer}return i.create(s.extend({},d,a))},e.trapezoid=function(f,l,t,r,a,d){d=d||{},a>=1&&s.warn("Bodies.trapezoid: slope parameter must be < 1."),a*=.5;var m=(1-a*2)*t,x=t*a,w=x+m,C=w+x,g;a<.5?g="L 0 0 L "+x+" "+-r+" L "+w+" "+-r+" L "+C+" 0":g="L 0 0 L "+w+" "+-r+" L "+C+" 0";var S={label:"Trapezoid Body",position:{x:f,y:l},vertices:n.fromPath(g)};if(d.chamfer){var M=d.chamfer;S.vertices=n.chamfer(S.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete d.chamfer}return i.create(s.extend({},S,d))},e.circle=function(f,l,t,r,a){r=r||{};var d={label:"Circle Body",circleRadius:t};a=a||25;var m=Math.ceil(Math.max(10,Math.min(a,t)));return m%2===1&&(m+=1),e.polygon(f,l,m,t,s.extend({},d,r))},e.polygon=function(f,l,t,r,a){if(a=a||{},t<3)return e.circle(f,l,r,a);for(var d=2*Math.PI/t,m="",x=d*.5,w=0;w<t;w+=1){var C=x+w*d,g=Math.cos(C)*r,S=Math.sin(C)*r;m+="L "+g.toFixed(3)+" "+S.toFixed(3)+" "}var M={label:"Polygon Body",position:{x:f,y:l},vertices:n.fromPath(m)};if(a.chamfer){var y=a.chamfer;M.vertices=n.chamfer(M.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete a.chamfer}return i.create(s.extend({},M,a))},e.fromVertices=function(f,l,t,r,a,d,m,x){var w=s.getDecomp(),C,g,S,M,y,P,D,O,T,L,I;for(C=!!(w&&w.quickDecomp),r=r||{},S=[],a=typeof a<"u"?a:!1,d=typeof d<"u"?d:.01,m=typeof m<"u"?m:10,x=typeof x<"u"?x:.01,s.isArray(t[0])||(t=[t]),L=0;L<t.length;L+=1)if(P=t[L],M=n.isConvex(P),y=!M,y&&!C&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),M||!C)M?P=n.clockwiseSort(P):P=n.hull(P),S.push({position:{x:f,y:l},vertices:P});else{var E=P.map(function(W){return[W.x,W.y]});w.makeCCW(E),d!==!1&&w.removeCollinearPoints(E,d),x!==!1&&w.removeDuplicatePoints&&w.removeDuplicatePoints(E,x);var R=w.quickDecomp(E);for(D=0;D<R.length;D++){var k=R[D],H=k.map(function(W){return{x:W[0],y:W[1]}});m>0&&n.area(H)<m||S.push({position:n.centre(H),vertices:H})}}for(D=0;D<S.length;D++)S[D]=i.create(s.extend(S[D],r));if(a){var q=5;for(D=0;D<S.length;D++){var X=S[D];for(O=D+1;O<S.length;O++){var G=S[O];if(u.overlaps(X.bounds,G.bounds)){var K=X.vertices,Z=G.vertices;for(T=0;T<X.vertices.length;T++)for(I=0;I<G.vertices.length;I++){var te=o.magnitudeSquared(o.sub(K[(T+1)%K.length],Z[I])),se=o.magnitudeSquared(o.sub(K[T],Z[(I+1)%Z.length]));te<q&&se<q&&(K[T].isInternal=!0,Z[I].isInternal=!0)}}}}}return S.length>1?(g=i.create(s.extend({parts:S.slice(0)},r)),i.setPosition(g,{x:f,y:l}),g):S[0]}})()},function(p,v,c){var e={};p.exports=e;var n=c(0),s=c(8);(function(){e.create=function(i){var u={bodies:[],collisions:[],pairs:null};return n.extend(u,i)},e.setBodies=function(i,u){i.bodies=u.slice(0)},e.clear=function(i){i.bodies=[],i.collisions=[]},e.collisions=function(i){var u=i.pairs,o=i.bodies,f=o.length,l=e.canCollide,t=s.collides,r=i.collisions,a=0,d,m;for(o.sort(e._compareBoundsX),d=0;d<f;d++){var x=o[d],w=x.bounds,C=x.bounds.max.x,g=x.bounds.max.y,S=x.bounds.min.y,M=x.isStatic||x.isSleeping,y=x.parts.length,P=y===1;for(m=d+1;m<f;m++){var D=o[m],O=D.bounds;if(O.min.x>C)break;if(!(g<O.min.y||S>O.max.y)&&!(M&&(D.isStatic||D.isSleeping))&&l(x.collisionFilter,D.collisionFilter)){var T=D.parts.length;if(P&&T===1){var L=t(x,D,u);L&&(r[a++]=L)}else for(var I=y>1?1:0,E=T>1?1:0,R=I;R<y;R++)for(var k=x.parts[R],w=k.bounds,H=E;H<T;H++){var q=D.parts[H],O=q.bounds;if(!(w.min.x>O.max.x||w.max.x<O.min.x||w.max.y<O.min.y||w.min.y>O.max.y)){var L=t(k,q,u);L&&(r[a++]=L)}}}}}return r.length!==a&&(r.length=a),r},e.canCollide=function(i,u){return i.group===u.group&&i.group!==0?i.group>0:(i.mask&u.category)!==0&&(u.mask&i.category)!==0},e._compareBoundsX=function(i,u){return i.bounds.min.x-u.bounds.min.x}})()},function(p,v,c){var e={};p.exports=e;var n=c(0);(function(){e.create=function(s){var i={};return s||n.log("Mouse.create: element was undefined, defaulting to document.body","warn"),i.element=s||document.body,i.absolute={x:0,y:0},i.position={x:0,y:0},i.mousedownPosition={x:0,y:0},i.mouseupPosition={x:0,y:0},i.offset={x:0,y:0},i.scale={x:1,y:1},i.wheelDelta=0,i.button=-1,i.pixelRatio=parseInt(i.element.getAttribute("data-pixel-ratio"),10)||1,i.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},i.mousemove=function(u){var o=e._getRelativeMousePosition(u,i.element,i.pixelRatio),f=u.changedTouches;f&&(i.button=0,u.preventDefault()),i.absolute.x=o.x,i.absolute.y=o.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.sourceEvents.mousemove=u},i.mousedown=function(u){var o=e._getRelativeMousePosition(u,i.element,i.pixelRatio),f=u.changedTouches;f?(i.button=0,u.preventDefault()):i.button=u.button,i.absolute.x=o.x,i.absolute.y=o.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mousedownPosition.x=i.position.x,i.mousedownPosition.y=i.position.y,i.sourceEvents.mousedown=u},i.mouseup=function(u){var o=e._getRelativeMousePosition(u,i.element,i.pixelRatio),f=u.changedTouches;f&&u.preventDefault(),i.button=-1,i.absolute.x=o.x,i.absolute.y=o.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mouseupPosition.x=i.position.x,i.mouseupPosition.y=i.position.y,i.sourceEvents.mouseup=u},i.mousewheel=function(u){i.wheelDelta=Math.max(-1,Math.min(1,u.wheelDelta||-u.detail)),u.preventDefault(),i.sourceEvents.mousewheel=u},e.setElement(i,i.element),i},e.setElement=function(s,i){s.element=i,i.addEventListener("mousemove",s.mousemove,{passive:!0}),i.addEventListener("mousedown",s.mousedown,{passive:!0}),i.addEventListener("mouseup",s.mouseup,{passive:!0}),i.addEventListener("wheel",s.mousewheel,{passive:!1}),i.addEventListener("touchmove",s.mousemove,{passive:!1}),i.addEventListener("touchstart",s.mousedown,{passive:!1}),i.addEventListener("touchend",s.mouseup,{passive:!1})},e.clearSourceEvents=function(s){s.sourceEvents.mousemove=null,s.sourceEvents.mousedown=null,s.sourceEvents.mouseup=null,s.sourceEvents.mousewheel=null,s.wheelDelta=0},e.setOffset=function(s,i){s.offset.x=i.x,s.offset.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e.setScale=function(s,i){s.scale.x=i.x,s.scale.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e._getRelativeMousePosition=function(s,i,u){var o=i.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,l=window.pageXOffset!==void 0?window.pageXOffset:f.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:f.scrollTop,r=s.changedTouches,a,d;return r?(a=r[0].pageX-o.left-l,d=r[0].pageY-o.top-t):(a=s.pageX-o.left-l,d=s.pageY-o.top-t),{x:a/(i.clientWidth/(i.width||i.clientWidth)*u),y:d/(i.clientHeight/(i.height||i.clientHeight)*u)}}})()},function(p,v,c){var e={};p.exports=e;var n=c(0);(function(){e._registry={},e.register=function(s){if(e.isPlugin(s)||n.warn("Plugin.register:",e.toString(s),"does not implement all required fields."),s.name in e._registry){var i=e._registry[s.name],u=e.versionParse(s.version).number,o=e.versionParse(i.version).number;u>o?(n.warn("Plugin.register:",e.toString(i),"was upgraded to",e.toString(s)),e._registry[s.name]=s):u<o?n.warn("Plugin.register:",e.toString(i),"can not be downgraded to",e.toString(s)):s!==i&&n.warn("Plugin.register:",e.toString(s),"is already registered to different plugin object")}else e._registry[s.name]=s;return s},e.resolve=function(s){return e._registry[e.dependencyParse(s).name]},e.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},e.isPlugin=function(s){return s&&s.name&&s.version&&s.install},e.isUsed=function(s,i){return s.used.indexOf(i)>-1},e.isFor=function(s,i){var u=s.for&&e.dependencyParse(s.for);return!s.for||i.name===u.name&&e.versionSatisfies(i.version,u.range)},e.use=function(s,i){if(s.uses=(s.uses||[]).concat(i||[]),s.uses.length===0){n.warn("Plugin.use:",e.toString(s),"does not specify any dependencies to install.");return}for(var u=e.dependencies(s),o=n.topologicalSort(u),f=[],l=0;l<o.length;l+=1)if(o[l]!==s.name){var t=e.resolve(o[l]);if(!t){f.push(" "+o[l]);continue}e.isUsed(s,t.name)||(e.isFor(t,s)||(n.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(s)+"."),t._warned=!0),t.install?t.install(s):(n.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(f.push(" "+e.toString(t)),delete t._warned):f.push(" "+e.toString(t)),s.used.push(t.name))}f.length>0&&n.info(f.join("  "))},e.dependencies=function(s,i){var u=e.dependencyParse(s),o=u.name;if(i=i||{},!(o in i)){s=e.resolve(s)||s,i[o]=n.map(s.uses||[],function(l){e.isPlugin(l)&&e.register(l);var t=e.dependencyParse(l),r=e.resolve(l);return r&&!e.versionSatisfies(r.version,t.range)?(n.warn("Plugin.dependencies:",e.toString(r),"does not satisfy",e.toString(t),"used by",e.toString(u)+"."),r._warned=!0,s._warned=!0):r||(n.warn("Plugin.dependencies:",e.toString(l),"used by",e.toString(u),"could not be resolved."),s._warned=!0),t.name});for(var f=0;f<i[o].length;f+=1)e.dependencies(i[o][f],i);return i}},e.dependencyParse=function(s){if(n.isString(s)){var i=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return i.test(s)||n.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},e.versionParse=function(s){var i=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;i.test(s)||n.warn("Plugin.versionParse:",s,"is not a valid version or range.");var u=i.exec(s),o=Number(u[4]),f=Number(u[5]),l=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:s,operator:u[1]||u[2]||"",major:o,minor:f,patch:l,parts:[o,f,l],prerelease:u[7],number:o*1e8+f*1e4+l}},e.versionSatisfies=function(s,i){i=i||"*";var u=e.versionParse(i),o=e.versionParse(s);if(u.isRange){if(u.operator==="*"||s==="*")return!0;if(u.operator===">")return o.number>u.number;if(u.operator===">=")return o.number>=u.number;if(u.operator==="~")return o.major===u.major&&o.minor===u.minor&&o.patch>=u.patch;if(u.operator==="^")return u.major>0?o.major===u.major&&o.number>=u.number:u.minor>0?o.minor===u.minor&&o.patch>=u.patch:o.patch===u.patch}return s===i||s==="*"}})()},function(p,v){var c={};p.exports=c,function(){c.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(p,v,c){var e={};p.exports=e;var n=c(7),s=c(18),i=c(13),u=c(19),o=c(5),f=c(6),l=c(10),t=c(0),r=c(4);(function(){e._deltaMax=1e3/60,e.create=function(a){a=a||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},m=t.extend(d,a);return m.world=a.world||f.create({label:"World"}),m.pairs=a.pairs||u.create(),m.detector=a.detector||i.create(),m.detector.pairs=m.pairs,m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},e.update=function(a,d){var m=t.now(),x=a.world,w=a.detector,C=a.pairs,g=a.timing,S=g.timestamp,M;d>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:t._baseDelta,d*=g.timeScale,g.timestamp+=d,g.lastDelta=d;var y={timestamp:g.timestamp,delta:d};o.trigger(a,"beforeUpdate",y);var P=f.allBodies(x),D=f.allConstraints(x);for(x.isModified&&(i.setBodies(w,P),f.setModified(x,!1,!1,!0)),a.enableSleeping&&n.update(P,d),e._bodiesApplyGravity(P,a.gravity),d>0&&e._bodiesUpdate(P,d),o.trigger(a,"beforeSolve",y),l.preSolveAll(P),M=0;M<a.constraintIterations;M++)l.solveAll(D,d);l.postSolveAll(P);var O=i.collisions(w);u.update(C,O,S),a.enableSleeping&&n.afterCollisions(C.list),C.collisionStart.length>0&&o.trigger(a,"collisionStart",{pairs:C.collisionStart,timestamp:g.timestamp,delta:d});var T=t.clamp(20/a.positionIterations,0,1);for(s.preSolvePosition(C.list),M=0;M<a.positionIterations;M++)s.solvePosition(C.list,d,T);for(s.postSolvePosition(P),l.preSolveAll(P),M=0;M<a.constraintIterations;M++)l.solveAll(D,d);for(l.postSolveAll(P),s.preSolveVelocity(C.list),M=0;M<a.velocityIterations;M++)s.solveVelocity(C.list,d);return e._bodiesUpdateVelocities(P),C.collisionActive.length>0&&o.trigger(a,"collisionActive",{pairs:C.collisionActive,timestamp:g.timestamp,delta:d}),C.collisionEnd.length>0&&o.trigger(a,"collisionEnd",{pairs:C.collisionEnd,timestamp:g.timestamp,delta:d}),e._bodiesClearForces(P),o.trigger(a,"afterUpdate",y),a.timing.lastElapsed=t.now()-m,a},e.merge=function(a,d){if(t.extend(a,d),d.world){a.world=d.world,e.clear(a);for(var m=f.allBodies(a.world),x=0;x<m.length;x++){var w=m[x];n.set(w,!1),w.id=t.nextId()}}},e.clear=function(a){u.clear(a.pairs),i.clear(a.detector)},e._bodiesClearForces=function(a){for(var d=a.length,m=0;m<d;m++){var x=a[m];x.force.x=0,x.force.y=0,x.torque=0}},e._bodiesApplyGravity=function(a,d){var m=typeof d.scale<"u"?d.scale:.001,x=a.length;if(!(d.x===0&&d.y===0||m===0))for(var w=0;w<x;w++){var C=a[w];C.isStatic||C.isSleeping||(C.force.y+=C.mass*d.y*m,C.force.x+=C.mass*d.x*m)}},e._bodiesUpdate=function(a,d){for(var m=a.length,x=0;x<m;x++){var w=a[x];w.isStatic||w.isSleeping||r.update(w,d)}},e._bodiesUpdateVelocities=function(a){for(var d=a.length,m=0;m<d;m++)r.updateVelocities(a[m])}})()},function(p,v,c){var e={};p.exports=e;var n=c(3),s=c(0),i=c(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(u){var o,f,l,t=u.length;for(o=0;o<t;o++)f=u[o],f.isActive&&(l=f.contactCount,f.collision.parentA.totalContacts+=l,f.collision.parentB.totalContacts+=l)},e.solvePosition=function(u,o,f){var l,t,r,a,d,m,x,w,C=e._positionDampen*(f||1),g=s.clamp(o/s._baseDelta,0,1),S=u.length;for(l=0;l<S;l++)t=u[l],!(!t.isActive||t.isSensor)&&(r=t.collision,a=r.parentA,d=r.parentB,m=r.normal,t.separation=r.depth+m.x*(d.positionImpulse.x-a.positionImpulse.x)+m.y*(d.positionImpulse.y-a.positionImpulse.y));for(l=0;l<S;l++)t=u[l],!(!t.isActive||t.isSensor)&&(r=t.collision,a=r.parentA,d=r.parentB,m=r.normal,w=t.separation-t.slop*g,(a.isStatic||d.isStatic)&&(w*=2),a.isStatic||a.isSleeping||(x=C/a.totalContacts,a.positionImpulse.x+=m.x*w*x,a.positionImpulse.y+=m.y*w*x),d.isStatic||d.isSleeping||(x=C/d.totalContacts,d.positionImpulse.x-=m.x*w*x,d.positionImpulse.y-=m.y*w*x))},e.postSolvePosition=function(u){for(var o=e._positionWarming,f=u.length,l=n.translate,t=i.update,r=0;r<f;r++){var a=u[r],d=a.positionImpulse,m=d.x,x=d.y,w=a.velocity;if(a.totalContacts=0,m!==0||x!==0){for(var C=0;C<a.parts.length;C++){var g=a.parts[C];l(g.vertices,d),t(g.bounds,g.vertices,w),g.position.x+=m,g.position.y+=x}a.positionPrev.x+=m,a.positionPrev.y+=x,m*w.x+x*w.y<0?(d.x=0,d.y=0):(d.x*=o,d.y*=o)}}},e.preSolveVelocity=function(u){var o=u.length,f,l;for(f=0;f<o;f++){var t=u[f];if(!(!t.isActive||t.isSensor)){var r=t.contacts,a=t.contactCount,d=t.collision,m=d.parentA,x=d.parentB,w=d.normal,C=d.tangent;for(l=0;l<a;l++){var g=r[l],S=g.vertex,M=g.normalImpulse,y=g.tangentImpulse;if(M!==0||y!==0){var P=w.x*M+C.x*y,D=w.y*M+C.y*y;m.isStatic||m.isSleeping||(m.positionPrev.x+=P*m.inverseMass,m.positionPrev.y+=D*m.inverseMass,m.anglePrev+=m.inverseInertia*((S.x-m.position.x)*D-(S.y-m.position.y)*P)),x.isStatic||x.isSleeping||(x.positionPrev.x-=P*x.inverseMass,x.positionPrev.y-=D*x.inverseMass,x.anglePrev-=x.inverseInertia*((S.x-x.position.x)*D-(S.y-x.position.y)*P))}}}}},e.solveVelocity=function(u,o){var f=o/s._baseDelta,l=f*f,t=l*f,r=-e._restingThresh*f,a=e._restingThreshTangent,d=e._frictionNormalMultiplier*f,m=e._frictionMaxStatic,x=u.length,w,C,g,S;for(g=0;g<x;g++){var M=u[g];if(!(!M.isActive||M.isSensor)){var y=M.collision,P=y.parentA,D=y.parentB,O=y.normal.x,T=y.normal.y,L=y.tangent.x,I=y.tangent.y,E=M.inverseMass,R=M.friction*M.frictionStatic*d,k=M.contacts,H=M.contactCount,q=1/H,X=P.position.x-P.positionPrev.x,G=P.position.y-P.positionPrev.y,K=P.angle-P.anglePrev,Z=D.position.x-D.positionPrev.x,te=D.position.y-D.positionPrev.y,se=D.angle-D.anglePrev;for(S=0;S<H;S++){var W=k[S],Q=W.vertex,z=Q.x-P.position.x,oe=Q.y-P.position.y,Y=Q.x-D.position.x,N=Q.y-D.position.y,B=X-oe*K,$=G+z*K,j=Z-N*se,re=te+Y*se,le=B-j,ce=$-re,ue=O*le+T*ce,ne=L*le+I*ce,he=M.separation+ue,me=Math.min(he,1);me=he<0?0:me;var De=me*R;ne<-De||ne>De?(C=ne>0?ne:-ne,w=M.friction*(ne>0?1:-1)*t,w<-C?w=-C:w>C&&(w=C)):(w=ne,C=m);var Pe=z*T-oe*O,Ae=Y*T-N*O,Le=q/(E+P.inverseInertia*Pe*Pe+D.inverseInertia*Ae*Ae),Oe=(1+M.restitution)*ue*Le;if(w*=Le,ue<r)W.normalImpulse=0;else{var We=W.normalImpulse;W.normalImpulse+=Oe,W.normalImpulse>0&&(W.normalImpulse=0),Oe=W.normalImpulse-We}if(ne<-a||ne>a)W.tangentImpulse=0;else{var Xe=W.tangentImpulse;W.tangentImpulse+=w,W.tangentImpulse<-C&&(W.tangentImpulse=-C),W.tangentImpulse>C&&(W.tangentImpulse=C),w=W.tangentImpulse-Xe}var xe=O*Oe+L*w,fe=T*Oe+I*w;P.isStatic||P.isSleeping||(P.positionPrev.x+=xe*P.inverseMass,P.positionPrev.y+=fe*P.inverseMass,P.anglePrev+=(z*fe-oe*xe)*P.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=xe*D.inverseMass,D.positionPrev.y-=fe*D.inverseMass,D.anglePrev-=(Y*fe-N*xe)*D.inverseInertia)}}}}})()},function(p,v,c){var e={};p.exports=e;var n=c(9),s=c(0);(function(){e.create=function(i){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},i)},e.update=function(i,u,o){var f=n.update,l=n.create,t=n.setActive,r=i.table,a=i.list,d=a.length,m=d,x=i.collisionStart,w=i.collisionEnd,C=i.collisionActive,g=u.length,S=0,M=0,y=0,P,D,O;for(O=0;O<g;O++)P=u[O],D=P.pair,D?(D.isActive&&(C[y++]=D),f(D,P,o)):(D=l(P,o),r[D.id]=D,x[S++]=D,a[m++]=D);for(m=0,d=a.length,O=0;O<d;O++)D=a[O],D.timeUpdated>=o?a[m++]=D:(t(D,!1,o),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?a[m++]=D:(w[M++]=D,delete r[D.id]));a.length!==m&&(a.length=m),x.length!==S&&(x.length=S),w.length!==M&&(w.length=M),C.length!==y&&(C.length=y)},e.clear=function(i){return i.table={},i.list.length=0,i.collisionStart.length=0,i.collisionActive.length=0,i.collisionEnd.length=0,i}})()},function(p,v,c){var e=p.exports=c(21);e.Axes=c(11),e.Bodies=c(12),e.Body=c(4),e.Bounds=c(1),e.Collision=c(8),e.Common=c(0),e.Composite=c(6),e.Composites=c(22),e.Constraint=c(10),e.Contact=c(16),e.Detector=c(13),e.Engine=c(17),e.Events=c(5),e.Grid=c(23),e.Mouse=c(14),e.MouseConstraint=c(24),e.Pair=c(9),e.Pairs=c(19),e.Plugin=c(15),e.Query=c(25),e.Render=c(26),e.Resolver=c(18),e.Runner=c(27),e.SAT=c(28),e.Sleeping=c(7),e.Svg=c(29),e.Vector=c(2),e.Vertices=c(3),e.World=c(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(p,v,c){var e={};p.exports=e;var n=c(15),s=c(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){n.use(e,Array.prototype.slice.call(arguments))},e.before=function(i,u){return i=i.replace(/^Matter./,""),s.chainPathBefore(e,i,u)},e.after=function(i,u){return i=i.replace(/^Matter./,""),s.chainPathAfter(e,i,u)}})()},function(p,v,c){var e={};p.exports=e;var n=c(6),s=c(10),i=c(0),u=c(4),o=c(12),f=i.deprecated;(function(){e.stack=function(l,t,r,a,d,m,x){for(var w=n.create({label:"Stack"}),C=l,g=t,S,M=0,y=0;y<a;y++){for(var P=0,D=0;D<r;D++){var O=x(C,g,D,y,S,M);if(O){var T=O.bounds.max.y-O.bounds.min.y,L=O.bounds.max.x-O.bounds.min.x;T>P&&(P=T),u.translate(O,{x:L*.5,y:T*.5}),C=O.bounds.max.x+d,n.addBody(w,O),S=O,M+=1}else C+=d}g+=P+m,C=l}return w},e.chain=function(l,t,r,a,d,m){for(var x=l.bodies,w=1;w<x.length;w++){var C=x[w-1],g=x[w],S=C.bounds.max.y-C.bounds.min.y,M=C.bounds.max.x-C.bounds.min.x,y=g.bounds.max.y-g.bounds.min.y,P=g.bounds.max.x-g.bounds.min.x,D={bodyA:C,pointA:{x:M*t,y:S*r},bodyB:g,pointB:{x:P*a,y:y*d}},O=i.extend(D,m);n.addConstraint(l,s.create(O))}return l.label+=" Chain",l},e.mesh=function(l,t,r,a,d){var m=l.bodies,x,w,C,g,S;for(x=0;x<r;x++){for(w=1;w<t;w++)C=m[w-1+x*t],g=m[w+x*t],n.addConstraint(l,s.create(i.extend({bodyA:C,bodyB:g},d)));if(x>0)for(w=0;w<t;w++)C=m[w+(x-1)*t],g=m[w+x*t],n.addConstraint(l,s.create(i.extend({bodyA:C,bodyB:g},d))),a&&w>0&&(S=m[w-1+(x-1)*t],n.addConstraint(l,s.create(i.extend({bodyA:S,bodyB:g},d)))),a&&w<t-1&&(S=m[w+1+(x-1)*t],n.addConstraint(l,s.create(i.extend({bodyA:S,bodyB:g},d))))}return l.label+=" Mesh",l},e.pyramid=function(l,t,r,a,d,m,x){return e.stack(l,t,r,a,d,m,function(w,C,g,S,M,y){var P=Math.min(a,Math.ceil(r/2)),D=M?M.bounds.max.x-M.bounds.min.x:0;if(!(S>P)){S=P-S;var O=S,T=r-1-S;if(!(g<O||g>T)){y===1&&u.translate(M,{x:(g+(r%2===1?1:-1))*D,y:0});var L=M?g*D:0;return x(l+L+g*d,C,g,S,M,y)}}})},e.newtonsCradle=function(l,t,r,a,d){for(var m=n.create({label:"Newtons Cradle"}),x=0;x<r;x++){var w=1.9,C=o.circle(l+x*(a*w),t+d,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),g=s.create({pointA:{x:l+x*(a*w),y:t},bodyB:C});n.addBody(m,C),n.addConstraint(m,g)}return m},f(e,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),e.car=function(l,t,r,a,d){var m=u.nextGroup(!0),x=20,w=-r*.5+x,C=r*.5-x,g=0,S=n.create({label:"Car"}),M=o.rectangle(l,t,r,a,{collisionFilter:{group:m},chamfer:{radius:a*.5},density:2e-4}),y=o.circle(l+w,t+g,d,{collisionFilter:{group:m},friction:.8}),P=o.circle(l+C,t+g,d,{collisionFilter:{group:m},friction:.8}),D=s.create({bodyB:M,pointB:{x:w,y:g},bodyA:y,stiffness:1,length:0}),O=s.create({bodyB:M,pointB:{x:C,y:g},bodyA:P,stiffness:1,length:0});return n.addBody(S,M),n.addBody(S,y),n.addBody(S,P),n.addConstraint(S,D),n.addConstraint(S,O),S},f(e,"car","Composites.car  moved to car example"),e.softBody=function(l,t,r,a,d,m,x,w,C,g){C=i.extend({inertia:1/0},C),g=i.extend({stiffness:.2,render:{type:"line",anchors:!1}},g);var S=e.stack(l,t,r,a,d,m,function(M,y){return o.circle(M,y,w,C)});return e.mesh(S,r,a,x,g),S.label="Soft Body",S},f(e,"softBody","Composites.softBody  moved to softBody and cloth examples")})()},function(p,v,c){var e={};p.exports=e;var n=c(9),s=c(0),i=s.deprecated;(function(){e.create=function(u){var o={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(o,u)},e.update=function(u,o,f,l){var t,r,a,d=f.world,m=u.buckets,x,w,C=!1;for(t=0;t<o.length;t++){var g=o[t];if(!(g.isSleeping&&!l)&&!(d.bounds&&(g.bounds.max.x<d.bounds.min.x||g.bounds.min.x>d.bounds.max.x||g.bounds.max.y<d.bounds.min.y||g.bounds.min.y>d.bounds.max.y))){var S=e._getRegion(u,g);if(!g.region||S.id!==g.region.id||l){(!g.region||l)&&(g.region=S);var M=e._regionUnion(S,g.region);for(r=M.startCol;r<=M.endCol;r++)for(a=M.startRow;a<=M.endRow;a++){w=e._getBucketId(r,a),x=m[w];var y=r>=S.startCol&&r<=S.endCol&&a>=S.startRow&&a<=S.endRow,P=r>=g.region.startCol&&r<=g.region.endCol&&a>=g.region.startRow&&a<=g.region.endRow;!y&&P&&P&&x&&e._bucketRemoveBody(u,x,g),(g.region===S||y&&!P||l)&&(x||(x=e._createBucket(m,w)),e._bucketAddBody(u,x,g))}g.region=S,C=!0}}}C&&(u.pairsList=e._createActivePairsList(u))},i(e,"update","Grid.update  replaced by Matter.Detector"),e.clear=function(u){u.buckets={},u.pairs={},u.pairsList=[]},i(e,"clear","Grid.clear  replaced by Matter.Detector"),e._regionUnion=function(u,o){var f=Math.min(u.startCol,o.startCol),l=Math.max(u.endCol,o.endCol),t=Math.min(u.startRow,o.startRow),r=Math.max(u.endRow,o.endRow);return e._createRegion(f,l,t,r)},e._getRegion=function(u,o){var f=o.bounds,l=Math.floor(f.min.x/u.bucketWidth),t=Math.floor(f.max.x/u.bucketWidth),r=Math.floor(f.min.y/u.bucketHeight),a=Math.floor(f.max.y/u.bucketHeight);return e._createRegion(l,t,r,a)},e._createRegion=function(u,o,f,l){return{id:u+","+o+","+f+","+l,startCol:u,endCol:o,startRow:f,endRow:l}},e._getBucketId=function(u,o){return"C"+u+"R"+o},e._createBucket=function(u,o){var f=u[o]=[];return f},e._bucketAddBody=function(u,o,f){var l=u.pairs,t=n.id,r=o.length,a;for(a=0;a<r;a++){var d=o[a];if(!(f.id===d.id||f.isStatic&&d.isStatic)){var m=t(f,d),x=l[m];x?x[2]+=1:l[m]=[f,d,1]}}o.push(f)},e._bucketRemoveBody=function(u,o,f){var l=u.pairs,t=n.id,r;o.splice(s.indexOf(o,f),1);var a=o.length;for(r=0;r<a;r++){var d=l[t(f,o[r])];d&&(d[2]-=1)}},e._createActivePairsList=function(u){var o,f=u.pairs,l=s.keys(f),t=l.length,r=[],a;for(a=0;a<t;a++)o=f[l[a]],o[2]>0?r.push(o):delete f[l[a]];return r}})()},function(p,v,c){var e={};p.exports=e;var n=c(3),s=c(7),i=c(14),u=c(5),o=c(13),f=c(10),l=c(6),t=c(0),r=c(1);(function(){e.create=function(a,d){var m=(a?a.mouse:null)||(d?d.mouse:null);m||(a&&a.render&&a.render.canvas?m=i.create(a.render.canvas):d&&d.element?m=i.create(d.element):(m=i.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var x=f.create({label:"Mouse Constraint",pointA:m.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),w={type:"mouseConstraint",mouse:m,element:null,body:null,constraint:x,collisionFilter:{category:1,mask:4294967295,group:0}},C=t.extend(w,d);return u.on(a,"beforeUpdate",function(){var g=l.allBodies(a.world);e.update(C,g),e._triggerEvents(C)}),C},e.update=function(a,d){var m=a.mouse,x=a.constraint,w=a.body;if(m.button===0){if(x.bodyB)s.set(x.bodyB,!1),x.pointA=m.position;else for(var C=0;C<d.length;C++)if(w=d[C],r.contains(w.bounds,m.position)&&o.canCollide(w.collisionFilter,a.collisionFilter))for(var g=w.parts.length>1?1:0;g<w.parts.length;g++){var S=w.parts[g];if(n.contains(S.vertices,m.position)){x.pointA=m.position,x.bodyB=a.body=w,x.pointB={x:m.position.x-w.position.x,y:m.position.y-w.position.y},x.angleB=w.angle,s.set(w,!1),u.trigger(a,"startdrag",{mouse:m,body:w});break}}}else x.bodyB=a.body=null,x.pointB=null,w&&u.trigger(a,"enddrag",{mouse:m,body:w})},e._triggerEvents=function(a){var d=a.mouse,m=d.sourceEvents;m.mousemove&&u.trigger(a,"mousemove",{mouse:d}),m.mousedown&&u.trigger(a,"mousedown",{mouse:d}),m.mouseup&&u.trigger(a,"mouseup",{mouse:d}),i.clearSourceEvents(d)}})()},function(p,v,c){var e={};p.exports=e;var n=c(2),s=c(8),i=c(1),u=c(12),o=c(3);(function(){e.collides=function(f,l){for(var t=[],r=l.length,a=f.bounds,d=s.collides,m=i.overlaps,x=0;x<r;x++){var w=l[x],C=w.parts.length,g=C===1?0:1;if(m(w.bounds,a))for(var S=g;S<C;S++){var M=w.parts[S];if(m(M.bounds,a)){var y=d(M,f);if(y){t.push(y);break}}}}return t},e.ray=function(f,l,t,r){r=r||1e-100;for(var a=n.angle(l,t),d=n.magnitude(n.sub(l,t)),m=(t.x+l.x)*.5,x=(t.y+l.y)*.5,w=u.rectangle(m,x,d,r,{angle:a}),C=e.collides(w,f),g=0;g<C.length;g+=1){var S=C[g];S.body=S.bodyB=S.bodyA}return C},e.region=function(f,l,t){for(var r=[],a=0;a<f.length;a++){var d=f[a],m=i.overlaps(d.bounds,l);(m&&!t||!m&&t)&&r.push(d)}return r},e.point=function(f,l){for(var t=[],r=0;r<f.length;r++){var a=f[r];if(i.contains(a.bounds,l))for(var d=a.parts.length===1?0:1;d<a.parts.length;d++){var m=a.parts[d];if(i.contains(m.bounds,l)&&o.contains(m.vertices,l)){t.push(a);break}}}return t}})()},function(p,v,c){var e={};p.exports=e;var n=c(4),s=c(0),i=c(6),u=c(1),o=c(5),f=c(2),l=c(14);(function(){var t,r;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(g){window.setTimeout(function(){g(s.now())},1e3/60)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(g){var S={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!g.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},M=s.extend(S,g);return M.canvas&&(M.canvas.width=M.options.width||M.canvas.width,M.canvas.height=M.options.height||M.canvas.height),M.mouse=g.mouse,M.engine=g.engine,M.canvas=M.canvas||m(M.options.width,M.options.height),M.context=M.canvas.getContext("2d"),M.textures={},M.bounds=M.bounds||{min:{x:0,y:0},max:{x:M.canvas.width,y:M.canvas.height}},M.controller=e,M.options.showBroadphase=!1,M.options.pixelRatio!==1&&e.setPixelRatio(M,M.options.pixelRatio),s.isElement(M.element)&&M.element.appendChild(M.canvas),M},e.run=function(g){(function S(M){g.frameRequestId=t(S),a(g,M),e.world(g,M),g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0),(g.options.showStats||g.options.showDebug)&&e.stats(g,g.context,M),(g.options.showPerformance||g.options.showDebug)&&e.performance(g,g.context,M),g.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(g){r(g.frameRequestId)},e.setPixelRatio=function(g,S){var M=g.options,y=g.canvas;S==="auto"&&(S=x(y)),M.pixelRatio=S,y.setAttribute("data-pixel-ratio",S),y.width=M.width*S,y.height=M.height*S,y.style.width=M.width+"px",y.style.height=M.height+"px"},e.setSize=function(g,S,M){g.options.width=S,g.options.height=M,g.bounds.max.x=g.bounds.min.x+S,g.bounds.max.y=g.bounds.min.y+M,g.options.pixelRatio!==1?e.setPixelRatio(g,g.options.pixelRatio):(g.canvas.width=S,g.canvas.height=M)},e.lookAt=function(g,S,M,y){y=typeof y<"u"?y:!0,S=s.isArray(S)?S:[S],M=M||{x:0,y:0};for(var P={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},D=0;D<S.length;D+=1){var O=S[D],T=O.bounds?O.bounds.min:O.min||O.position||O,L=O.bounds?O.bounds.max:O.max||O.position||O;T&&L&&(T.x<P.min.x&&(P.min.x=T.x),L.x>P.max.x&&(P.max.x=L.x),T.y<P.min.y&&(P.min.y=T.y),L.y>P.max.y&&(P.max.y=L.y))}var I=P.max.x-P.min.x+2*M.x,E=P.max.y-P.min.y+2*M.y,R=g.canvas.height,k=g.canvas.width,H=k/R,q=I/E,X=1,G=1;q>H?G=q/H:X=H/q,g.options.hasBounds=!0,g.bounds.min.x=P.min.x,g.bounds.max.x=P.min.x+I*X,g.bounds.min.y=P.min.y,g.bounds.max.y=P.min.y+E*G,y&&(g.bounds.min.x+=I*.5-I*X*.5,g.bounds.max.x+=I*.5-I*X*.5,g.bounds.min.y+=E*.5-E*G*.5,g.bounds.max.y+=E*.5-E*G*.5),g.bounds.min.x-=M.x,g.bounds.max.x-=M.x,g.bounds.min.y-=M.y,g.bounds.max.y-=M.y,g.mouse&&(l.setScale(g.mouse,{x:(g.bounds.max.x-g.bounds.min.x)/g.canvas.width,y:(g.bounds.max.y-g.bounds.min.y)/g.canvas.height}),l.setOffset(g.mouse,g.bounds.min))},e.startViewTransform=function(g){var S=g.bounds.max.x-g.bounds.min.x,M=g.bounds.max.y-g.bounds.min.y,y=S/g.options.width,P=M/g.options.height;g.context.setTransform(g.options.pixelRatio/y,0,0,g.options.pixelRatio/P,0,0),g.context.translate(-g.bounds.min.x,-g.bounds.min.y)},e.endViewTransform=function(g){g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0)},e.world=function(g,S){var M=s.now(),y=g.engine,P=y.world,D=g.canvas,O=g.context,T=g.options,L=g.timing,I=i.allBodies(P),E=i.allConstraints(P),R=T.wireframes?T.wireframeBackground:T.background,k=[],H=[],q,X={timestamp:y.timing.timestamp};if(o.trigger(g,"beforeRender",X),g.currentBackground!==R&&C(g,R),O.globalCompositeOperation="source-in",O.fillStyle="transparent",O.fillRect(0,0,D.width,D.height),O.globalCompositeOperation="source-over",T.hasBounds){for(q=0;q<I.length;q++){var G=I[q];u.overlaps(G.bounds,g.bounds)&&k.push(G)}for(q=0;q<E.length;q++){var K=E[q],Z=K.bodyA,te=K.bodyB,se=K.pointA,W=K.pointB;Z&&(se=f.add(Z.position,K.pointA)),te&&(W=f.add(te.position,K.pointB)),!(!se||!W)&&(u.contains(g.bounds,se)||u.contains(g.bounds,W))&&H.push(K)}e.startViewTransform(g),g.mouse&&(l.setScale(g.mouse,{x:(g.bounds.max.x-g.bounds.min.x)/g.options.width,y:(g.bounds.max.y-g.bounds.min.y)/g.options.height}),l.setOffset(g.mouse,g.bounds.min))}else H=E,k=I,g.options.pixelRatio!==1&&g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0);!T.wireframes||y.enableSleeping&&T.showSleeping?e.bodies(g,k,O):(T.showConvexHulls&&e.bodyConvexHulls(g,k,O),e.bodyWireframes(g,k,O)),T.showBounds&&e.bodyBounds(g,k,O),(T.showAxes||T.showAngleIndicator)&&e.bodyAxes(g,k,O),T.showPositions&&e.bodyPositions(g,k,O),T.showVelocity&&e.bodyVelocity(g,k,O),T.showIds&&e.bodyIds(g,k,O),T.showSeparations&&e.separations(g,y.pairs.list,O),T.showCollisions&&e.collisions(g,y.pairs.list,O),T.showVertexNumbers&&e.vertexNumbers(g,k,O),T.showMousePosition&&e.mousePosition(g,g.mouse,O),e.constraints(H,O),T.hasBounds&&e.endViewTransform(g),o.trigger(g,"afterRender",X),L.lastElapsed=s.now()-M},e.stats=function(g,S,M){for(var y=g.engine,P=y.world,D=i.allBodies(P),O=0,T=55,L=44,I=0,E=0,R=0;R<D.length;R+=1)O+=D[R].parts.length;var k={Part:O,Body:D.length,Cons:i.allConstraints(P).length,Comp:i.allComposites(P).length,Pair:y.pairs.list.length};S.fillStyle="#0e0f19",S.fillRect(I,E,T*5.5,L),S.font="12px Arial",S.textBaseline="top",S.textAlign="right";for(var H in k){var q=k[H];S.fillStyle="#aaa",S.fillText(H,I+T,E+8),S.fillStyle="#eee",S.fillText(q,I+T,E+26),I+=T}},e.performance=function(g,S){var M=g.engine,y=g.timing,P=y.deltaHistory,D=y.elapsedHistory,O=y.timestampElapsedHistory,T=y.engineDeltaHistory,L=y.engineUpdatesHistory,I=y.engineElapsedHistory,E=M.timing.lastUpdatesPerFrame,R=M.timing.lastDelta,k=d(P),H=d(D),q=d(T),X=d(L),G=d(I),K=d(O),Z=K/k||0,te=Math.round(k/R),se=1e3/k||0,W=4,Q=12,z=60,oe=34,Y=10,N=69;S.fillStyle="#0e0f19",S.fillRect(0,50,Q*5+z*6+22,oe),e.status(S,Y,N,z,W,P.length,Math.round(se)+" fps",se/e._goodFps,function(B){return P[B]/k-1}),e.status(S,Y+Q+z,N,z,W,T.length,R.toFixed(2)+" dt",e._goodDelta/R,function(B){return T[B]/q-1}),e.status(S,Y+(Q+z)*2,N,z,W,L.length,E+" upf",Math.pow(s.clamp(X/te||1,0,1),4),function(B){return L[B]/X-1}),e.status(S,Y+(Q+z)*3,N,z,W,I.length,G.toFixed(2)+" ut",1-E*G/e._goodFps,function(B){return I[B]/G-1}),e.status(S,Y+(Q+z)*4,N,z,W,D.length,H.toFixed(2)+" rt",1-H/e._goodFps,function(B){return D[B]/H-1}),e.status(S,Y+(Q+z)*5,N,z,W,O.length,Z.toFixed(2)+" x",Z*Z*Z,function(B){return(O[B]/P[B]/Z||0)-1})},e.status=function(g,S,M,y,P,D,O,T,L){g.strokeStyle="#888",g.fillStyle="#444",g.lineWidth=1,g.fillRect(S,M+7,y,1),g.beginPath(),g.moveTo(S,M+7-P*s.clamp(.4*L(0),-2,2));for(var I=0;I<y;I+=1)g.lineTo(S+I,M+7-(I<D?P*s.clamp(.4*L(I),-2,2):0));g.stroke(),g.fillStyle="hsl("+s.clamp(25+95*T,0,120)+",100%,60%)",g.fillRect(S,M-7,4,4),g.font="12px Arial",g.textBaseline="middle",g.textAlign="right",g.fillStyle="#eee",g.fillText(O,S+y,M-5)},e.constraints=function(g,S){for(var M=S,y=0;y<g.length;y++){var P=g[y];if(!(!P.render.visible||!P.pointA||!P.pointB)){var D=P.bodyA,O=P.bodyB,T,L;if(D?T=f.add(D.position,P.pointA):T=P.pointA,P.render.type==="pin")M.beginPath(),M.arc(T.x,T.y,3,0,2*Math.PI),M.closePath();else{if(O?L=f.add(O.position,P.pointB):L=P.pointB,M.beginPath(),M.moveTo(T.x,T.y),P.render.type==="spring")for(var I=f.sub(L,T),E=f.perp(f.normalise(I)),R=Math.ceil(s.clamp(P.length/5,12,20)),k,H=1;H<R;H+=1)k=H%2===0?1:-1,M.lineTo(T.x+I.x*(H/R)+E.x*k*4,T.y+I.y*(H/R)+E.y*k*4);M.lineTo(L.x,L.y)}P.render.lineWidth&&(M.lineWidth=P.render.lineWidth,M.strokeStyle=P.render.strokeStyle,M.stroke()),P.render.anchors&&(M.fillStyle=P.render.strokeStyle,M.beginPath(),M.arc(T.x,T.y,3,0,2*Math.PI),M.arc(L.x,L.y,3,0,2*Math.PI),M.closePath(),M.fill())}}},e.bodies=function(g,S,M){var y=M;g.engine;var P=g.options,D=P.showInternalEdges||!P.wireframes,O,T,L,I;for(L=0;L<S.length;L++)if(O=S[L],!!O.render.visible){for(I=O.parts.length>1?1:0;I<O.parts.length;I++)if(T=O.parts[I],!!T.render.visible){if(P.showSleeping&&O.isSleeping?y.globalAlpha=.5*T.render.opacity:T.render.opacity!==1&&(y.globalAlpha=T.render.opacity),T.render.sprite&&T.render.sprite.texture&&!P.wireframes){var E=T.render.sprite,R=w(g,E.texture);y.translate(T.position.x,T.position.y),y.rotate(T.angle),y.drawImage(R,R.width*-E.xOffset*E.xScale,R.height*-E.yOffset*E.yScale,R.width*E.xScale,R.height*E.yScale),y.rotate(-T.angle),y.translate(-T.position.x,-T.position.y)}else{if(T.circleRadius)y.beginPath(),y.arc(T.position.x,T.position.y,T.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(T.vertices[0].x,T.vertices[0].y);for(var k=1;k<T.vertices.length;k++)!T.vertices[k-1].isInternal||D?y.lineTo(T.vertices[k].x,T.vertices[k].y):y.moveTo(T.vertices[k].x,T.vertices[k].y),T.vertices[k].isInternal&&!D&&y.moveTo(T.vertices[(k+1)%T.vertices.length].x,T.vertices[(k+1)%T.vertices.length].y);y.lineTo(T.vertices[0].x,T.vertices[0].y),y.closePath()}P.wireframes?(y.lineWidth=1,y.strokeStyle=g.options.wireframeStrokeStyle,y.stroke()):(y.fillStyle=T.render.fillStyle,T.render.lineWidth&&(y.lineWidth=T.render.lineWidth,y.strokeStyle=T.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},e.bodyWireframes=function(g,S,M){var y=M,P=g.options.showInternalEdges,D,O,T,L,I;for(y.beginPath(),T=0;T<S.length;T++)if(D=S[T],!!D.render.visible)for(I=D.parts.length>1?1:0;I<D.parts.length;I++){for(O=D.parts[I],y.moveTo(O.vertices[0].x,O.vertices[0].y),L=1;L<O.vertices.length;L++)!O.vertices[L-1].isInternal||P?y.lineTo(O.vertices[L].x,O.vertices[L].y):y.moveTo(O.vertices[L].x,O.vertices[L].y),O.vertices[L].isInternal&&!P&&y.moveTo(O.vertices[(L+1)%O.vertices.length].x,O.vertices[(L+1)%O.vertices.length].y);y.lineTo(O.vertices[0].x,O.vertices[0].y)}y.lineWidth=1,y.strokeStyle=g.options.wireframeStrokeStyle,y.stroke()},e.bodyConvexHulls=function(g,S,M){var y=M,P,D,O;for(y.beginPath(),D=0;D<S.length;D++)if(P=S[D],!(!P.render.visible||P.parts.length===1)){for(y.moveTo(P.vertices[0].x,P.vertices[0].y),O=1;O<P.vertices.length;O++)y.lineTo(P.vertices[O].x,P.vertices[O].y);y.lineTo(P.vertices[0].x,P.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},e.vertexNumbers=function(g,S,M){var y=M,P,D,O;for(P=0;P<S.length;P++){var T=S[P].parts;for(O=T.length>1?1:0;O<T.length;O++){var L=T[O];for(D=0;D<L.vertices.length;D++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(P+"_"+D,L.position.x+(L.vertices[D].x-L.position.x)*.8,L.position.y+(L.vertices[D].y-L.position.y)*.8)}}},e.mousePosition=function(g,S,M){var y=M;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(S.position.x+"  "+S.position.y,S.position.x+5,S.position.y-5)},e.bodyBounds=function(g,S,M){var y=M;g.engine;var P=g.options;y.beginPath();for(var D=0;D<S.length;D++){var O=S[D];if(O.render.visible)for(var T=S[D].parts,L=T.length>1?1:0;L<T.length;L++){var I=T[L];y.rect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}P.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},e.bodyAxes=function(g,S,M){var y=M;g.engine;var P=g.options,D,O,T,L;for(y.beginPath(),O=0;O<S.length;O++){var I=S[O],E=I.parts;if(I.render.visible)if(P.showAxes)for(T=E.length>1?1:0;T<E.length;T++)for(D=E[T],L=0;L<D.axes.length;L++){var R=D.axes[L];y.moveTo(D.position.x,D.position.y),y.lineTo(D.position.x+R.x*20,D.position.y+R.y*20)}else for(T=E.length>1?1:0;T<E.length;T++)for(D=E[T],L=0;L<D.axes.length;L++)y.moveTo(D.position.x,D.position.y),y.lineTo((D.vertices[0].x+D.vertices[D.vertices.length-1].x)/2,(D.vertices[0].y+D.vertices[D.vertices.length-1].y)/2)}P.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},e.bodyPositions=function(g,S,M){var y=M;g.engine;var P=g.options,D,O,T,L;for(y.beginPath(),T=0;T<S.length;T++)if(D=S[T],!!D.render.visible)for(L=0;L<D.parts.length;L++)O=D.parts[L],y.arc(O.position.x,O.position.y,3,0,2*Math.PI,!1),y.closePath();for(P.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),T=0;T<S.length;T++)D=S[T],D.render.visible&&(y.arc(D.positionPrev.x,D.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},e.bodyVelocity=function(g,S,M){var y=M;y.beginPath();for(var P=0;P<S.length;P++){var D=S[P];if(D.render.visible){var O=n.getVelocity(D);y.moveTo(D.position.x,D.position.y),y.lineTo(D.position.x+O.x,D.position.y+O.y)}}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},e.bodyIds=function(g,S,M){var y=M,P,D;for(P=0;P<S.length;P++)if(S[P].render.visible){var O=S[P].parts;for(D=O.length>1?1:0;D<O.length;D++){var T=O[D];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(T.id,T.position.x+10,T.position.y-10)}}},e.collisions=function(g,S,M){var y=M,P=g.options,D,O,T,L;for(y.beginPath(),T=0;T<S.length;T++)if(D=S[T],!!D.isActive)for(O=D.collision,L=0;L<D.contactCount;L++){var I=D.contacts[L],E=I.vertex;y.rect(E.x-1.5,E.y-1.5,3.5,3.5)}for(P.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),T=0;T<S.length;T++)if(D=S[T],!!D.isActive&&(O=D.collision,D.contactCount>0)){var R=D.contacts[0].vertex.x,k=D.contacts[0].vertex.y;D.contactCount===2&&(R=(D.contacts[0].vertex.x+D.contacts[1].vertex.x)/2,k=(D.contacts[0].vertex.y+D.contacts[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic===!0?y.moveTo(R-O.normal.x*8,k-O.normal.y*8):y.moveTo(R+O.normal.x*8,k+O.normal.y*8),y.lineTo(R,k)}P.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},e.separations=function(g,S,M){var y=M,P=g.options,D,O,T,L,I;for(y.beginPath(),I=0;I<S.length;I++)if(D=S[I],!!D.isActive){O=D.collision,T=O.bodyA,L=O.bodyB;var E=1;!L.isStatic&&!T.isStatic&&(E=.5),L.isStatic&&(E=0),y.moveTo(L.position.x,L.position.y),y.lineTo(L.position.x-O.penetration.x*E,L.position.y-O.penetration.y*E),E=1,!L.isStatic&&!T.isStatic&&(E=.5),T.isStatic&&(E=0),y.moveTo(T.position.x,T.position.y),y.lineTo(T.position.x+O.penetration.x*E,T.position.y+O.penetration.y*E)}P.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},e.inspector=function(g,S){g.engine;var M=g.selected,y=g.render,P=y.options,D;if(P.hasBounds){var O=y.bounds.max.x-y.bounds.min.x,T=y.bounds.max.y-y.bounds.min.y,L=O/y.options.width,I=T/y.options.height;S.scale(1/L,1/I),S.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var E=0;E<M.length;E++){var R=M[E].data;switch(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.9)",S.setLineDash([1,2]),R.type){case"body":D=R.bounds,S.beginPath(),S.rect(Math.floor(D.min.x-3),Math.floor(D.min.y-3),Math.floor(D.max.x-D.min.x+6),Math.floor(D.max.y-D.min.y+6)),S.closePath(),S.stroke();break;case"constraint":var k=R.pointA;R.bodyA&&(k=R.pointB),S.beginPath(),S.arc(k.x,k.y,10,0,2*Math.PI),S.closePath(),S.stroke();break}S.setLineDash([]),S.translate(-.5,-.5)}g.selectStart!==null&&(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.6)",S.fillStyle="rgba(255,165,0,0.1)",D=g.selectBounds,S.beginPath(),S.rect(Math.floor(D.min.x),Math.floor(D.min.y),Math.floor(D.max.x-D.min.x),Math.floor(D.max.y-D.min.y)),S.closePath(),S.stroke(),S.fill(),S.translate(-.5,-.5)),P.hasBounds&&S.setTransform(1,0,0,1,0,0)};var a=function(g,S){var M=g.engine,y=g.timing,P=y.historySize,D=M.timing.timestamp;y.delta=S-y.lastTime||e._goodDelta,y.lastTime=S,y.timestampElapsed=D-y.lastTimestamp||0,y.lastTimestamp=D,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,P),y.engineDeltaHistory.unshift(M.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,P),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,P),y.engineUpdatesHistory.unshift(M.timing.lastUpdatesPerFrame),y.engineUpdatesHistory.length=Math.min(y.engineUpdatesHistory.length,P),y.engineElapsedHistory.unshift(M.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,P),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,P)},d=function(g){for(var S=0,M=0;M<g.length;M+=1)S+=g[M];return S/g.length||0},m=function(g,S){var M=document.createElement("canvas");return M.width=g,M.height=S,M.oncontextmenu=function(){return!1},M.onselectstart=function(){return!1},M},x=function(g){var S=g.getContext("2d"),M=window.devicePixelRatio||1,y=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return M/y},w=function(g,S){var M=g.textures[S];return M||(M=g.textures[S]=new Image,M.src=S,M)},C=function(g,S){var M=S;/(jpg|gif|png)$/.test(S)&&(M="url("+S+")"),g.canvas.style.background=M,g.canvas.style.backgroundSize="contain",g.currentBackground=S}})()},function(p,v,c){var e={};p.exports=e;var n=c(5),s=c(17),i=c(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(o){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=i.extend(f,o);return l.fps=0,l},e.run=function(o,f){return o.timeBuffer=e._frameDeltaFallback,function l(t){o.frameRequestId=e._onNextFrame(o,l),t&&o.enabled&&e.tick(o,f,t)}(),o},e.tick=function(o,f,l){var t=i.now(),r=o.delta,a=0,d=l-o.timeLastTick;if((!d||!o.timeLastTick||d>Math.max(e._maxFrameDelta,o.maxFrameTime))&&(d=o.frameDelta||e._frameDeltaFallback),o.frameDeltaSmoothing){o.frameDeltaHistory.push(d),o.frameDeltaHistory=o.frameDeltaHistory.slice(-o.frameDeltaHistorySize);var m=o.frameDeltaHistory.slice(0).sort(),x=o.frameDeltaHistory.slice(m.length*e._smoothingLowerBound,m.length*e._smoothingUpperBound),w=u(x);d=w||d}o.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),o.frameDelta=d,o.timeLastTick=l,o.timeBuffer+=o.frameDelta,o.timeBuffer=i.clamp(o.timeBuffer,0,o.frameDelta+r*e._timeBufferMargin),o.lastUpdatesDeferred=0;var C=o.maxUpdates||Math.ceil(o.maxFrameTime/r),g={timestamp:f.timing.timestamp};n.trigger(o,"beforeTick",g),n.trigger(o,"tick",g);for(var S=i.now();r>0&&o.timeBuffer>=r*e._timeBufferMargin;){n.trigger(o,"beforeUpdate",g),s.update(f,r),n.trigger(o,"afterUpdate",g),o.timeBuffer-=r,a+=1;var M=i.now()-t,y=i.now()-S,P=M+e._elapsedNextEstimate*y/a;if(a>=C||P>o.maxFrameTime){o.lastUpdatesDeferred=Math.round(Math.max(0,o.timeBuffer/r-e._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=a,n.trigger(o,"afterTick",g),o.frameDeltaHistory.length>=100&&(o.lastUpdatesDeferred&&Math.round(o.frameDelta/r)>C?i.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):o.lastUpdatesDeferred&&i.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof o.isFixed<"u"&&i.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(o.deltaMin||o.deltaMax)&&i.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),o.fps!==0&&i.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(o){e._cancelNextFrame(o)},e._onNextFrame=function(o,f){if(typeof window<"u"&&window.requestAnimationFrame)o.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return o.frameRequestId},e._cancelNextFrame=function(o){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(o.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=function(o){for(var f=0,l=o.length,t=0;t<l;t+=1)f+=o[t];return f/l||0}})()},function(p,v,c){var e={};p.exports=e;var n=c(8),s=c(0),i=s.deprecated;(function(){e.collides=function(u,o){return n.collides(u,o)},i(e,"collides","SAT.collides  replaced by Collision.collides")})()},function(p,v,c){var e={};p.exports=e,c(1);var n=c(0);(function(){e.pathToVertices=function(s,i){typeof window<"u"&&!("SVGPathSeg"in window)&&n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,o,f,l,t,r,a,d,m,x,w=[],C,g,S=0,M=0,y=0;i=i||15;var P=function(O,T,L){var I=L%2===1&&L>1;if(!m||O!=m.x||T!=m.y){m&&I?(C=m.x,g=m.y):(C=0,g=0);var E={x:C+O,y:g+T};(I||!m)&&(m=E),w.push(E),M=C+O,y=g+T}},D=function(O){var T=O.pathSegTypeAsLetter.toUpperCase();if(T!=="Z"){switch(T){case"M":case"L":case"T":case"C":case"S":case"Q":M=O.x,y=O.y;break;case"H":M=O.x;break;case"V":y=O.y;break}P(M,y,O.pathSegType)}};for(e._svgPathToAbsolute(s),f=s.getTotalLength(),r=[],u=0;u<s.pathSegList.numberOfItems;u+=1)r.push(s.pathSegList.getItem(u));for(a=r.concat();S<f;){if(x=s.getPathSegAtLength(S),t=r[x],t!=d){for(;a.length&&a[0]!=t;)D(a.shift());d=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=s.getPointAtLength(S),P(l.x,l.y,0);break}S+=i}for(u=0,o=a.length;u<o;++u)D(a[u]);return w},e._svgPathToAbsolute=function(s){for(var i,u,o,f,l,t,r=s.pathSegList,a=0,d=0,m=r.numberOfItems,x=0;x<m;++x){var w=r.getItem(x),C=w.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in w&&(a=w.x),"y"in w&&(d=w.y);else switch("x1"in w&&(o=a+w.x1),"x2"in w&&(l=a+w.x2),"y1"in w&&(f=d+w.y1),"y2"in w&&(t=d+w.y2),"x"in w&&(a+=w.x),"y"in w&&(d+=w.y),C){case"m":r.replaceItem(s.createSVGPathSegMovetoAbs(a,d),x);break;case"l":r.replaceItem(s.createSVGPathSegLinetoAbs(a,d),x);break;case"h":r.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(a),x);break;case"v":r.replaceItem(s.createSVGPathSegLinetoVerticalAbs(d),x);break;case"c":r.replaceItem(s.createSVGPathSegCurvetoCubicAbs(a,d,o,f,l,t),x);break;case"s":r.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(a,d,l,t),x);break;case"q":r.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(a,d,o,f),x);break;case"t":r.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(a,d),x);break;case"a":r.replaceItem(s.createSVGPathSegArcAbs(a,d,w.r1,w.r2,w.angle,w.largeArcFlag,w.sweepFlag),x);break;case"z":case"Z":a=i,d=u;break}(C=="M"||C=="m")&&(i=a,u=d)}}})()},function(p,v,c){var e={};p.exports=e;var n=c(6);c(0),function(){e.create=n.create,e.add=n.add,e.remove=n.remove,e.clear=n.clear,e.addComposite=n.addComposite,e.addBody=n.addBody,e.addConstraint=n.addConstraint}()}])})})(li);const pe=sn(ye);class ci{constructor(h){V(this,"widthCanvas",document.body.clientWidth>2560?1920:document.body.clientWidth);V(this,"maxBall");V(this,"heightCanvas");V(this,"DOM");V(this,"dataImgs",[]);V(this,"MatterJS");V(this,"sizeCustom");this.DOM={el:h},this.MatterJS={Engine:void 0,Render:void 0},this.maxBall=25,this.sizeCustom={mobile:{radius:_(5),scaleRatio:_(5)/267,scaleCircleMain:171/50,xLeftWall:0-_(9),xRightWall:window.innerWidth+_(9),yMainCircle:_(72.2)+_(17)},tablet:{radius:_(5),scaleRatio:_(5)/267,scaleCircleMain:190/50,xLeftWall:0-_(9),xRightWall:window.innerWidth+_(9),yMainCircle:_(72.2)+_(19)},desktop:{radius:_(13.3),scaleRatio:_(13.3)/267,scaleCircleMain:293/133,xLeftWall:0,xRightWall:window.innerWidth>2560?1920:window.innerWidth,yMainCircle:_(51.2)+_(29.3)}},this.heightCanvas=this.DOM.el.clientHeight,rn(Array.from(h==null?void 0:h.querySelectorAll(".home-bubble-item"))).forEach((p,v)=>{var e;const c=(e=p.querySelector("img"))==null?void 0:e.getAttribute("src");c&&v<this.maxBall&&this.dataImgs.push(c),p.style.pointerEvents="none",p.style.opacity="0"})}render(){var c,e,n,s;this.init();const h=pe.Runner.create(),p=(e=(c=this.MatterJS).Engine)==null?void 0:e.call(c),v=(s=(n=this.MatterJS).Render)==null?void 0:s.call(n);Me.create({trigger:this.DOM.el,start:"top center",end:"bottom center",onEnter:()=>{!p||!v||(pe.Render.run(v),pe.Runner.run(h,p))}})}init(){const h=this.sizeCustom[Ce].radius,p=this.sizeCustom[Ce].scaleRatio,v=this.sizeCustom[Ce].scaleCircleMain,c=this.sizeCustom[Ce].xLeftWall,e=this.sizeCustom[Ce].xRightWall,n=this.sizeCustom[Ce].yMainCircle,s=pe.Engine.create(),i=pe.Render.create({element:this.DOM.el,engine:s,options:{width:this.widthCanvas,height:this.heightCanvas,background:"transparent",wireframes:!1,showAngleIndicator:!1}}),u=Math.floor(this.widthCanvas/(h*2)),f=(this.widthCanvas-u*h*2)/(u-1);let l=0;for(let w=0;w<Math.round(this.dataImgs.length/u)&&this.dataImgs[l];w++){for(let C=0;C<u&&this.dataImgs[l];C++){const g=C*h*2+f*C,S=-w*h*2-h*2-f*w,M=ye.Bodies.circle(g,S,h,{friction:.001,frictionAir:.01,restitution:.8,timeScale:1.05,render:{fillStyle:"#f3f3f3",visible:!0,sprite:{texture:this.dataImgs[l],xScale:p,yScale:p}}});if(l++,pe.Composite.add(s.world,M),l>=this.dataImgs.length)break}if(l>=this.dataImgs.length)break}const t=ye.Bodies.circle(this.widthCanvas/2,n,h*v,{render:{fillStyle:"transparent"},isStatic:!0}),r=ye.Bodies.rectangle(this.widthCanvas/2,this.DOM.el.clientHeight,this.widthCanvas*10,1,{isStatic:!0,render:{fillStyle:"transparent"}}),a=ye.Bodies.rectangle(c,this.DOM.el.clientHeight/2,1,this.DOM.el.clientHeight*5,{isStatic:!0,render:{fillStyle:"transparent"}}),d=ye.Bodies.rectangle(e,this.DOM.el.clientHeight/2,1,this.DOM.el.clientHeight*5,{isStatic:!0,render:{fillStyle:"transparent"}});pe.Composite.add(s.world,[r,a,d,t]);const m=pe.Mouse.create(i.canvas),x=pe.MouseConstraint.create(s,{mouse:m,constraint:{stiffness:.2,render:{visible:!1}}});pe.Composite.add(s.world,x),x.mouse.element.removeEventListener("touchstart",x.mouse.mousedown),x.mouse.element.removeEventListener("touchmove",x.mouse.mousemove),x.mouse.element.removeEventListener("touchend",x.mouse.mouseup),x.mouse.element.addEventListener("touchstart",x.mouse.mousedown,{passive:!0}),x.mouse.element.addEventListener("touchmove",w=>{x.body&&x.mouse.mousemove(w)}),x.mouse.element.addEventListener("touchend",w=>{x.body&&x.mouse.mouseup(w)}),this.MatterJS.Render=()=>i,this.MatterJS.Engine=()=>s}}class ui{constructor(h){V(this,"DOM");this.DOM={el:h},U.emit(Te),this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this))}initParticles(){const h=this.DOM.el.querySelectorAll(".home-hero-brands-wrap"),p=this.DOM.el.querySelector(".home-bubble"),v=this.DOM.el.querySelector(".home-book-img-inner");h.length&&h.forEach(c=>{new be({wrap:c,listSplide:c.querySelectorAll(".home-hero-brands")})}),new ai(this.DOM.el),p&&new ci(p).render(),v&&new st({el:v,offset:30,direction:-1}),this.heroVideoAction(),this.handleParallaxTitle(),this.initMotion()}clear(){this.initParticles()}initMotion(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}heroVideoAction(){const h=this.DOM.el.querySelector(".home-hero-img-btn"),p=this.DOM.el.querySelector(".home-hero-poup-video"),v=this.DOM.el.querySelector(".home-hero--poup-ic"),c=this.DOM.el.querySelector(".home-hero-poup-video-content");h.addEventListener("click",()=>{p.classList.add("is-show")}),v.addEventListener("click",()=>e()),it({element:c,action:()=>e()});const e=()=>{p.classList.remove("is-show")}}handleParallaxTitle(){const h=this.DOM.el.querySelector(".home-feature-top-inner"),p=this.DOM.el.querySelector(".home-bubble");if(!h||!p)return;const v=F.fromTo(h,{y:h.clientHeight/2},{y:`-${window.innerHeight/2-h.clientHeight/2}px`,ease:"none",duration:3});Me.create({trigger:p,start:()=>"bottom bottom",end:"bottom top",animation:v,scrub:!0})}}class fi{constructor(h){V(this,"DOM");V(this,"pricing");V(this,"pricingBase");V(this,"pricingAgent");V(this,"planCurrent");V(this,"planOptions",{month:{planUser:35,basePrice:75,valSaleUp:0,type:"month"},year:{planUser:35,basePrice:75,valSaleUp:10,type:"year"}});this.DOM={el:h,input:h.querySelector(".fs-rangeslider_input__custom")};const p=document.getElementById("plane-options"),v=p==null?void 0:p.textContent;try{this.planOptions=JSON.parse(v||"{}")}catch(c){console.error("Error parsing plane-options data:",c)}this.planCurrent=this.planOptions.month,U.emit(Te),this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this)),on(this.clear.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}initParticles(){const h=this.DOM.el.querySelector(".home-book-img-inner");h&&new st({el:h,offset:30,direction:-1});const p=this.DOM.el.querySelectorAll(".pricing-testimonials-brands");p.length&&p.forEach(v=>{new be({wrap:v,listSplide:this.DOM.el.querySelectorAll(".pricing-testimonials-brands")})}),new be({wrap:this.DOM.el.querySelector(".book-brands-wrap"),listSplide:this.DOM.el.querySelectorAll(".home-hero-brands")}),this.initMotions(),this.handleInitPricing(),this.handleLoadMorePrice(),this.handleSubmitForm(),this.handleRoateIconSale(),this.handleShowTextMoreLimit()}initMotions(){b.parrallaxImage(this.DOM.el),b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.fadeWrap(this.DOM.el)}handleRoateIconSale(){const h=this.DOM.el.querySelector(".pricing-hero-tab-tag"),p=()=>{F.killTweensOf(h),F.to(h,{keyframes:{rotation:[16,-12,8,-4,2,0]},ease:"bounce.out",duration:1.6})};return an({el:h,animIn:p}),p}handleLoadMorePrice(){if(!this.DOM.el)return;const h=this.DOM.el.querySelectorAll("#tablePricing .pricing_table_row"),p=this.DOM.el.querySelector("#loadMoreTable"),v=this.DOM.el.querySelector(".pricing-table-note");let c=10;p.addEventListener("click",function(){const e=c+21;for(let n=c;n<e&&n<h.length;n++)if(n>10){const s=h[n],i=_e(n,c,e,0,1);s.style.animationDelay=`${i}s`,s.classList.add("show_row")}v.style.pointerEvents="auto",v.style.opacity="1",c=e,c>=h.length&&(this.style.display="none"),Me.refresh()})}onRenderPlane({item:h,bgElemenet:p,textTypePlan:v,bgElementInner:c,isInit:e=!1}){var t;const n=h.getAttribute("data-plan-pricing");if(!this.pricing||n===((t=this.planCurrent)==null?void 0:t.type))return;n==="year"&&this.handleRoateIconSale();const s=p.getBoundingClientRect().x,i=h.getBoundingClientRect().x,u=h.getBoundingClientRect().width,o=this.planOptions[n];if(this.planCurrent=o,v.forEach(r=>{const a=r.querySelectorAll(".txt.txt-18");n==="month"?(F.to(a[0],{opacity:1,ease:"power3",duration:.6}),F.to(a[1],{opacity:0,ease:"power3",duration:.6})):(F.to(a[0],{opacity:0,ease:"power3",duration:.6}),F.to(a[1],{opacity:1,ease:"power3",duration:.6}))}),!this.pricingAgent||!this.pricingBase)return;const f=xt(o.basePrice)?o.basePrice.toFixed(2):o.basePrice,l=xt(o.planUser)?o.planUser.toFixed(2):o.planUser;this.pricingBase.DOM.el.innerHTML=`${f}`,this.pricingAgent.DOM.el.innerHTML=`${l}`,F.to(c,{x:-(s-i),duration:.5,width:u,ease:"power3.out"}),this.pricing.handleCalcPricing({...o,isReinit:e})}handleSelectTypePlan(){const h=this.DOM.el.querySelector(".pricing-hero-bg-wrap"),p=this.DOM.el.querySelector(".pricing-hero-bg"),v=this.DOM.el.querySelectorAll(".js-text-timer");v.forEach(c=>{const e=c.querySelectorAll(".txt.txt-18");F.set(e[1],{yPercent:0,y:0,top:0,left:0,opacity:0})}),h&&this.DOM.el.querySelectorAll(".pricing-hero-tab-item").forEach(c=>{c.addEventListener("click",()=>{this.onRenderPlane({item:c,bgElemenet:h,textTypePlan:v,bgElementInner:p})})})}onResize(){var s,i;const h=this.DOM.el.querySelector(".pricing-hero-bg-wrap"),p=this.DOM.el.querySelector(".pricing-hero-bg"),v=this.DOM.el.querySelectorAll(".pricing-hero-tab-item");if(!h||!p||!v)return;const c=h.getBoundingClientRect().x,e=v[((s=this.planCurrent)==null?void 0:s.type)==="year"?1:0].getBoundingClientRect().x,n=v[((i=this.planCurrent)==null?void 0:i.type)==="year"?1:0].getBoundingClientRect().width;F.to(p,{x:-(c-e),duration:.5,width:n,ease:"power3.out"})}handleSubmitForm(){const h=this.DOM.el.querySelector(".pricing-message-success");this.DOM.el.querySelector(".form-btn-wrap").addEventListener("click",()=>{var v,c;localStorage.setItem("countUser",JSON.stringify(((c=(v=this.DOM)==null?void 0:v.input)==null?void 0:c.value)||0)),window.location.href="/sign-up"}),setInterval(()=>{h.style.display==="block"&&setTimeout(()=>{F.to(h,{opacity:0,duration:1.2,ease:"power3.out",onComplete:()=>{h.style.display="none"}})},2e3)},100)}handleInitPricing(){var u;const h=(u=this.DOM.el.querySelector(".txt-168.txt-bold"))==null?void 0:u.querySelector(".js-text-counter"),p=this.DOM.el.querySelector(".text-pricing-agent"),v=this.DOM.el.querySelector(".text-pricing-base"),c=document.querySelector(".fs-rangeslider_input__custom"),e=!0,n=new Je(h,c,e),s=new Je(v,void 0,e),i=new Je(p,void 0,e);this.pricingAgent=i,this.pricingBase=s,this.pricing=n,this.handleSelectTypePlan(),this.handleActionPlanPricing()}handleActionPlanPricing(){setTimeout(()=>{var h,p,v,c;this.pricing&&this.pricing.handleSlide({type:((h=this.planCurrent)==null?void 0:h.type)||"month",planUser:((p=this.planCurrent)==null?void 0:p.planUser)||35,valSaleUp:((v=this.planCurrent)==null?void 0:v.valSaleUp)||0,basePrice:((c=this.planCurrent)==null?void 0:c.basePrice)||75})},1e3)}handleShowTextMoreLimit(){const h=document.querySelector(".fs-rangeslider_input__custom"),p=document.querySelector(".pricing-hero-panel-main-range-heading-more"),v=this.DOM.el.querySelector(".fs-rangeslider_handle-value-txt");if(!h||!p)return;const c=this;h.addEventListener("input",function(){if(window.innerWidth<991){const e=c.DOM.el.querySelector(".fs-rangeslider_handle-value-2"),n=c.DOM.el.querySelector(".pricing-clipath");if(!e)return;const s=_e(Number(h.value),0,30,-e.clientWidth/6,e.clientWidth/3);e.style.marginLeft=`${-s}px`,n.style.marginLeft=`${s}px`}h.value==="30"?(p.style.opacity="1",p.style.transitionDuration=".3s",p.style.pointerEvents="auto"):(p.style.opacity="0",p.style.transitionDuration=".3s",p.style.pointerEvents="none"),v&&(h.value==="0"?(v.innerHTML="Drag me",F.killTweensOf(".pricing-range-total-left"),F.to(".pricing-range-total-left",{duration:.6,opacity:0,ease:"power3.out"})):(F.killTweensOf(".pricing-range-total-left"),F.to(".pricing-range-total-left",{duration:.6,opacity:1,ease:"power3.out"}),v.innerHTML=`${h.value} agent${h.value>"1"?"s":""} / user${h.value>"1"?"s":""}`))})}clear(){window.removeEventListener("resize",this.onResize.bind(this))}}class di{constructor(h){V(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),U.on(ee,this.initParticles),ie(this.clear.bind(this)),this.handleTotalArticle(),this.handleNavigateArticle(),this.handleSearchQuery()}initParticles(){b.maskText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}handleTotalArticle(){const h=this.DOM.el.querySelectorAll(".sc-result-card-wrap");h.length&&ln(()=>{for(let p=0;p<h.length;p++){const v=h[p].querySelectorAll(".w-dyn-item"),c=h[p].querySelector(".sc-result-card-content-total");if(!c)return;const e=v.length;e?c.innerHTML=`${e}`:c.innerHTML="0"}},1200)()}handleNavigateArticle(){var v;const h=this.DOM.el.querySelectorAll(".sc-articles-list-item-txt"),p=(v=this.DOM.el.querySelector(".sc-inner-right-heading"))==null?void 0:v.textContent;p&&h.forEach(c=>{c.addEventListener("click",()=>{localStorage.setItem("sc-category",p)})})}handleSearchQuery(){const h=this.DOM.el.querySelector(".sc-hero-wrapper-form-input"),p=this.DOM.el.querySelector(".sc-inner-left-search-go");h&&(h.addEventListener("input",v=>{var e;const c=(e=v.currentTarget)==null?void 0:e.value.trim();c!==""?p==null||p.classList.add("active"):p==null||p.classList.remove("active"),v.key==="Enter"&&c!==""&&(window.location.href=`/search?query=${c}`)}),h.addEventListener("keydown",v=>{var e;const c=(e=v.currentTarget)==null?void 0:e.value.trim();c!==""?p==null||p.classList.add("active"):p==null||p.classList.remove("active"),v.key==="Enter"&&c!==""&&(window.location.href=`/search?query=${c}`)}),p==null||p.addEventListener("click",()=>{const v=h.value.trim();v!==""&&(window.location.href=`/search?query=${v}`)}))}}F.registerPlugin(Me);class hi{constructor(){new URL(location.href).searchParams.get("dev")||(Ze.init(),this.init(),this.bindEvents(),b.init(),new ti,new ei)}init(){const h=document.querySelector("div[data-page]");if(!h)return;const p=h.getAttribute("data-page")||"home",v={home:()=>{new ui(h)},about:()=>{new si(h)},pricing:()=>{new fi(h)},"support-center":()=>{new di(h)},changelog:()=>{new oi(h)},"blog-detail":()=>{new hn(h)},"contact-us":()=>{new mn(h)},resources:()=>{new Zn(h)},"resource-detail":()=>{new Jn(h)},"request-trial":()=>{new xn(h)},"ask-a-question":()=>{new fn(h)},"sign-up":()=>{new jn(h)},"article-detail":()=>{new ri(h)},"case-studies-detail":()=>{new gn(h)},products:()=>{new vn(h)},solution:()=>{new _n(h)},"case-studies":()=>{new pn(h)},blog:()=>{new dn(h)}};v[p]&&v[p]()}bindEvents(){U.on(cn,this.init.bind(this)),Pt.simple(),Pt.simpleLoaded()}}new hi;
