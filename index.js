var Ut=Object.defineProperty;var Nt=(A,h,p)=>h in A?Ut(A,h,{enumerable:!0,configurable:!0,writable:!0,value:p}):A[h]=p;var F=(A,h,p)=>(Nt(A,typeof h!="symbol"?h+"":h,p),p);import{b as H,P as ee,u as te,d as b,e as Gt,f as ce,M as be,h as tt,g as q,i as nt,r as zt,_ as Je,j as $t,s as dt,S as we,L as Xt,k as Kt,A as Qt,l as Yt,D as Jt,m as Zt,n as jt,o as ht,R as pt,U as gt,a as _,p as Ze,q as wt,F as _t,T as en,c as Ye,t as tn,v as nn,w as Te,x as sn,y as rn,z as on,B as an}from"./global.js";/*!
 * ScrollToPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ae,Dt,xe,me,Me,Pt,Ot,Ne,Ct=function(){return typeof window<"u"},Tt=function(){return ae||Ct()&&(ae=window.gsap)&&ae.registerPlugin&&ae},At=function(h){return typeof h=="string"},mt=function(h){return typeof h=="function"},ke=function(h,p){var S=p==="x"?"Width":"Height",c="scroll"+S,e="client"+S;return h===xe||h===me||h===Me?Math.max(me[c],Me[c])-(xe["inner"+S]||me[e]||Me[e]):h[c]-h["offset"+S]},Be=function(h,p){var S="scroll"+(p==="x"?"Left":"Top");return h===xe&&(h.pageXOffset!=null?S="page"+p.toUpperCase()+"Offset":h=me[S]!=null?me:Me),function(){return h[S]}},ln=function(h,p,S,c){if(mt(h)&&(h=h(p,S,c)),typeof h!="object")return At(h)&&h!=="max"&&h.charAt(1)!=="="?{x:h,y:h}:{y:h};if(h.nodeType)return{y:h,x:h};var e={},n;for(n in h)e[n]=n!=="onAutoKill"&&mt(h[n])?h[n](p,S,c):h[n];return e},Lt=function(h,p){if(h=Pt(h)[0],!h||!h.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var S=h.getBoundingClientRect(),c=!p||p===xe||p===Me,e=c?{top:me.clientTop-(xe.pageYOffset||me.scrollTop||Me.scrollTop||0),left:me.clientLeft-(xe.pageXOffset||me.scrollLeft||Me.scrollLeft||0)}:p.getBoundingClientRect(),n={x:S.left-e.left,y:S.top-e.top};return!c&&p&&(n.x+=Be(p,"x")(),n.y+=Be(p,"y")()),n},vt=function(h,p,S,c,e){return!isNaN(h)&&typeof h!="object"?parseFloat(h)-e:At(h)&&h.charAt(1)==="="?parseFloat(h.substr(2))*(h.charAt(0)==="-"?-1:1)+c-e:h==="max"?ke(p,S)-e:Math.min(ke(p,S),Lt(h,p)[S]-e)},xt=function(){ae=Tt(),Ct()&&ae&&typeof document<"u"&&document.body&&(xe=window,Me=document.body,me=document.documentElement,Pt=ae.utils.toArray,ae.config({autoKillThreshold:7}),Ot=ae.config(),Dt=1)},He={version:"3.12.5",name:"scrollTo",rawVars:1,register:function(h){ae=h,xt()},init:function(h,p,S,c,e){Dt||xt();var n=this,s=ae.getProperty(h,"scrollSnapType");n.isWin=h===xe,n.target=h,n.tween=S,p=ln(p,c,h,e),n.vars=p,n.autoKill=!!p.autoKill,n.getX=Be(h,"x"),n.getY=Be(h,"y"),n.x=n.xPrev=n.getX(),n.y=n.yPrev=n.getY(),Ne||(Ne=ae.core.globals().ScrollTrigger),ae.getProperty(h,"scrollBehavior")==="smooth"&&ae.set(h,{scrollBehavior:"auto"}),s&&s!=="none"&&(n.snap=1,n.snapInline=h.style.scrollSnapType,h.style.scrollSnapType="none"),p.x!=null?(n.add(n,"x",n.x,vt(p.x,h,"x",n.x,p.offsetX||0),c,e),n._props.push("scrollTo_x")):n.skipX=1,p.y!=null?(n.add(n,"y",n.y,vt(p.y,h,"y",n.y,p.offsetY||0),c,e),n._props.push("scrollTo_y")):n.skipY=1},render:function(h,p){for(var S=p._pt,c=p.target,e=p.tween,n=p.autoKill,s=p.xPrev,i=p.yPrev,u=p.isWin,a=p.snap,d=p.snapInline,l,t,r,o,f;S;)S.r(h,S.d),S=S._next;l=u||!p.skipX?p.getX():s,t=u||!p.skipY?p.getY():i,r=t-i,o=l-s,f=Ot.autoKillThreshold,p.x<0&&(p.x=0),p.y<0&&(p.y=0),n&&(!p.skipX&&(o>f||o<-f)&&l<ke(c,"x")&&(p.skipX=1),!p.skipY&&(r>f||r<-f)&&t<ke(c,"y")&&(p.skipY=1),p.skipX&&p.skipY&&(e.kill(),p.vars.onAutoKill&&p.vars.onAutoKill.apply(e,p.vars.onAutoKillParams||[]))),u?xe.scrollTo(p.skipX?l:p.x,p.skipY?t:p.y):(p.skipY||(c.scrollTop=p.y),p.skipX||(c.scrollLeft=p.x)),a&&(h===1||h===0)&&(t=c.scrollTop,l=c.scrollLeft,d?c.style.scrollSnapType=d:c.style.removeProperty("scroll-snap-type"),c.scrollTop=t+1,c.scrollLeft=l+1,c.scrollTop=t,c.scrollLeft=l),p.xPrev=p.x,p.yPrev=p.y,Ne&&Ne.update()},kill:function(h){var p=h==="scrollTo",S=this._props.indexOf(h);return(p||h==="scrollTo_x")&&(this.skipX=1),(p||h==="scrollTo_y")&&(this.skipY=1),S>-1&&this._props.splice(S,1),!this._props.length}};He.max=ke;He.getOffset=Lt;He.buildGetter=Be;Tt()&&ae.registerPlugin(He);const je=(A,h,p,S,c)=>parseFloat(((A-h)*(c-S)/(p-h)+S).toFixed(3)),Ge=A=>{const h=parseFloat(getComputedStyle(document.documentElement).fontSize);return A/h};class cn{constructor(h){F(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this)),this.randomQuotes()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el)}randomQuotes(){const h=this.DOM.el.querySelector(".blog-quote-list");if(!h)return;const p=h.querySelectorAll(".blog-quote-item");if(!p)return;p.forEach(c=>{c.style.display="none"});const S=Gt(0,p.length);p[S].style.display="block"}clear(){this.initParticles()}}class un{constructor(h){F(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el)}clear(){this.initParticles()}}class fn{constructor(h){F(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el)}clear(){this.initParticles()}}class dn{constructor(h){F(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this)),this.handleExitedCaseStudiesDetails()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el)}clear(){this.initParticles()}handleExitedCaseStudiesDetails(){}}class hn{constructor(h){F(this,"DOM");this.DOM={el:h},H.emit(ce),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}class pn{constructor(h){F(this,"DOM");this.DOM={el:h},H.emit(ce),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}class gn{constructor(h){F(this,"DOM");this.DOM={el:h},H.emit(ce),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}class mn{constructor(h){F(this,"DOM");this.DOM={el:h},H.emit(ce),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this)),this.handleChangeBackgroundAccor(),this.heroVideoAction()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el),this.initMotion()}initMotion(){const h=this.DOM.el.querySelectorAll(".home-hero-brands-wrap");h.length&&h.forEach(p=>{new be({wrap:p,listSplide:p.querySelectorAll(".home-hero-brands")})})}clear(){this.initParticles()}heroVideoAction(){const h=this.DOM.el.querySelector(".product-tool-img-btn"),p=this.DOM.el.querySelector(".home-hero-poup-video"),S=this.DOM.el.querySelector(".home-hero--poup-ic"),c=this.DOM.el.querySelector(".home-hero-poup-video-content");if(!h||!p||!S||!c)return;h.addEventListener("click",()=>{p.classList.add("is-show")}),S.addEventListener("click",()=>e()),tt({element:c,action:()=>e()});const e=()=>{p.classList.remove("is-show")}}handleChangeBackgroundAccor(){const h=this.DOM.el.querySelector(".products-accordion-inner");h&&h.addEventListener("click",()=>{h.querySelectorAll(".products-accordion-item").forEach(S=>{if(S.classList.contains("products-accor-item-active")){const e=S.getAttribute("bg-color");if(!e)return;h.style.backgroundColor=e}})})}}class vn{constructor(h){F(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}function it(A){return typeof A=="number"}function _e(A){return typeof A=="string"}function ze(A){return typeof A=="boolean"}function yt(A){return Object.prototype.toString.call(A)==="[object Object]"}function J(A){return Math.abs(A)}function st(A){return Math.sign(A)}function Ie(A,h){return J(A-h)}function xn(A,h){if(A===0||h===0||J(A)<=J(h))return 0;const p=Ie(J(A),J(h));return J(p/A)}function yn(A){return Math.round(A*100)/100}function Re(A){return Fe(A).map(Number)}function he(A){return A[We(A)]}function We(A){return Math.max(0,A.length-1)}function rt(A,h){return h===We(A)}function St(A,h=0){return Array.from(Array(A),(p,S)=>h+S)}function Fe(A){return Object.keys(A)}function Et(A,h){return[A,h].reduce((p,S)=>(Fe(S).forEach(c=>{const e=p[c],n=S[c],s=yt(e)&&yt(n);p[c]=s?Et(e,n):n}),p),{})}function et(A,h){return typeof h.MouseEvent<"u"&&A instanceof h.MouseEvent}function Sn(A,h){const p={start:S,center:c,end:e};function S(){return 0}function c(i){return e(i)/2}function e(i){return h-i}function n(i,u){return _e(A)?p[A](i):A(h,i,u)}return{measure:n}}function Ve(){let A=[];function h(c,e,n,s={passive:!0}){let i;if("addEventListener"in c)c.addEventListener(e,n,s),i=()=>c.removeEventListener(e,n,s);else{const u=c;u.addListener(n),i=()=>u.removeListener(n)}return A.push(i),S}function p(){A=A.filter(c=>c())}const S={add:h,clear:p};return S}function Mn(A,h,p,S){const c=Ve(),e=1e3/60;let n=null,s=0,i=0;function u(){c.add(A,"visibilitychange",()=>{A.hidden&&r()})}function a(){t(),c.clear()}function d(f){if(!i)return;n||(n=f,p(),p());const m=f-n;for(n=f,s+=m;s>=e;)p(),s-=e;const v=s/e;S(v),i&&(i=h.requestAnimationFrame(d))}function l(){i||(i=h.requestAnimationFrame(d))}function t(){h.cancelAnimationFrame(i),n=null,s=0,i=0}function r(){n=null,s=0}return{init:u,destroy:a,start:l,stop:t,update:p,render:S}}function wn(A,h){const p=h==="rtl",S=A==="y",c=S?"y":"x",e=S?"x":"y",n=!S&&p?-1:1,s=a(),i=d();function u(r){const{height:o,width:f}=r;return S?o:f}function a(){return S?"top":p?"right":"left"}function d(){return S?"bottom":p?"left":"right"}function l(r){return r*n}return{scroll:c,cross:e,startEdge:s,endEdge:i,measureSize:u,direction:l}}function De(A=0,h=0){const p=J(A-h);function S(u){return u<A}function c(u){return u>h}function e(u){return S(u)||c(u)}function n(u){return e(u)?S(u)?A:h:u}function s(u){return p?u-p*Math.ceil((u-h)/p):u}return{length:p,max:h,min:A,constrain:n,reachedAny:e,reachedMax:c,reachedMin:S,removeOffset:s}}function It(A,h,p){const{constrain:S}=De(0,A),c=A+1;let e=n(h);function n(l){return p?J((c+l)%c):S(l)}function s(){return e}function i(l){return e=n(l),d}function u(l){return a().set(s()+l)}function a(){return It(A,s(),p)}const d={get:s,set:i,add:u,clone:a};return d}function Dn(A,h,p,S,c,e,n,s,i,u,a,d,l,t,r,o,f,m,v){const{cross:w,direction:C}=A,g=["INPUT","SELECT","TEXTAREA"],y={passive:!1},M=Ve(),x=Ve(),P=De(50,225).constrain(t.measure(20)),D={mouse:300,touch:400},O={mouse:500,touch:600},T=r?43:25;let L=!1,I=0,E=0,R=!1,k=!1,V=!1,W=!1;function X(B){if(!v)return;function $(re){(ze(v)||v(B,re))&&U(re)}const j=h;M.add(j,"dragstart",re=>re.preventDefault(),y).add(j,"touchmove",()=>{},y).add(j,"touchend",()=>{}).add(j,"touchstart",$).add(j,"mousedown",$).add(j,"touchcancel",G).add(j,"contextmenu",G).add(j,"click",oe,!0)}function z(){M.clear(),x.clear()}function Q(){const B=W?p:h;x.add(B,"touchmove",K,y).add(B,"touchend",G).add(B,"mousemove",K,y).add(B,"mouseup",G)}function Z(B){const $=B.nodeName||"";return g.includes($)}function ne(){return(r?O:D)[W?"mouse":"touch"]}function se(B,$){const j=d.add(st(B)*-1),re=a.byDistance(B,!r).distance;return r||J(B)<P?re:f&&$?re*.5:a.byIndex(j.get(),0).distance}function U(B){const $=et(B,S);W=$,V=r&&$&&!B.buttons&&L,L=Ie(c.get(),n.get())>=2,!($&&B.button!==0)&&(Z(B.target)||(R=!0,e.pointerDown(B),u.useFriction(0).useDuration(0),c.set(n),Q(),I=e.readPoint(B),E=e.readPoint(B,w),l.emit("pointerDown")))}function K(B){if(!et(B,S)&&B.touches.length>=2)return G(B);const j=e.readPoint(B),re=e.readPoint(B,w),le=Ie(j,I),ue=Ie(re,E);if(!k&&!W&&(!B.cancelable||(k=le>ue,!k)))return G(B);const fe=e.pointerMove(B);le>o&&(V=!0),u.useFriction(.3).useDuration(.75),s.start(),c.add(C(fe)),B.preventDefault()}function G(B){const j=a.byDistance(0,!1).index!==d.get(),re=e.pointerUp(B)*ne(),le=se(C(re),j),ue=xn(re,le),fe=T-10*ue,ie=m+ue/50;k=!1,R=!1,x.clear(),u.useDuration(fe).useFriction(ie),i.distance(le,!r),W=!1,l.emit("pointerUp")}function oe(B){V&&(B.stopPropagation(),B.preventDefault(),V=!1)}function Y(){return R}return{init:X,destroy:z,pointerDown:Y}}function Pn(A,h){let S,c;function e(d){return d.timeStamp}function n(d,l){const r=`client${(l||A.scroll)==="x"?"X":"Y"}`;return(et(d,h)?d:d.touches[0])[r]}function s(d){return S=d,c=d,n(d)}function i(d){const l=n(d)-n(c),t=e(d)-e(S)>170;return c=d,t&&(S=d),l}function u(d){if(!S||!c)return 0;const l=n(c)-n(S),t=e(d)-e(S),r=e(d)-e(c)>170,o=l/t;return t&&!r&&J(o)>.1?o:0}return{pointerDown:s,pointerMove:i,pointerUp:u,readPoint:n}}function On(){function A(p){const{offsetTop:S,offsetLeft:c,offsetWidth:e,offsetHeight:n}=p;return{top:S,right:c+e,bottom:S+n,left:c,width:e,height:n}}return{measure:A}}function Cn(A){function h(S){return A*(S/100)}return{measure:h}}function Tn(A,h,p,S,c,e,n){const s=[A].concat(S);let i,u,a=[],d=!1;function l(f){return c.measureSize(n.measure(f))}function t(f){if(!e)return;u=l(A),a=S.map(l);function m(v){for(const w of v){if(d)return;const C=w.target===A,g=S.indexOf(w.target),y=C?u:a[g],M=l(C?A:S[g]);if(J(M-y)>=.5){f.reInit(),h.emit("resize");break}}}i=new ResizeObserver(v=>{(ze(e)||e(f,v))&&m(v)}),p.requestAnimationFrame(()=>{s.forEach(v=>i.observe(v))})}function r(){d=!0,i&&i.disconnect()}return{init:t,destroy:r}}function An(A,h,p,S,c,e){let n=0,s=0,i=c,u=e,a=A.get(),d=0;function l(){const y=S.get()-A.get(),M=!i;let x=0;return M?(n=0,p.set(S),A.set(S),x=y):(p.set(A),n+=y/i,n*=u,a+=n,A.add(n),x=a-d),s=st(x),d=a,g}function t(){const y=S.get()-h.get();return J(y)<.001}function r(){return i}function o(){return s}function f(){return n}function m(){return w(c)}function v(){return C(e)}function w(y){return i=y,g}function C(y){return u=y,g}const g={direction:o,duration:r,velocity:f,seek:l,settled:t,useBaseFriction:v,useBaseDuration:m,useFriction:C,useDuration:w};return g}function Ln(A,h,p,S,c){const e=c.measure(10),n=c.measure(50),s=De(.1,.99);let i=!1;function u(){return!(i||!A.reachedAny(p.get())||!A.reachedAny(h.get()))}function a(t){if(!u())return;const r=A.reachedMin(h.get())?"min":"max",o=J(A[r]-h.get()),f=p.get()-h.get(),m=s.constrain(o/n);p.subtract(f*m),!t&&J(f)<e&&(p.set(A.constrain(p.get())),S.useDuration(25).useBaseFriction())}function d(t){i=!t}return{shouldConstrain:u,constrain:a,toggleActive:d}}function En(A,h,p,S,c){const e=De(-h+A,0),n=d(),s=a(),i=l();function u(r,o){return Ie(r,o)<=1}function a(){const r=n[0],o=he(n),f=n.lastIndexOf(r),m=n.indexOf(o)+1;return De(f,m)}function d(){return p.map((r,o)=>{const{min:f,max:m}=e,v=e.constrain(r),w=!o,C=rt(p,o);return w?m:C||u(f,v)?f:u(m,v)?m:v}).map(r=>parseFloat(r.toFixed(3)))}function l(){if(h<=A+c)return[e.max];if(S==="keepSnaps")return n;const{min:r,max:o}=s;return n.slice(r,o)}return{snapsContained:i,scrollContainLimit:s}}function In(A,h,p){const S=h[0],c=p?S-A:he(h);return{limit:De(c,S)}}function bn(A,h,p,S){const e=h.min+.1,n=h.max+.1,{reachedMin:s,reachedMax:i}=De(e,n);function u(l){return l===1?i(p.get()):l===-1?s(p.get()):!1}function a(l){if(!u(l))return;const t=A*(l*-1);S.forEach(r=>r.add(t))}return{loop:a}}function kn(A){const{max:h,length:p}=A;function S(e){const n=e-h;return p?n/-p:0}return{get:S}}function Bn(A,h,p,S,c){const{startEdge:e,endEdge:n}=A,{groupSlides:s}=c,i=d().map(h.measure),u=l(),a=t();function d(){return s(S).map(o=>he(o)[n]-o[0][e]).map(J)}function l(){return S.map(o=>p[e]-o[e]).map(o=>-J(o))}function t(){return s(u).map(o=>o[0]).map((o,f)=>o+i[f])}return{snaps:u,snapsAligned:a}}function Rn(A,h,p,S,c,e){const{groupSlides:n}=c,{min:s,max:i}=S,u=a();function a(){const l=n(e),t=!A||h==="keepSnaps";return p.length===1?[e]:t?l:l.slice(s,i).map((r,o,f)=>{const m=!o,v=rt(f,o);if(m){const w=he(f[0])+1;return St(w)}if(v){const w=We(e)-he(f)[0]+1;return St(w,he(f)[0])}return r})}return{slideRegistry:u}}function Fn(A,h,p,S,c){const{reachedAny:e,removeOffset:n,constrain:s}=S;function i(r){return r.concat().sort((o,f)=>J(o)-J(f))[0]}function u(r){const o=A?n(r):s(r),f=h.map((v,w)=>({diff:a(v-o,0),index:w})).sort((v,w)=>J(v.diff)-J(w.diff)),{index:m}=f[0];return{index:m,distance:o}}function a(r,o){const f=[r,r+p,r-p];if(!A)return r;if(!o)return i(f);const m=f.filter(v=>st(v)===o);return m.length?i(m):he(f)-p}function d(r,o){const f=h[r]-c.get(),m=a(f,o);return{index:r,distance:m}}function l(r,o){const f=c.get()+r,{index:m,distance:v}=u(f),w=!A&&e(f);if(!o||w)return{index:m,distance:r};const C=h[m]-v,g=r+a(C,0);return{index:m,distance:g}}return{byDistance:l,byIndex:d,shortcut:a}}function Vn(A,h,p,S,c,e,n){function s(d){const l=d.distance,t=d.index!==h.get();e.add(l),l&&(S.duration()?A.start():(A.update(),A.render(1),A.update())),t&&(p.set(h.get()),h.set(d.index),n.emit("select"))}function i(d,l){const t=c.byDistance(d,l);s(t)}function u(d,l){const t=h.clone().set(d),r=c.byIndex(t.get(),l);s(r)}return{distance:i,index:u}}function Hn(A,h,p,S,c,e,n,s){const i={passive:!0,capture:!0};let u=0;function a(t){if(!s)return;function r(o){if(new Date().getTime()-u>10)return;n.emit("slideFocusStart"),A.scrollLeft=0;const v=p.findIndex(w=>w.includes(o));it(v)&&(c.useDuration(0),S.index(v,0),n.emit("slideFocus"))}e.add(document,"keydown",d,!1),h.forEach((o,f)=>{e.add(o,"focus",m=>{(ze(s)||s(t,m))&&r(f)},i)})}function d(t){t.code==="Tab"&&(u=new Date().getTime())}return{init:a}}function Ee(A){let h=A;function p(){return h}function S(i){h=n(i)}function c(i){h+=n(i)}function e(i){h-=n(i)}function n(i){return it(i)?i:i.get()}return{get:p,set:S,add:c,subtract:e}}function bt(A,h){const p=A.scroll==="x"?n:s,S=h.style;let c=null,e=!1;function n(l){return`translate3d(${l}px,0px,0px)`}function s(l){return`translate3d(0px,${l}px,0px)`}function i(l){if(e)return;const t=yn(A.direction(l));t!==c&&(S.transform=p(t),c=t)}function u(l){e=!l}function a(){e||(S.transform="",h.getAttribute("style")||h.removeAttribute("style"))}return{clear:a,to:i,toggleActive:u}}function Wn(A,h,p,S,c,e,n,s,i){const a=Re(c),d=Re(c).reverse(),l=m().concat(v());function t(M,x){return M.reduce((P,D)=>P-c[D],x)}function r(M,x){return M.reduce((P,D)=>t(P,x)>0?P.concat([D]):P,[])}function o(M){return e.map((x,P)=>({start:x-S[P]+.5+M,end:x+h-.5+M}))}function f(M,x,P){const D=o(x);return M.map(O=>{const T=P?0:-p,L=P?p:0,I=P?"end":"start",E=D[O][I];return{index:O,loopPoint:E,slideLocation:Ee(-1),translate:bt(A,i[O]),target:()=>s.get()>E?T:L}})}function m(){const M=n[0],x=r(d,M);return f(x,p,!1)}function v(){const M=h-n[0]-1,x=r(a,M);return f(x,-p,!0)}function w(){return l.every(({index:M})=>{const x=a.filter(P=>P!==M);return t(x,h)<=.1})}function C(){l.forEach(M=>{const{target:x,translate:P,slideLocation:D}=M,O=x();O!==D.get()&&(P.to(O),D.set(O))})}function g(){l.forEach(M=>M.translate.clear())}return{canLoop:w,clear:g,loop:C,loopPoints:l}}function qn(A,h,p){let S,c=!1;function e(i){if(!p)return;function u(a){for(const d of a)if(d.type==="childList"){i.reInit(),h.emit("slidesChanged");break}}S=new MutationObserver(a=>{c||(ze(p)||p(i,a))&&u(a)}),S.observe(A,{childList:!0})}function n(){S&&S.disconnect(),c=!0}return{init:e,destroy:n}}function Un(A,h,p,S){const c={};let e=null,n=null,s,i=!1;function u(){s=new IntersectionObserver(r=>{i||(r.forEach(o=>{const f=h.indexOf(o.target);c[f]=o}),e=null,n=null,p.emit("slidesInView"))},{root:A.parentElement,threshold:S}),h.forEach(r=>s.observe(r))}function a(){s&&s.disconnect(),i=!0}function d(r){return Fe(c).reduce((o,f)=>{const m=parseInt(f),{isIntersecting:v}=c[m];return(r&&v||!r&&!v)&&o.push(m),o},[])}function l(r=!0){if(r&&e)return e;if(!r&&n)return n;const o=d(r);return r&&(e=o),r||(n=o),o}return{init:u,destroy:a,get:l}}function Nn(A,h,p,S,c,e){const{measureSize:n,startEdge:s,endEdge:i}=A,u=p[0]&&c,a=r(),d=o(),l=p.map(n),t=f();function r(){if(!u)return 0;const v=p[0];return J(h[s]-v[s])}function o(){if(!u)return 0;const v=e.getComputedStyle(he(S));return parseFloat(v.getPropertyValue(`margin-${i}`))}function f(){return p.map((v,w,C)=>{const g=!w,y=rt(C,w);return g?l[w]+a:y?l[w]+d:C[w+1][s]-v[s]}).map(J)}return{slideSizes:l,slideSizesWithGaps:t,startGap:a,endGap:d}}function Gn(A,h,p,S,c,e,n,s,i){const{startEdge:u,endEdge:a,direction:d}=A,l=it(p);function t(m,v){return Re(m).filter(w=>w%v===0).map(w=>m.slice(w,w+v))}function r(m){return m.length?Re(m).reduce((v,w,C)=>{const g=he(v)||0,y=g===0,M=w===We(m),x=c[u]-e[g][u],P=c[u]-e[w][a],D=!S&&y?d(n):0,O=!S&&M?d(s):0,T=J(P-O-(x+D));return C&&T>h+i&&v.push(w),M&&v.push(m.length),v},[]).map((v,w,C)=>{const g=Math.max(C[w-1]||0);return m.slice(g,v)}):[]}function o(m){return l?t(m,p):r(m)}return{groupSlides:o}}function zn(A,h,p,S,c,e,n){const{align:s,axis:i,direction:u,startIndex:a,loop:d,duration:l,dragFree:t,dragThreshold:r,inViewThreshold:o,slidesToScroll:f,skipSnaps:m,containScroll:v,watchResize:w,watchSlides:C,watchDrag:g,watchFocus:y}=e,M=2,x=On(),P=x.measure(h),D=p.map(x.measure),O=wn(i,u),T=O.measureSize(P),L=Cn(T),I=Sn(s,T),E=!d&&!!v,R=d||!!v,{slideSizes:k,slideSizesWithGaps:V,startGap:W,endGap:X}=Nn(O,P,D,p,R,c),z=Gn(O,T,f,d,P,D,W,X,M),{snaps:Q,snapsAligned:Z}=Bn(O,I,P,D,z),ne=-he(Q)+he(V),{snapsContained:se,scrollContainLimit:U}=En(T,ne,Z,v,M),K=E?se:Z,{limit:G}=In(ne,K,d),oe=It(We(K),a,d),Y=oe.clone(),N=Re(p),B=({dragHandler:de,scrollBody:Ke,scrollBounds:Qe,options:{loop:Ue}})=>{Ue||Qe.constrain(de.pointerDown()),Ke.seek()},$=({scrollBody:de,translate:Ke,location:Qe,offsetLocation:Ue,previousLocation:kt,scrollLooper:Bt,slideLooper:Rt,dragHandler:Ft,animation:Vt,eventHandler:ot,scrollBounds:Ht,options:{loop:at}},lt)=>{const ct=de.settled(),Wt=!Ht.shouldConstrain(),ut=at?ct:ct&&Wt,ft=ut&&!Ft.pointerDown();ft&&Vt.stop();const qt=Qe.get()*lt+kt.get()*(1-lt);Ue.set(qt),at&&(Bt.loop(de.direction()),Rt.loop()),Ke.to(Ue.get()),ft&&ot.emit("settle"),ut||ot.emit("scroll")},j=Mn(S,c,()=>B(ye),de=>$(ye,de)),re=.68,le=K[oe.get()],ue=Ee(le),fe=Ee(le),ie=Ee(le),pe=Ee(le),ve=An(ue,ie,fe,pe,l,re),Pe=Fn(d,K,ne,G,pe),Oe=Vn(j,oe,Y,ve,Pe,pe,n),Ae=kn(G),Le=Ve(),Ce=Un(h,p,n,o),{slideRegistry:qe}=Rn(E,v,K,U,z,N),Xe=Hn(A,p,qe,Oe,ve,Le,n,y),ye={ownerDocument:S,ownerWindow:c,eventHandler:n,containerRect:P,slideRects:D,animation:j,axis:O,dragHandler:Dn(O,A,S,c,pe,Pn(O,c),ue,j,Oe,ve,Pe,oe,n,L,t,r,m,re,g),eventStore:Le,percentOfView:L,index:oe,indexPrevious:Y,limit:G,location:ue,offsetLocation:ie,previousLocation:fe,options:e,resizeHandler:Tn(h,n,c,p,O,w,x),scrollBody:ve,scrollBounds:Ln(G,ie,pe,ve,L),scrollLooper:bn(ne,G,ie,[ue,ie,fe,pe]),scrollProgress:Ae,scrollSnapList:K.map(Ae.get),scrollSnaps:K,scrollTarget:Pe,scrollTo:Oe,slideLooper:Wn(O,T,ne,k,V,Q,K,ie,p),slideFocus:Xe,slidesHandler:qn(h,n,C),slidesInView:Ce,slideIndexes:N,slideRegistry:qe,slidesToScroll:z,target:pe,translate:bt(O,h)};return ye}function $n(){let A={},h;function p(u){h=u}function S(u){return A[u]||[]}function c(u){return S(u).forEach(a=>a(h,u)),i}function e(u,a){return A[u]=S(u).concat([a]),i}function n(u,a){return A[u]=S(u).filter(d=>d!==a),i}function s(){A={}}const i={init:p,emit:c,off:n,on:e,clear:s};return i}const Xn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Kn(A){function h(e,n){return Et(e,n||{})}function p(e){const n=e.breakpoints||{},s=Fe(n).filter(i=>A.matchMedia(i).matches).map(i=>n[i]).reduce((i,u)=>h(i,u),{});return h(e,s)}function S(e){return e.map(n=>Fe(n.breakpoints||{})).reduce((n,s)=>n.concat(s),[]).map(A.matchMedia)}return{mergeOptions:h,optionsAtMedia:p,optionsMediaQueries:S}}function Qn(A){let h=[];function p(e,n){return h=n.filter(({options:s})=>A.optionsAtMedia(s).active!==!1),h.forEach(s=>s.init(e,A)),n.reduce((s,i)=>Object.assign(s,{[i.name]:i}),{})}function S(){h=h.filter(e=>e.destroy())}return{init:p,destroy:S}}function $e(A,h,p){const S=A.ownerDocument,c=S.defaultView,e=Kn(c),n=Qn(e),s=Ve(),i=$n(),{mergeOptions:u,optionsAtMedia:a,optionsMediaQueries:d}=e,{on:l,off:t,emit:r}=i,o=O;let f=!1,m,v=u(Xn,$e.globalOptions),w=u(v),C=[],g,y,M;function x(){const{container:N,slides:B}=w;y=(_e(N)?A.querySelector(N):N)||A.children[0];const j=_e(B)?y.querySelectorAll(B):B;M=[].slice.call(j||y.children)}function P(N){const B=zn(A,y,M,S,c,N,i);if(N.loop&&!B.slideLooper.canLoop()){const $=Object.assign({},N,{loop:!1});return P($)}return B}function D(N,B){f||(v=u(v,N),w=a(v),C=B||C,x(),m=P(w),d([v,...C.map(({options:$})=>$)]).forEach($=>s.add($,"change",O)),w.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(Y),m.eventHandler.init(Y),m.resizeHandler.init(Y),m.slidesHandler.init(Y),m.options.loop&&m.slideLooper.loop(),y.offsetParent&&M.length&&m.dragHandler.init(Y),g=n.init(Y,C)))}function O(N,B){const $=z();T(),D(u({startIndex:$},N),B),i.emit("reInit")}function T(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),n.destroy(),s.clear()}function L(){f||(f=!0,s.clear(),T(),i.emit("destroy"),i.clear())}function I(N,B,$){!w.active||f||(m.scrollBody.useBaseFriction().useDuration(B===!0?0:w.duration),m.scrollTo.index(N,$||0))}function E(N){const B=m.index.add(1).get();I(B,N,-1)}function R(N){const B=m.index.add(-1).get();I(B,N,1)}function k(){return m.index.add(1).get()!==z()}function V(){return m.index.add(-1).get()!==z()}function W(){return m.scrollSnapList}function X(){return m.scrollProgress.get(m.offsetLocation.get())}function z(){return m.index.get()}function Q(){return m.indexPrevious.get()}function Z(){return m.slidesInView.get()}function ne(){return m.slidesInView.get(!1)}function se(){return g}function U(){return m}function K(){return A}function G(){return y}function oe(){return M}const Y={canScrollNext:k,canScrollPrev:V,containerNode:G,internalEngine:U,destroy:L,off:t,on:l,emit:r,plugins:se,previousScrollSnap:Q,reInit:o,rootNode:K,scrollNext:E,scrollPrev:R,scrollProgress:X,scrollSnapList:W,scrollTo:I,selectedScrollSnap:z,slideNodes:oe,slidesInView:Z,slidesNotInView:ne};return D(h,p),setTimeout(()=>i.emit("init"),0),Y}$e.globalOptions=void 0;class Yn{constructor(h){F(this,"DOM");this.DOM={el:h},H.emit(ce),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this)),this.appendSlide(".article-more-cards","btn-cate-prev","btn-cate-next")}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}appendSlide(h,p,S){const c=document.querySelector(h),e=$e(c,{align:"start",skipSnaps:!1}),n=document.getElementById(p),s=document.getElementById(S),i=()=>{n==null||n.classList.toggle("disabled",!e.canScrollPrev()),s==null||s.classList.toggle("disabled",!e.canScrollNext())};e.on("select",i),e.on("reInit",i),i(),n==null||n.addEventListener("click",()=>e.scrollPrev()),s==null||s.addEventListener("click",()=>e.scrollNext())}clear(){this.initParticles()}}class Jn{constructor(h){F(this,"DOM");this.DOM={el:h},H.emit(ce),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this)),this.appendSlide(".embla-cate","btn-cate-prev","btn-cate-next"),this.appendSlide(".embla-cs-slide","btn-case-studies-prev","btn-case-studies-next"),this.appendSlide(".embla-la-slide","btn-la-prev","btn-la-next"),this.appendSlide(".embla-video-hub-slide","btn-video-hub-prev","btn-video-hub-next")}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}appendSlide(h,p,S){const c=document.querySelector(h),e=$e(c,{align:"start",skipSnaps:!1}),n=document.getElementById(p),s=document.getElementById(S),i=()=>{n==null||n.classList.toggle("disabled",!e.canScrollPrev()),s==null||s.classList.toggle("disabled",!e.canScrollNext())};e.on("select",i),e.on("reInit",i),i(),n==null||n.addEventListener("click",()=>e.scrollPrev()),s==null||s.addEventListener("click",()=>e.scrollNext())}clear(){this.initParticles()}}class Zn{constructor(h){F(this,"DOM");this.DOM={el:h},H.emit(ce),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}initForm(){var S;const h=(S=this.DOM.el.querySelector("form"))==null?void 0:S.querySelector('input[name="userCount"]'),p=JSON.parse(localStorage.getItem("countUser")||"0");!p||!h||(h.value=p)}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el),this.initForm()}clear(){this.initParticles()}}class jn{constructor(h){F(this,"DOM");this.DOM={el:h},H.emit(ce),console.log("solution enter"),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this)),this.handleChangeBackgroundAccor(),this.handleChangeImageAccor(),this.heroVideoAction()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el),this.initMotion()}initMotion(){const h=this.DOM.el.querySelectorAll(".home-hero-brands-wrap");h.length&&h.forEach(p=>{new be({wrap:p,listSplide:p.querySelectorAll(".home-hero-brands")})})}clear(){this.initParticles()}heroVideoAction(){const h=this.DOM.el.querySelector(".product-tool-img-btn"),p=this.DOM.el.querySelector(".home-hero-poup-video"),S=this.DOM.el.querySelector(".home-hero--poup-ic"),c=this.DOM.el.querySelector(".home-hero-poup-video-content");if(!h||!p||!S||!c)return;h.addEventListener("click",()=>{p.classList.add("is-show")}),S.addEventListener("click",()=>e()),tt({element:c,action:()=>e()});const e=()=>{p.classList.remove("is-show")}}handleChangeBackgroundAccor(){const h=this.DOM.el.querySelector(".products-accordion-inner");h&&h.addEventListener("click",()=>{h.querySelectorAll(".products-accordion-item").forEach(S=>{if(S.classList.contains("products-accor-item-active")){const e=S.getAttribute("bg-color");if(!e)return;h.style.backgroundColor=e}})})}handleChangeImageAccor(){const h=Array.from(this.DOM.el.querySelectorAll(".solution-contracts-accordinale-item")),p=this.DOM.el.querySelectorAll(".solution-contracts-accordinale-img");h.forEach((S,c)=>{S.addEventListener("click",()=>{h.findIndex(s=>s.classList.contains("is-active-accordion"))===-1?p.forEach(s=>{q.to(s,{opacity:0,duration:.4,ease:"power3.out"})}):e(c)});const e=n=>{p.forEach((s,i)=>{n===i?q.to(s,{opacity:1,duration:.8,ease:"power3.out"}):q.to(s,{opacity:0,duration:.8,ease:"power3.out"})})};e(0)})}}class _n{constructor(){F(this,"el");F(this,"isGrid");this.el=document.querySelector(".grid-debug"),this.isGrid=localStorage.getItem("isGrid")==="true",this.el&&(this.el.style.display=this.isGrid?"block":"none"),this.init()}init(){if(!this.el)return;const h=p=>{const S=p.which||p.keyCode;!!p.shiftKey&&S===71&&(this.isGrid=!this.isGrid,this.el.style.display=this.isGrid?"block":"none",localStorage.setItem("isGrid",String(this.isGrid)))};return window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)}}}class ei{constructor(){F(this,"DOM");this.DOM={el:document.querySelector(".footer")},this.DOM.el&&(this.hander(),this.initMotion())}initMotion(){this.DOM.el&&(b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el))}hander(){var p;const h=(p=this.DOM.el)==null?void 0:p.querySelector(".footer-bottom-inner-back");q.registerPlugin(He),h==null||h.addEventListener("click",()=>{q.to(window,{scrollTo:0,duration:1.2,ease:"power3.inOut"})})}movingImageFooter(){var n,s,i,u,a;const h=(n=this.DOM.el)==null?void 0:n.querySelector(".footer-middle-inner-img"),p=(s=this.DOM.el)==null?void 0:s.querySelector(".footer-middle-list-imgs");new nt({el:p,offset:25,direction:1,scale:1.3});const S=(i=this.DOM.el)==null?void 0:i.querySelectorAll(".footer-middle-list-imgs-item"),c=q.quickTo(h,"x",{duration:.9,ease:"power3.out"}),e=d=>{S==null||S.forEach((l,t)=>{t===d?q.to(l,{opacity:1,ease:"power3.out",duration:.6,willChange:"opacity"}):q.to(l,{opacity:0,ease:"power3.out",duration:.6})})};e(1),h.style.willChange="transform",(u=this.DOM.el)==null||u.addEventListener("mousemove",d=>{if(!this.DOM.el)return;const l=d.pageX,t=je(l,0,window.innerWidth,-1,1),r=Math.floor(je(l,0,window.innerWidth,0,(S==null?void 0:S.length)||3)),o=(this.DOM.el.clientWidth-h.clientWidth)/2;c(t*o),e(r)}),(a=this.DOM.el)==null||a.addEventListener("mouseleave",()=>{c(0),e(1)})}resetMovingImageFooter(){}}class ti{constructor(){F(this,"DOM");F(this,"isOpenMenu");this.DOM={el:document.querySelector(".header-container"),footer:document.querySelector(".footer")},this.isOpenMenu=!1,this.show(),this.handleDropdownToggle(),this.handleOpenNavMobile()}show(){var u,a,d;let h=0;const p=((u=this.DOM.el)==null?void 0:u.getAttribute("data-type"))==="light";let S;if(!this.DOM.el)return;let c=!1,e=!1;const n=this.DOM.el.querySelector(".header-dropdown-overlay"),s=()=>{var l;clearTimeout(S),(l=this.DOM.el)==null||l.classList.add("scrollDown"),e=!0},i=()=>{clearTimeout(S),q.killTweensOf(n),q.to(n,{opacity:0,ease:"power3.out",overwrite:"auto",duration:.8}),this.handleResetDropdown(),S=setTimeout(()=>{var l;e=!1,c||(l=this.DOM.el)==null||l.classList.remove("scrollDown")},550)};(a=this.DOM.el)==null||a.addEventListener("mouseenter",s),(d=this.DOM.el)==null||d.addEventListener("mouseleave",i),window.addEventListener("scroll",()=>{var m;if(!this.DOM.el)return;const l=window.pageYOffset||document.documentElement.scrollTop||0;c=l>this.DOM.el.clientHeight;const t=((m=this.DOM.footer)==null?void 0:m.getBoundingClientRect().y)-this.DOM.el.clientHeight<0,o=h<l&&l>this.DOM.el.clientHeight*2||t,f=h>l&&!t;if(o)this.DOM.el.classList.add("hidden"),this.handleResetDropdown();else if(f)if(this.DOM.el.classList.remove("hidden"),c)this.DOM.el.classList.add("scrollDown");else{if(e)return;this.DOM.el.classList.remove("scrollDown")}h=l,l>20?q.to(this.DOM.el,{backgroundColor:p?"#011623":"#fff",boxShadow:"0 0 10px 0 rgba(0, 0, 0, 0.1)",ease:"power3.out",overwrite:"auto"}):q.to(this.DOM.el,{backgroundColor:"transparent",boxShadow:"none",ease:"power3.out",overwrite:"auto"})})}handleResetDropdown(){if(!this.DOM.el)return;this.DOM.el.querySelectorAll(".header-main-menu-dropdown").forEach(p=>{const S=p.querySelector(".header-main-menu-dropdown-ic"),c=p.querySelector(".header-dropdown");!S||!c||(q.killTweensOf([c,S]),q.to(S,{ease:"power3.out",duration:.4,rotate:0,overwrite:"auto"}),q.to(c,{ease:"power3.out",y:50,boxShadow:"none",pointerEvents:"none",opacity:0,zIndex:1,overwrite:"auto"}))})}handleDropdownToggle(){if(!this.DOM.el)return;this.DOM.el.querySelectorAll(".header-main-menu-dropdown").forEach(p=>{const S=p.querySelector(".header-main-menu-dropdown-ic"),c=p.querySelector(".header-dropdown");q.set(".header-dropdown",{y:50});const e=()=>{q.killTweensOf([c,S]),q.killTweensOf(p),q.to(S,{ease:"power3.out",duration:.4,rotate:180,overwrite:"auto"}),q.to(c,{ease:"power3.out",opacity:1,boxShadow:"0 0 10px 0 rgba(0, 0, 0, 0.1)",y:0,pointerEvents:"all",overwrite:"auto",zIndex:2})};zt(()=>{p.addEventListener("mouseenter",e),p.addEventListener("mouseleave",this.handleResetDropdown.bind(this))})})}handleIconToggleMobile(h){var S;const p=(S=this.DOM.el)==null?void 0:S.querySelectorAll(".header-btn-menu-icon-line");p&&(h?(q.to(p[0],{ease:"power3",duration:.4,transformOrigin:"center center",rotate:45,y:"0.25rem",overwrite:"auto"}),q.to(p[1],{ease:"power3",duration:.4,rotate:-45,y:"-0.25rem",transformOrigin:"center center",overwrite:"auto"})):(q.to(p[0],{ease:"power3",duration:.4,transformOrigin:"center center",rotate:0,y:0,overwrite:"auto"}),q.to(p[1],{ease:"power3",duration:.4,rotate:0,y:0,transformOrigin:"center center",overwrite:"auto"})))}handleOpenNavMobile(){var S,c;const h=(S=this.DOM.el)==null?void 0:S.querySelector(".header-btn-menu"),p=(c=this.DOM.el)==null?void 0:c.querySelector(".header-mobile-nav");!h||!p||(q.set(p,{opacity:0,xPercent:100,pointerEvents:"none",overwrite:"auto"}),h.addEventListener("click",()=>{var e,n;if(this.isOpenMenu){this.isOpenMenu=!1,(e=this.DOM.el)==null||e.classList.remove("isOpenMenu"),Je.enabled(),this.handleIconToggleMobile(!1),q.to(p,{opacity:0,duration:.6,xPercent:100,ease:"power3.out",pointerEvents:"none",overwrite:"auto"});return}else this.isOpenMenu=!0,(n=this.DOM.el)==null||n.classList.add("isOpenMenu"),Je.disabled(),this.handleIconToggleMobile(!0),q.to(p,{opacity:1,xPercent:0,pointerEvents:"all",duration:.6,ease:"power3.out",overwrite:"auto"})}))}}const ni=({el:A,isGsap:h=!0,isDebug:p,inScreen:S,onEnterBack:c,outScreen:e,threshold:n=0,onToggle:s,onToggleOb:i,start:u,end:a})=>{let d=!1,l=null,t;return!$t()||h?dt(()=>{l=we.create({trigger:A,start:u||`top+=${n*100}% bottom`,end:a||"bottom top",markers:p,onToggle:f=>{d=f.isActive,s&&s(f),d?S&&S():e&&e()},onEnterBack:c,invalidateOnRefresh:!0})}):dt(()=>{t=new IntersectionObserver(f=>{d=f[0].isIntersecting,i&&i(d),d?S&&S():e&&e()},{threshold:n}),t.observe(A)}),{isInViewPointer:()=>d,removeOb:()=>{t&&(t.unobserve(A),t.disconnect()),d=!1,l==null||l.kill(),l=null}}};class ii{constructor(){F(this,"DOM");F(this,"isReady");F(this,"inited");F(this,"windowIsBlur");F(this,"isSimpleLoader");F(this,"minProgress");F(this,"processing");F(this,"registerCount");F(this,"lowNet");F(this,"strokeDashoffset");F(this,"obServerAPI");F(this,"idAnimationLoop");F(this,"runAnimation");F(this,"delayPageEnter");F(this,"delaLoadingOut");this.registerLoader=this.registerLoader.bind(this),this.unRegisterLoader=this.unRegisterLoader.bind(this),this.init()}init(){this.DOM={main:document.querySelector(".page-loading")},document.body.classList.add("js-ready","is-loading"),H.emit(Xt),this.inited=!!this.DOM.main,this.isReady=!1,this.windowIsBlur=!1,this.isSimpleLoader=!1,this.minProgress=98,this.delayPageEnter=1.2,this.delaLoadingOut=.3,this.processing={delta:0,percentStuck:0,runWidth:0},this.registerCount=0,this.lowNet=0,this.strokeDashoffset=829,this.hideLoading=this.hideLoading.bind(this),Kt(()=>(H.on(pt,this.registerLoader),H.on(gt,this.unRegisterLoader),window.addEventListener("DOMContentLoaded",this.hideLoading),()=>{H.off(pt,this.registerLoader),H.off(gt,this.unRegisterLoader),window.removeEventListener("DOMContentLoaded",this.hideLoading)}))}simpleLoaded(){var h;(h=this.DOM.main)==null||h.classList.add("is-simple"),this.isSimpleLoader=!0,this.pageLoaded()}simple(){this.obServerAPI=ni({el:document.body}),this.isSimpleLoader=!0,this.isReady=!0,H.emit(Qt),document.body.classList.add("is-ready")}hideLoading(){H.emit(Yt)}hide(){Jt(()=>{this.DOM.main&&(this.DOM.main.style.visibility="hidden")})}async pageLoaded(){var h,p;if(this.idAnimationLoop&&cancelAnimationFrame(this.idAnimationLoop),document.body.classList.remove("is-loading"),document.body.classList.remove("is-simple"),H.emit(ee),H.emit(Zt),this.isSimpleLoader){if(!this.DOM.main)return;if(((h=document.querySelector(".main"))==null?void 0:h.getAttribute("data-page"))==="home"){const c=q.timeline(),e=this.DOM.main.querySelector(".page-loading-content-first"),n=new jt(e,{types:"words, lines"}),s=(p=this.DOM.main.querySelector(".page-loading-content-logo"))==null?void 0:p.querySelector("img");e.classList.add("text__mask"),n.lines&&n.lines.forEach(i=>{const u=document.createElement("div");u.appendChild(i),u.classList.add("line__mask"),e.appendChild(u)}),q.set(".page-loading-content-first",{opacity:1,onComplete:()=>{var i;(i=n.lines)!=null&&i.length&&q.set(n.lines,{y:"110%"})}}),c.to(n.lines,{y:"0%",duration:1.2,ease:"power3.out",stagger:.1}).to(n.lines,{y:"-110%",duration:1.2,ease:"power3.inOut"}).to(s,{y:"0%",duration:.8,ease:"power3.out"},"-=0.55").to(s,{y:"-110%",overwrite:"auto",duration:.8,ease:"power3.inOut"}),c.to(this.DOM.main,{opacity:0,duration:this.delayPageEnter,ease:"power3.inOut",onStart:()=>{document.body.classList.remove("is-loading")},onComplete:()=>{setTimeout(()=>this.hide(),100)}}),setTimeout(()=>{H.emit(ce),H.emit(ht)},3750)}else q.to(this.DOM.main,{opacity:0,duration:this.delayPageEnter,ease:"power3.inOut",onStart:()=>{document.body.classList.remove("is-loading")},onComplete:()=>{setTimeout(()=>this.hide(),100)}}),setTimeout(()=>{H.emit(ce),H.emit(ht)},250)}}registerLoader(){this.registerCount++}unRegisterLoader(){this.registerCount--}}const Mt=new ii;class si{constructor(h){F(this,"DOM");this.DOM={el:h},H.emit(ce),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}handleStackCard(){var t;const h=this.DOM.el.querySelector(".about-vision-sticky-inner"),p=this.DOM.el.querySelector(".about-vision-sticky-left"),S=p.querySelectorAll(".about-sticky-left-card"),c=this.DOM.el.querySelector(".about-vision-sticky-right-inner"),e=(t=this.DOM.el.querySelector(".about-vision-sticky-right-inner"))==null?void 0:t.querySelectorAll(".about-sticky-right-img"),n=Ge((window.innerHeight-c.clientHeight)/2),s=this.DOM.el.querySelector(".about-vision-sticky-left-wrap"),i=S[S.length-1];this.DOM.listImagesDesk=e;const u=Ge((c.clientHeight-_(3.2)*2)/S.length),a=(S.length-1)*u+Ge(i.clientHeight)+3.2*(S.length-1),d=Ge(window.innerHeight)-n;Ze?(()=>{const r=q.timeline({scrollTrigger:{trigger:".about-vision-sticky",start:"top top",end(){return"bottom bottom"},scrub:1,onUpdate:v=>{const{progress:w}=v,C=Math.round(wt(w,0,1,0,S.length-1));m(C)}}});q.timeline({scrollTrigger:{trigger:".about-vision-sticky",start:"top top",end:"bottom bottom",scrub:1}}).to(p,{y:`-${a-d+n}rem`}),(v=>{S.forEach((w,C)=>{C!==2&&r.to(w,{height:`${u}rem`,ease:"none",overwrite:"auto"})})})();const m=v=>{!Ze||!(e!=null&&e.length)||e.forEach((w,C)=>{C===v?(q.killTweensOf(w),q.to(w,{opacity:1,ease:"power3",duration:.8})):q.to(w,{opacity:0,ease:"power3",duration:.8})})};m(0),h.style.top=`${n}rem`,s.style.height=`${window.innerHeight-_(n)}px`,s.style.marginBottom=`${-n}rem`})():this.handleReplaceUrlImg()}handleReplaceUrlImg(){var S;const h=this.DOM.el.querySelectorAll(".about-img-mb"),p=(S=this.DOM.el.querySelector(".about-vision-sticky-right-inner"))==null?void 0:S.querySelectorAll(".about-sticky-right-img");h.forEach((c,e)=>{var u,a;const n=c.querySelector("img");if(!p.length||!n)return;const s=(u=p[e].querySelector("img"))==null?void 0:u.getAttribute("src"),i=(a=p[e].querySelector("img"))==null?void 0:a.getAttribute("srcset");s&&i&&(n.setAttribute("src",s),n.setAttribute("srcset",i))})}}class ri{constructor(h){F(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}clear(){this.initParticles()}initParticles(){var i;const h=this.DOM.el.querySelector(".articles-show"),p=h==null?void 0:h.querySelectorAll(".text-support-center"),S=window.location.pathname.split("/"),c=S[S.length-1],e=this.DOM.el.querySelector(".sc-text-name");if(!document.referrer.includes("support-center"))p==null||p.forEach(u=>{var l,t,r,o;const a=(l=u.parentElement)==null?void 0:l.querySelectorAll(".text-article-child"),d=a&&Array.from(a);if(!(!a||!e||!u.textContent||!d)){for(let f=0;f<d.length;f++)if(d[f].textContent===c){const v=(t=u==null?void 0:u.parentElement)==null?void 0:t.querySelector(".text-support-center");if(!v)return;(o=e.parentElement)==null||o.setAttribute("href",`/support-center/${(r=v.textContent)==null?void 0:r.toLowerCase().split(" ").join("-")}`),e.innerHTML=v.textContent;break}}});else{const u=localStorage.getItem("sc-category");if(!u||!e)return;e.innerHTML=u,(i=e.parentElement)==null||i.setAttribute("href",`/support-center/${u==null?void 0:u.toLowerCase().split(" ").join("-")}`)}}}class oi{constructor(h){F(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}initParticles(){this.initMotion(),this.handleDrawLine(),this.handleAction()}handleDrawLine(){const h=this.DOM.el.querySelectorAll(".changelog-item");we.refresh(),h.forEach((p,S)=>{const c=p.querySelector(".line-draws");if(c&&(c.style.willChange="transform",we.create({trigger:p,start:()=>`top ${S===0?"bottom":"center"}`,scrub:1,end:"bottom center",onUpdate:({progress:e})=>{c.style.transform=`scaleY(${e})`}}),S>3)){const e=p.querySelectorAll(".js-fade"),n=p.querySelectorAll(".js-text-mask");setTimeout(()=>{e.forEach((s,i)=>{new _t(s,{delay:i/10})}),n.forEach(s=>{new en(s,{delay:.05})})},100)}})}handleAction(){const h=this.DOM.el.querySelector(".changelog-more");h==null||h.addEventListener("click",()=>{setTimeout(()=>{this.handleDrawLine()},300)}),this.handleSubmit()}handleSubmit(){const h=this.DOM.el.querySelectorAll(".changelog-detail-right-btn-wrap"),p=this.DOM.el.querySelector('input[name="type"]'),S=this.DOM.el.querySelector('input[name="link"]');h.forEach(c=>{c.addEventListener("click",()=>{var n;const e=(n=c.querySelector("[data-type-access]"))==null?void 0:n.getAttribute("data-type-access");p.value=e||"",S.value=location.href,c.classList.add("active")})})}initMotion(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}class ai{constructor(h){F(this,"DOM");this.DOM={wrapper:h.querySelector(".home-feature-cards"),listCards:h.querySelectorAll(".home-feature-card")},this.init()}init(){this.DOM.listCards.forEach((h,p,S)=>{if(!Ze)return;const c=S[0].clientHeight,e=(window.innerHeight-c)/2,n=S.length*_(8),s=je(p,0,S.length-1,.8125,1);h.style.top=`${e+n}px`,h.style.transform=`translateY(-${(S.length-p)*_(8)}px)`,q.timeline({scrollTrigger:{trigger:h,start:()=>"top center",end:`+=${(S.length-p)*c} `,scrub:1}}).to(h,{scale:s,transformOrigin:"top center",ease:"none"},0)})}}var Se={},li={get exports(){return Se},set exports(A){Se=A}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(A,h){(function(S,c){A.exports=c()})(Ye,function(){return function(p){var S={};function c(e){if(S[e])return S[e].exports;var n=S[e]={i:e,l:!1,exports:{}};return p[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}return c.m=p,c.c=S,c.d=function(e,n,s){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:s})},c.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(n&1&&(e=c(e)),n&8||n&4&&typeof e=="object"&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),n&2&&typeof e!="string")for(var i in e)c.d(s,i,function(u){return e[u]}.bind(null,i));return s},c.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="",c(c.s=20)}([function(p,S){var c={};p.exports=c,function(){c._baseDelta=1e3/60,c._nextId=0,c._seed=0,c._nowStartTime=+new Date,c._warnedOnce={},c._decomp=null,c.extend=function(n,s){var i,u;typeof s=="boolean"?(i=2,u=s):(i=1,u=!0);for(var a=i;a<arguments.length;a++){var d=arguments[a];if(d)for(var l in d)u&&d[l]&&d[l].constructor===Object&&(!n[l]||n[l].constructor===Object)?(n[l]=n[l]||{},c.extend(n[l],u,d[l])):n[l]=d[l]}return n},c.clone=function(n,s){return c.extend({},s,n)},c.keys=function(n){if(Object.keys)return Object.keys(n);var s=[];for(var i in n)s.push(i);return s},c.values=function(n){var s=[];if(Object.keys){for(var i=Object.keys(n),u=0;u<i.length;u++)s.push(n[i[u]]);return s}for(var a in n)s.push(n[a]);return s},c.get=function(n,s,i,u){s=s.split(".").slice(i,u);for(var a=0;a<s.length;a+=1)n=n[s[a]];return n},c.set=function(n,s,i,u,a){var d=s.split(".").slice(u,a);return c.get(n,s,0,-1)[d[d.length-1]]=i,i},c.shuffle=function(n){for(var s=n.length-1;s>0;s--){var i=Math.floor(c.random()*(s+1)),u=n[s];n[s]=n[i],n[i]=u}return n},c.choose=function(n){return n[Math.floor(c.random()*n.length)]},c.isElement=function(n){return typeof HTMLElement<"u"?n instanceof HTMLElement:!!(n&&n.nodeType&&n.nodeName)},c.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"},c.isFunction=function(n){return typeof n=="function"},c.isPlainObject=function(n){return typeof n=="object"&&n.constructor===Object},c.isString=function(n){return toString.call(n)==="[object String]"},c.clamp=function(n,s,i){return n<s?s:n>i?i:n},c.sign=function(n){return n<0?-1:1},c.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-c._nowStartTime},c.random=function(n,s){return n=typeof n<"u"?n:0,s=typeof s<"u"?s:1,n+e()*(s-n)};var e=function(){return c._seed=(c._seed*9301+49297)%233280,c._seed/233280};c.colorToNumber=function(n){return n=n.replace("#",""),n.length==3&&(n=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)),parseInt(n,16)},c.logLevel=1,c.log=function(){console&&c.logLevel>0&&c.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.info=function(){console&&c.logLevel>0&&c.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.warn=function(){console&&c.logLevel>0&&c.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.warnOnce=function(){var n=Array.prototype.slice.call(arguments).join(" ");c._warnedOnce[n]||(c.warn(n),c._warnedOnce[n]=!0)},c.deprecated=function(n,s,i){n[s]=c.chain(function(){c.warnOnce(" deprecated ",i)},n[s])},c.nextId=function(){return c._nextId++},c.indexOf=function(n,s){if(n.indexOf)return n.indexOf(s);for(var i=0;i<n.length;i++)if(n[i]===s)return i;return-1},c.map=function(n,s){if(n.map)return n.map(s);for(var i=[],u=0;u<n.length;u+=1)i.push(s(n[u]));return i},c.topologicalSort=function(n){var s=[],i=[],u=[];for(var a in n)!i[a]&&!u[a]&&c._topologicalSort(a,i,u,n,s);return s},c._topologicalSort=function(n,s,i,u,a){var d=u[n]||[];i[n]=!0;for(var l=0;l<d.length;l+=1){var t=d[l];i[t]||s[t]||c._topologicalSort(t,s,i,u,a)}i[n]=!1,s[n]=!0,a.push(n)},c.chain=function(){for(var n=[],s=0;s<arguments.length;s+=1){var i=arguments[s];i._chained?n.push.apply(n,i._chained):n.push(i)}var u=function(){for(var a,d=new Array(arguments.length),l=0,t=arguments.length;l<t;l++)d[l]=arguments[l];for(l=0;l<n.length;l+=1){var r=n[l].apply(a,d);typeof r<"u"&&(a=r)}return a};return u._chained=n,u},c.chainPathBefore=function(n,s,i){return c.set(n,s,c.chain(i,c.get(n,s)))},c.chainPathAfter=function(n,s,i){return c.set(n,s,c.chain(c.get(n,s),i))},c.setDecomp=function(n){c._decomp=n},c.getDecomp=function(){var n=c._decomp;try{!n&&typeof window<"u"&&(n=window.decomp),!n&&typeof Ye<"u"&&(n=Ye.decomp)}catch{n=null}return n}}()},function(p,S){var c={};p.exports=c,function(){c.create=function(e){var n={min:{x:0,y:0},max:{x:0,y:0}};return e&&c.update(n,e),n},c.update=function(e,n,s){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var i=0;i<n.length;i++){var u=n[i];u.x>e.max.x&&(e.max.x=u.x),u.x<e.min.x&&(e.min.x=u.x),u.y>e.max.y&&(e.max.y=u.y),u.y<e.min.y&&(e.min.y=u.y)}s&&(s.x>0?e.max.x+=s.x:e.min.x+=s.x,s.y>0?e.max.y+=s.y:e.min.y+=s.y)},c.contains=function(e,n){return n.x>=e.min.x&&n.x<=e.max.x&&n.y>=e.min.y&&n.y<=e.max.y},c.overlaps=function(e,n){return e.min.x<=n.max.x&&e.max.x>=n.min.x&&e.max.y>=n.min.y&&e.min.y<=n.max.y},c.translate=function(e,n){e.min.x+=n.x,e.max.x+=n.x,e.min.y+=n.y,e.max.y+=n.y},c.shift=function(e,n){var s=e.max.x-e.min.x,i=e.max.y-e.min.y;e.min.x=n.x,e.max.x=n.x+s,e.min.y=n.y,e.max.y=n.y+i}}()},function(p,S){var c={};p.exports=c,function(){c.create=function(e,n){return{x:e||0,y:n||0}},c.clone=function(e){return{x:e.x,y:e.y}},c.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},c.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},c.rotate=function(e,n,s){var i=Math.cos(n),u=Math.sin(n);s||(s={});var a=e.x*i-e.y*u;return s.y=e.x*u+e.y*i,s.x=a,s},c.rotateAbout=function(e,n,s,i){var u=Math.cos(n),a=Math.sin(n);i||(i={});var d=s.x+((e.x-s.x)*u-(e.y-s.y)*a);return i.y=s.y+((e.x-s.x)*a+(e.y-s.y)*u),i.x=d,i},c.normalise=function(e){var n=c.magnitude(e);return n===0?{x:0,y:0}:{x:e.x/n,y:e.y/n}},c.dot=function(e,n){return e.x*n.x+e.y*n.y},c.cross=function(e,n){return e.x*n.y-e.y*n.x},c.cross3=function(e,n,s){return(n.x-e.x)*(s.y-e.y)-(n.y-e.y)*(s.x-e.x)},c.add=function(e,n,s){return s||(s={}),s.x=e.x+n.x,s.y=e.y+n.y,s},c.sub=function(e,n,s){return s||(s={}),s.x=e.x-n.x,s.y=e.y-n.y,s},c.mult=function(e,n){return{x:e.x*n,y:e.y*n}},c.div=function(e,n){return{x:e.x/n,y:e.y/n}},c.perp=function(e,n){return n=n===!0?-1:1,{x:n*-e.y,y:n*e.x}},c.neg=function(e){return{x:-e.x,y:-e.y}},c.angle=function(e,n){return Math.atan2(n.y-e.y,n.x-e.x)},c._temp=[c.create(),c.create(),c.create(),c.create(),c.create(),c.create()]}()},function(p,S,c){var e={};p.exports=e;var n=c(2),s=c(0);(function(){e.create=function(i,u){for(var a=[],d=0;d<i.length;d++){var l=i[d],t={x:l.x,y:l.y,index:d,body:u,isInternal:!1};a.push(t)}return a},e.fromPath=function(i,u){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return i.replace(a,function(l,t,r){d.push({x:parseFloat(t),y:parseFloat(r)})}),e.create(d,u)},e.centre=function(i){for(var u=e.area(i,!0),a={x:0,y:0},d,l,t,r=0;r<i.length;r++)t=(r+1)%i.length,d=n.cross(i[r],i[t]),l=n.mult(n.add(i[r],i[t]),d),a=n.add(a,l);return n.div(a,6*u)},e.mean=function(i){for(var u={x:0,y:0},a=0;a<i.length;a++)u.x+=i[a].x,u.y+=i[a].y;return n.div(u,i.length)},e.area=function(i,u){for(var a=0,d=i.length-1,l=0;l<i.length;l++)a+=(i[d].x-i[l].x)*(i[d].y+i[l].y),d=l;return u?a/2:Math.abs(a)/2},e.inertia=function(i,u){for(var a=0,d=0,l=i,t,r,o=0;o<l.length;o++)r=(o+1)%l.length,t=Math.abs(n.cross(l[r],l[o])),a+=t*(n.dot(l[r],l[r])+n.dot(l[r],l[o])+n.dot(l[o],l[o])),d+=t;return u/6*(a/d)},e.translate=function(i,u,a){a=typeof a<"u"?a:1;var d=i.length,l=u.x*a,t=u.y*a,r;for(r=0;r<d;r++)i[r].x+=l,i[r].y+=t;return i},e.rotate=function(i,u,a){if(u!==0){var d=Math.cos(u),l=Math.sin(u),t=a.x,r=a.y,o=i.length,f,m,v,w;for(w=0;w<o;w++)f=i[w],m=f.x-t,v=f.y-r,f.x=t+(m*d-v*l),f.y=r+(m*l+v*d);return i}},e.contains=function(i,u){for(var a=u.x,d=u.y,l=i.length,t=i[l-1],r,o=0;o<l;o++){if(r=i[o],(a-t.x)*(r.y-t.y)+(d-t.y)*(t.x-r.x)>0)return!1;t=r}return!0},e.scale=function(i,u,a,d){if(u===1&&a===1)return i;d=d||e.centre(i);for(var l,t,r=0;r<i.length;r++)l=i[r],t=n.sub(l,d),i[r].x=d.x+t.x*u,i[r].y=d.y+t.y*a;return i},e.chamfer=function(i,u,a,d,l){typeof u=="number"?u=[u]:u=u||[8],a=typeof a<"u"?a:-1,d=d||2,l=l||14;for(var t=[],r=0;r<i.length;r++){var o=i[r-1>=0?r-1:i.length-1],f=i[r],m=i[(r+1)%i.length],v=u[r<u.length?r:u.length-1];if(v===0){t.push(f);continue}var w=n.normalise({x:f.y-o.y,y:o.x-f.x}),C=n.normalise({x:m.y-f.y,y:f.x-m.x}),g=Math.sqrt(2*Math.pow(v,2)),y=n.mult(s.clone(w),v),M=n.normalise(n.mult(n.add(w,C),.5)),x=n.sub(f,n.mult(M,g)),P=a;a===-1&&(P=Math.pow(v,.32)*1.75),P=s.clamp(P,d,l),P%2===1&&(P+=1);for(var D=Math.acos(n.dot(w,C)),O=D/P,T=0;T<P;T++)t.push(n.add(n.rotate(y,O*T),x))}return t},e.clockwiseSort=function(i){var u=e.mean(i);return i.sort(function(a,d){return n.angle(u,a)-n.angle(u,d)}),i},e.isConvex=function(i){var u=0,a=i.length,d,l,t,r;if(a<3)return null;for(d=0;d<a;d++)if(l=(d+1)%a,t=(d+2)%a,r=(i[l].x-i[d].x)*(i[t].y-i[l].y),r-=(i[l].y-i[d].y)*(i[t].x-i[l].x),r<0?u|=1:r>0&&(u|=2),u===3)return!1;return u!==0?!0:null},e.hull=function(i){var u=[],a=[],d,l;for(i=i.slice(0),i.sort(function(t,r){var o=t.x-r.x;return o!==0?o:t.y-r.y}),l=0;l<i.length;l+=1){for(d=i[l];a.length>=2&&n.cross3(a[a.length-2],a[a.length-1],d)<=0;)a.pop();a.push(d)}for(l=i.length-1;l>=0;l-=1){for(d=i[l];u.length>=2&&n.cross3(u[u.length-2],u[u.length-1],d)<=0;)u.pop();u.push(d)}return u.pop(),a.pop(),u.concat(a)}})()},function(p,S,c){var e={};p.exports=e;var n=c(3),s=c(2),i=c(7),u=c(0),a=c(1),d=c(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var r={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},o=u.extend(r,t);return l(o,t),o},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var l=function(t,r){r=r||{},e.set(t,{bounds:t.bounds||a.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),n.rotate(t.vertices,t.angle,t.position),d.rotate(t.axes,t.angle),a.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:r.axes||t.axes,area:r.area||t.area,mass:r.mass||t.mass,inertia:r.inertia||t.inertia});var o=t.isStatic?"#14151f":u.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),f=t.isStatic?"#555":"#ccc",m=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||o,t.render.strokeStyle=t.render.strokeStyle||f,t.render.lineWidth=t.render.lineWidth||m,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,r,o){var f;typeof r=="string"&&(f=r,r={},r[f]=o);for(f in r)if(Object.prototype.hasOwnProperty.call(r,f))switch(o=r[f],f){case"isStatic":e.setStatic(t,o);break;case"isSleeping":i.set(t,o);break;case"mass":e.setMass(t,o);break;case"density":e.setDensity(t,o);break;case"inertia":e.setInertia(t,o);break;case"vertices":e.setVertices(t,o);break;case"position":e.setPosition(t,o);break;case"angle":e.setAngle(t,o);break;case"velocity":e.setVelocity(t,o);break;case"angularVelocity":e.setAngularVelocity(t,o);break;case"speed":e.setSpeed(t,o);break;case"angularSpeed":e.setAngularSpeed(t,o);break;case"parts":e.setParts(t,o);break;case"centre":e.setCentre(t,o);break;default:t[f]=o}},e.setStatic=function(t,r){for(var o=0;o<t.parts.length;o++){var f=t.parts[o];r?(f.isStatic||(f._original={restitution:f.restitution,friction:f.friction,mass:f.mass,inertia:f.inertia,density:f.density,inverseMass:f.inverseMass,inverseInertia:f.inverseInertia}),f.restitution=0,f.friction=1,f.mass=f.inertia=f.density=1/0,f.inverseMass=f.inverseInertia=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.angularVelocity=0,f.speed=0,f.angularSpeed=0,f.motion=0):f._original&&(f.restitution=f._original.restitution,f.friction=f._original.friction,f.mass=f._original.mass,f.inertia=f._original.inertia,f.density=f._original.density,f.inverseMass=f._original.inverseMass,f.inverseInertia=f._original.inverseInertia,f._original=null),f.isStatic=r}},e.setMass=function(t,r){var o=t.inertia/(t.mass/6);t.inertia=o*(r/6),t.inverseInertia=1/t.inertia,t.mass=r,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,r){e.setMass(t,r*t.area),t.density=r},e.setInertia=function(t,r){t.inertia=r,t.inverseInertia=1/t.inertia},e.setVertices=function(t,r){r[0].body===t?t.vertices=r:t.vertices=n.create(r,t),t.axes=d.fromVertices(t.vertices),t.area=n.area(t.vertices),e.setMass(t,t.density*t.area);var o=n.centre(t.vertices);n.translate(t.vertices,o,-1),e.setInertia(t,e._inertiaScale*n.inertia(t.vertices,t.mass)),n.translate(t.vertices,t.position),a.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,r,o){var f;for(r=r.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,f=0;f<r.length;f++){var m=r[f];m!==t&&(m.parent=t,t.parts.push(m))}if(t.parts.length!==1){if(o=typeof o<"u"?o:!0,o){var v=[];for(f=0;f<r.length;f++)v=v.concat(r[f].vertices);n.clockwiseSort(v);var w=n.hull(v),C=n.centre(w);e.setVertices(t,w),n.translate(t.vertices,C)}var g=e._totalProperties(t);t.area=g.area,t.parent=t,t.position.x=g.centre.x,t.position.y=g.centre.y,t.positionPrev.x=g.centre.x,t.positionPrev.y=g.centre.y,e.setMass(t,g.mass),e.setInertia(t,g.inertia),e.setPosition(t,g.centre)}},e.setCentre=function(t,r,o){o?(t.positionPrev.x+=r.x,t.positionPrev.y+=r.y,t.position.x+=r.x,t.position.y+=r.y):(t.positionPrev.x=r.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=r.y-(t.position.y-t.positionPrev.y),t.position.x=r.x,t.position.y=r.y)},e.setPosition=function(t,r,o){var f=s.sub(r,t.position);o?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=f.x,t.velocity.y=f.y,t.speed=s.magnitude(f)):(t.positionPrev.x+=f.x,t.positionPrev.y+=f.y);for(var m=0;m<t.parts.length;m++){var v=t.parts[m];v.position.x+=f.x,v.position.y+=f.y,n.translate(v.vertices,f),a.update(v.bounds,v.vertices,t.velocity)}},e.setAngle=function(t,r,o){var f=r-t.angle;o?(t.anglePrev=t.angle,t.angularVelocity=f,t.angularSpeed=Math.abs(f)):t.anglePrev+=f;for(var m=0;m<t.parts.length;m++){var v=t.parts[m];v.angle+=f,n.rotate(v.vertices,f,t.position),d.rotate(v.axes,f),a.update(v.bounds,v.vertices,t.velocity),m>0&&s.rotateAbout(v.position,f,t.position,v.position)}},e.setVelocity=function(t,r){var o=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-r.x*o,t.positionPrev.y=t.position.y-r.y*o,t.velocity.x=(t.position.x-t.positionPrev.x)/o,t.velocity.y=(t.position.y-t.positionPrev.y)/o,t.speed=s.magnitude(t.velocity)},e.getVelocity=function(t){var r=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*r,y:(t.position.y-t.positionPrev.y)*r}},e.getSpeed=function(t){return s.magnitude(e.getVelocity(t))},e.setSpeed=function(t,r){e.setVelocity(t,s.mult(s.normalise(e.getVelocity(t)),r))},e.setAngularVelocity=function(t,r){var o=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-r*o,t.angularVelocity=(t.angle-t.anglePrev)/o,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,r){e.setAngularVelocity(t,u.sign(e.getAngularVelocity(t))*r)},e.translate=function(t,r,o){e.setPosition(t,s.add(t.position,r),o)},e.rotate=function(t,r,o,f){if(!o)e.setAngle(t,t.angle+r,f);else{var m=Math.cos(r),v=Math.sin(r),w=t.position.x-o.x,C=t.position.y-o.y;e.setPosition(t,{x:o.x+(w*m-C*v),y:o.y+(w*v+C*m)},f),e.setAngle(t,t.angle+r,f)}},e.scale=function(t,r,o,f){var m=0,v=0;f=f||t.position;for(var w=0;w<t.parts.length;w++){var C=t.parts[w];n.scale(C.vertices,r,o,f),C.axes=d.fromVertices(C.vertices),C.area=n.area(C.vertices),e.setMass(C,t.density*C.area),n.translate(C.vertices,{x:-C.position.x,y:-C.position.y}),e.setInertia(C,e._inertiaScale*n.inertia(C.vertices,C.mass)),n.translate(C.vertices,{x:C.position.x,y:C.position.y}),w>0&&(m+=C.area,v+=C.inertia),C.position.x=f.x+(C.position.x-f.x)*r,C.position.y=f.y+(C.position.y-f.y)*o,a.update(C.bounds,C.vertices,t.velocity)}t.parts.length>1&&(t.area=m,t.isStatic||(e.setMass(t,t.density*m),e.setInertia(t,v))),t.circleRadius&&(r===o?t.circleRadius*=r:t.circleRadius=null)},e.update=function(t,r){r=(typeof r<"u"?r:1e3/60)*t.timeScale;var o=r*r,f=e._timeCorrection?r/(t.deltaTime||r):1,m=1-t.frictionAir*(r/u._baseDelta),v=(t.position.x-t.positionPrev.x)*f,w=(t.position.y-t.positionPrev.y)*f;t.velocity.x=v*m+t.force.x/t.mass*o,t.velocity.y=w*m+t.force.y/t.mass*o,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=r,t.angularVelocity=(t.angle-t.anglePrev)*m*f+t.torque/t.inertia*o,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var C=0;C<t.parts.length;C++){var g=t.parts[C];n.translate(g.vertices,t.velocity),C>0&&(g.position.x+=t.velocity.x,g.position.y+=t.velocity.y),t.angularVelocity!==0&&(n.rotate(g.vertices,t.angularVelocity,t.position),d.rotate(g.axes,t.angularVelocity),C>0&&s.rotateAbout(g.position,t.angularVelocity,t.position,g.position)),a.update(g.bounds,g.vertices,t.velocity)}},e.updateVelocities=function(t){var r=e._baseDelta/t.deltaTime,o=t.velocity;o.x=(t.position.x-t.positionPrev.x)*r,o.y=(t.position.y-t.positionPrev.y)*r,t.speed=Math.sqrt(o.x*o.x+o.y*o.y),t.angularVelocity=(t.angle-t.anglePrev)*r,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,r,o){var f={x:r.x-t.position.x,y:r.y-t.position.y};t.force.x+=o.x,t.force.y+=o.y,t.torque+=f.x*o.y-f.y*o.x},e._totalProperties=function(t){for(var r={mass:0,area:0,inertia:0,centre:{x:0,y:0}},o=t.parts.length===1?0:1;o<t.parts.length;o++){var f=t.parts[o],m=f.mass!==1/0?f.mass:1;r.mass+=m,r.area+=f.area,r.inertia+=f.inertia,r.centre=s.add(r.centre,s.mult(f.position,m))}return r.centre=s.div(r.centre,r.mass),r}})()},function(p,S,c){var e={};p.exports=e;var n=c(0);(function(){e.on=function(s,i,u){for(var a=i.split(" "),d,l=0;l<a.length;l++)d=a[l],s.events=s.events||{},s.events[d]=s.events[d]||[],s.events[d].push(u);return u},e.off=function(s,i,u){if(!i){s.events={};return}typeof i=="function"&&(u=i,i=n.keys(s.events).join(" "));for(var a=i.split(" "),d=0;d<a.length;d++){var l=s.events[a[d]],t=[];if(u&&l)for(var r=0;r<l.length;r++)l[r]!==u&&t.push(l[r]);s.events[a[d]]=t}},e.trigger=function(s,i,u){var a,d,l,t,r=s.events;if(r&&n.keys(r).length>0){u||(u={}),a=i.split(" ");for(var o=0;o<a.length;o++)if(d=a[o],l=r[d],l){t=n.clone(u,!1),t.name=d,t.source=s;for(var f=0;f<l.length;f++)l[f].apply(s,[t])}}}})()},function(p,S,c){var e={};p.exports=e;var n=c(5),s=c(0),i=c(1),u=c(4);(function(){e.create=function(a){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},e.setModified=function(a,d,l,t){if(a.isModified=d,d&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),l&&a.parent&&e.setModified(a.parent,d,l,t),t)for(var r=0;r<a.composites.length;r++){var o=a.composites[r];e.setModified(o,d,l,t)}},e.add=function(a,d){var l=[].concat(d);n.trigger(a,"beforeAdd",{object:d});for(var t=0;t<l.length;t++){var r=l[t];switch(r.type){case"body":if(r.parent!==r){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(a,r);break;case"constraint":e.addConstraint(a,r);break;case"composite":e.addComposite(a,r);break;case"mouseConstraint":e.addConstraint(a,r.constraint);break}}return n.trigger(a,"afterAdd",{object:d}),a},e.remove=function(a,d,l){var t=[].concat(d);n.trigger(a,"beforeRemove",{object:d});for(var r=0;r<t.length;r++){var o=t[r];switch(o.type){case"body":e.removeBody(a,o,l);break;case"constraint":e.removeConstraint(a,o,l);break;case"composite":e.removeComposite(a,o,l);break;case"mouseConstraint":e.removeConstraint(a,o.constraint);break}}return n.trigger(a,"afterRemove",{object:d}),a},e.addComposite=function(a,d){return a.composites.push(d),d.parent=a,e.setModified(a,!0,!0,!1),a},e.removeComposite=function(a,d,l){var t=s.indexOf(a.composites,d);if(t!==-1){var r=e.allBodies(d);e.removeCompositeAt(a,t);for(var o=0;o<r.length;o++)r[o].sleepCounter=0}if(l)for(var o=0;o<a.composites.length;o++)e.removeComposite(a.composites[o],d,!0);return a},e.removeCompositeAt=function(a,d){return a.composites.splice(d,1),e.setModified(a,!0,!0,!1),a},e.addBody=function(a,d){return a.bodies.push(d),e.setModified(a,!0,!0,!1),a},e.removeBody=function(a,d,l){var t=s.indexOf(a.bodies,d);if(t!==-1&&(e.removeBodyAt(a,t),d.sleepCounter=0),l)for(var r=0;r<a.composites.length;r++)e.removeBody(a.composites[r],d,!0);return a},e.removeBodyAt=function(a,d){return a.bodies.splice(d,1),e.setModified(a,!0,!0,!1),a},e.addConstraint=function(a,d){return a.constraints.push(d),e.setModified(a,!0,!0,!1),a},e.removeConstraint=function(a,d,l){var t=s.indexOf(a.constraints,d);if(t!==-1&&e.removeConstraintAt(a,t),l)for(var r=0;r<a.composites.length;r++)e.removeConstraint(a.composites[r],d,!0);return a},e.removeConstraintAt=function(a,d){return a.constraints.splice(d,1),e.setModified(a,!0,!0,!1),a},e.clear=function(a,d,l){if(l)for(var t=0;t<a.composites.length;t++)e.clear(a.composites[t],d,!0);return d?a.bodies=a.bodies.filter(function(r){return r.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,e.setModified(a,!0,!0,!1),a},e.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var d=[].concat(a.bodies),l=0;l<a.composites.length;l++)d=d.concat(e.allBodies(a.composites[l]));return a.cache&&(a.cache.allBodies=d),d},e.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var d=[].concat(a.constraints),l=0;l<a.composites.length;l++)d=d.concat(e.allConstraints(a.composites[l]));return a.cache&&(a.cache.allConstraints=d),d},e.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var d=[].concat(a.composites),l=0;l<a.composites.length;l++)d=d.concat(e.allComposites(a.composites[l]));return a.cache&&(a.cache.allComposites=d),d},e.get=function(a,d,l){var t,r;switch(l){case"body":t=e.allBodies(a);break;case"constraint":t=e.allConstraints(a);break;case"composite":t=e.allComposites(a).concat(a);break}return t?(r=t.filter(function(o){return o.id.toString()===d.toString()}),r.length===0?null:r[0]):null},e.move=function(a,d,l){return e.remove(a,d),e.add(l,d),a},e.rebase=function(a){for(var d=e.allBodies(a).concat(e.allConstraints(a)).concat(e.allComposites(a)),l=0;l<d.length;l++)d[l].id=s.nextId();return a},e.translate=function(a,d,l){for(var t=l?e.allBodies(a):a.bodies,r=0;r<t.length;r++)u.translate(t[r],d);return a},e.rotate=function(a,d,l,t){for(var r=Math.cos(d),o=Math.sin(d),f=t?e.allBodies(a):a.bodies,m=0;m<f.length;m++){var v=f[m],w=v.position.x-l.x,C=v.position.y-l.y;u.setPosition(v,{x:l.x+(w*r-C*o),y:l.y+(w*o+C*r)}),u.rotate(v,d)}return a},e.scale=function(a,d,l,t,r){for(var o=r?e.allBodies(a):a.bodies,f=0;f<o.length;f++){var m=o[f],v=m.position.x-t.x,w=m.position.y-t.y;u.setPosition(m,{x:t.x+v*d,y:t.y+w*l}),u.scale(m,d,l)}return a},e.bounds=function(a){for(var d=e.allBodies(a),l=[],t=0;t<d.length;t+=1){var r=d[t];l.push(r.bounds.min,r.bounds.max)}return i.create(l)}})()},function(p,S,c){var e={};p.exports=e;var n=c(4),s=c(5),i=c(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(u,a){for(var d=a/i._baseDelta,l=e._motionSleepThreshold,t=0;t<u.length;t++){var r=u[t],o=n.getSpeed(r),f=n.getAngularSpeed(r),m=o*o+f*f;if(r.force.x!==0||r.force.y!==0){e.set(r,!1);continue}var v=Math.min(r.motion,m),w=Math.max(r.motion,m);r.motion=e._minBias*v+(1-e._minBias)*w,r.sleepThreshold>0&&r.motion<l?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold/d&&e.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}},e.afterCollisions=function(u){for(var a=e._motionSleepThreshold,d=0;d<u.length;d++){var l=u[d];if(l.isActive){var t=l.collision,r=t.bodyA.parent,o=t.bodyB.parent;if(!(r.isSleeping&&o.isSleeping||r.isStatic||o.isStatic)&&(r.isSleeping||o.isSleeping)){var f=r.isSleeping&&!r.isStatic?r:o,m=f===r?o:r;!f.isStatic&&m.motion>a&&e.set(f,!1)}}}},e.set=function(u,a){var d=u.isSleeping;a?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,d||s.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,d&&s.trigger(u,"sleepEnd"))}})()},function(p,S,c){var e={};p.exports=e;var n=c(3),s=c(9);(function(){var i=[],u={overlap:0,axis:null},a={overlap:0,axis:null};e.create=function(d,l){return{pair:null,collided:!1,bodyA:d,bodyB:l,parentA:d.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(d,l,t){if(e._overlapAxes(u,d.vertices,l.vertices,d.axes),u.overlap<=0||(e._overlapAxes(a,l.vertices,d.vertices,l.axes),a.overlap<=0))return null;var r=t&&t.table[s.id(d,l)],o;r?o=r.collision:(o=e.create(d,l),o.collided=!0,o.bodyA=d.id<l.id?d:l,o.bodyB=d.id<l.id?l:d,o.parentA=o.bodyA.parent,o.parentB=o.bodyB.parent),d=o.bodyA,l=o.bodyB;var f;u.overlap<a.overlap?f=u:f=a;var m=o.normal,v=o.tangent,w=o.penetration,C=o.supports,g=f.overlap,y=f.axis,M=y.x,x=y.y,P=l.position.x-d.position.x,D=l.position.y-d.position.y;M*P+x*D>=0&&(M=-M,x=-x),m.x=M,m.y=x,v.x=-x,v.y=M,w.x=M*g,w.y=x*g,o.depth=g;var O=e._findSupports(d,l,m,1),T=0;if(n.contains(d.vertices,O[0])&&(C[T++]=O[0]),n.contains(d.vertices,O[1])&&(C[T++]=O[1]),T<2){var L=e._findSupports(l,d,m,-1);n.contains(l.vertices,L[0])&&(C[T++]=L[0]),T<2&&n.contains(l.vertices,L[1])&&(C[T++]=L[1])}return T===0&&(C[T++]=O[0]),o.supportCount=T,o},e._overlapAxes=function(d,l,t,r){var o=l.length,f=t.length,m=l[0].x,v=l[0].y,w=t[0].x,C=t[0].y,g=r.length,y=Number.MAX_VALUE,M=0,x,P,D,O,T,L;for(T=0;T<g;T++){var I=r[T],E=I.x,R=I.y,k=m*E+v*R,V=w*E+C*R,W=k,X=V;for(L=1;L<o;L+=1)O=l[L].x*E+l[L].y*R,O>W?W=O:O<k&&(k=O);for(L=1;L<f;L+=1)O=t[L].x*E+t[L].y*R,O>X?X=O:O<V&&(V=O);if(P=W-V,D=X-k,x=P<D?P:D,x<y&&(y=x,M=T,x<=0))break}d.axis=r[M],d.overlap=y},e._findSupports=function(d,l,t,r){var o=l.vertices,f=o.length,m=d.position.x,v=d.position.y,w=t.x*r,C=t.y*r,g=o[0],y=g,M=w*(m-y.x)+C*(v-y.y),x,P,D;for(D=1;D<f;D+=1)y=o[D],P=w*(m-y.x)+C*(v-y.y),P<M&&(M=P,g=y);return x=o[(f+g.index-1)%f],M=w*(m-x.x)+C*(v-x.y),y=o[(g.index+1)%f],w*(m-y.x)+C*(v-y.y)<M?(i[0]=g,i[1]=y,i):(i[0]=g,i[1]=x,i)}})()},function(p,S,c){var e={};p.exports=e;var n=c(16);(function(){e.create=function(s,i){var u=s.bodyA,a=s.bodyB,d={id:e.id(u,a),bodyA:u,bodyB:a,collision:s,contacts:[n.create(),n.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||a.isSensor,timeCreated:i,timeUpdated:i,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(d,s,i),d},e.update=function(s,i,u){var a=i.supports,d=i.supportCount,l=s.contacts,t=i.parentA,r=i.parentB;s.isActive=!0,s.timeUpdated=u,s.collision=i,s.separation=i.depth,s.inverseMass=t.inverseMass+r.inverseMass,s.friction=t.friction<r.friction?t.friction:r.friction,s.frictionStatic=t.frictionStatic>r.frictionStatic?t.frictionStatic:r.frictionStatic,s.restitution=t.restitution>r.restitution?t.restitution:r.restitution,s.slop=t.slop>r.slop?t.slop:r.slop,s.contactCount=d,i.pair=s;var o=a[0],f=l[0],m=a[1],v=l[1];(v.vertex===o||f.vertex===m)&&(l[1]=f,l[0]=f=v,v=l[1]),f.vertex=o,v.vertex=m},e.setActive=function(s,i,u){i?(s.isActive=!0,s.timeUpdated=u):(s.isActive=!1,s.contactCount=0)},e.id=function(s,i){return s.id<i.id?s.id.toString(36)+":"+i.id.toString(36):i.id.toString(36)+":"+s.id.toString(36)}})()},function(p,S,c){var e={};p.exports=e;var n=c(3),s=c(2),i=c(7),u=c(1),a=c(11),d=c(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(l){var t=l;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var r=t.bodyA?s.add(t.bodyA.position,t.pointA):t.pointA,o=t.bodyB?s.add(t.bodyB.position,t.pointB):t.pointB,f=s.magnitude(s.sub(r,o));t.length=typeof t.length<"u"?t.length:f,t.id=t.id||d.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var m={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(m.type="pin",m.anchors=!1):t.stiffness<.9&&(m.type="spring"),t.render=d.extend(m,t.render),t},e.preSolveAll=function(l){for(var t=0;t<l.length;t+=1){var r=l[t],o=r.constraintImpulse;r.isStatic||o.x===0&&o.y===0&&o.angle===0||(r.position.x+=o.x,r.position.y+=o.y,r.angle+=o.angle)}},e.solveAll=function(l,t){for(var r=d.clamp(t/d._baseDelta,0,1),o=0;o<l.length;o+=1){var f=l[o],m=!f.bodyA||f.bodyA&&f.bodyA.isStatic,v=!f.bodyB||f.bodyB&&f.bodyB.isStatic;(m||v)&&e.solve(l[o],r)}for(o=0;o<l.length;o+=1)f=l[o],m=!f.bodyA||f.bodyA&&f.bodyA.isStatic,v=!f.bodyB||f.bodyB&&f.bodyB.isStatic,!m&&!v&&e.solve(l[o],r)},e.solve=function(l,t){var r=l.bodyA,o=l.bodyB,f=l.pointA,m=l.pointB;if(!(!r&&!o)){r&&!r.isStatic&&(s.rotate(f,r.angle-l.angleA,f),l.angleA=r.angle),o&&!o.isStatic&&(s.rotate(m,o.angle-l.angleB,m),l.angleB=o.angle);var v=f,w=m;if(r&&(v=s.add(r.position,f)),o&&(w=s.add(o.position,m)),!(!v||!w)){var C=s.sub(v,w),g=s.magnitude(C);g<e._minLength&&(g=e._minLength);var y=(g-l.length)/g,M=l.stiffness>=1||l.length===0,x=M?l.stiffness*t:l.stiffness*t*t,P=l.damping*t,D=s.mult(C,y*x),O=(r?r.inverseMass:0)+(o?o.inverseMass:0),T=(r?r.inverseInertia:0)+(o?o.inverseInertia:0),L=O+T,I,E,R,k,V;if(P>0){var W=s.create();R=s.div(C,g),V=s.sub(o&&s.sub(o.position,o.positionPrev)||W,r&&s.sub(r.position,r.positionPrev)||W),k=s.dot(R,V)}r&&!r.isStatic&&(E=r.inverseMass/O,r.constraintImpulse.x-=D.x*E,r.constraintImpulse.y-=D.y*E,r.position.x-=D.x*E,r.position.y-=D.y*E,P>0&&(r.positionPrev.x-=P*R.x*k*E,r.positionPrev.y-=P*R.y*k*E),I=s.cross(f,D)/L*e._torqueDampen*r.inverseInertia*(1-l.angularStiffness),r.constraintImpulse.angle-=I,r.angle-=I),o&&!o.isStatic&&(E=o.inverseMass/O,o.constraintImpulse.x+=D.x*E,o.constraintImpulse.y+=D.y*E,o.position.x+=D.x*E,o.position.y+=D.y*E,P>0&&(o.positionPrev.x+=P*R.x*k*E,o.positionPrev.y+=P*R.y*k*E),I=s.cross(m,D)/L*e._torqueDampen*o.inverseInertia*(1-l.angularStiffness),o.constraintImpulse.angle+=I,o.angle+=I)}}},e.postSolveAll=function(l){for(var t=0;t<l.length;t++){var r=l[t],o=r.constraintImpulse;if(!(r.isStatic||o.x===0&&o.y===0&&o.angle===0)){i.set(r,!1);for(var f=0;f<r.parts.length;f++){var m=r.parts[f];n.translate(m.vertices,o),f>0&&(m.position.x+=o.x,m.position.y+=o.y),o.angle!==0&&(n.rotate(m.vertices,o.angle,r.position),a.rotate(m.axes,o.angle),f>0&&s.rotateAbout(m.position,o.angle,r.position,m.position)),u.update(m.bounds,m.vertices,r.velocity)}o.angle*=e._warming,o.x*=e._warming,o.y*=e._warming}}},e.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},e.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},e.currentLength=function(l){var t=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),r=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),o=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),f=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),m=t-o,v=r-f;return Math.sqrt(m*m+v*v)}})()},function(p,S,c){var e={};p.exports=e;var n=c(2),s=c(0);(function(){e.fromVertices=function(i){for(var u={},a=0;a<i.length;a++){var d=(a+1)%i.length,l=n.normalise({x:i[d].y-i[a].y,y:i[a].x-i[d].x}),t=l.y===0?1/0:l.x/l.y;t=t.toFixed(3).toString(),u[t]=l}return s.values(u)},e.rotate=function(i,u){if(u!==0)for(var a=Math.cos(u),d=Math.sin(u),l=0;l<i.length;l++){var t=i[l],r;r=t.x*a-t.y*d,t.y=t.x*d+t.y*a,t.x=r}}})()},function(p,S,c){var e={};p.exports=e;var n=c(3),s=c(0),i=c(4),u=c(1),a=c(2);(function(){e.rectangle=function(d,l,t,r,o){o=o||{};var f={label:"Rectangle Body",position:{x:d,y:l},vertices:n.fromPath("L 0 0 L "+t+" 0 L "+t+" "+r+" L 0 "+r)};if(o.chamfer){var m=o.chamfer;f.vertices=n.chamfer(f.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete o.chamfer}return i.create(s.extend({},f,o))},e.trapezoid=function(d,l,t,r,o,f){f=f||{},o>=1&&s.warn("Bodies.trapezoid: slope parameter must be < 1."),o*=.5;var m=(1-o*2)*t,v=t*o,w=v+m,C=w+v,g;o<.5?g="L 0 0 L "+v+" "+-r+" L "+w+" "+-r+" L "+C+" 0":g="L 0 0 L "+w+" "+-r+" L "+C+" 0";var y={label:"Trapezoid Body",position:{x:d,y:l},vertices:n.fromPath(g)};if(f.chamfer){var M=f.chamfer;y.vertices=n.chamfer(y.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete f.chamfer}return i.create(s.extend({},y,f))},e.circle=function(d,l,t,r,o){r=r||{};var f={label:"Circle Body",circleRadius:t};o=o||25;var m=Math.ceil(Math.max(10,Math.min(o,t)));return m%2===1&&(m+=1),e.polygon(d,l,m,t,s.extend({},f,r))},e.polygon=function(d,l,t,r,o){if(o=o||{},t<3)return e.circle(d,l,r,o);for(var f=2*Math.PI/t,m="",v=f*.5,w=0;w<t;w+=1){var C=v+w*f,g=Math.cos(C)*r,y=Math.sin(C)*r;m+="L "+g.toFixed(3)+" "+y.toFixed(3)+" "}var M={label:"Polygon Body",position:{x:d,y:l},vertices:n.fromPath(m)};if(o.chamfer){var x=o.chamfer;M.vertices=n.chamfer(M.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete o.chamfer}return i.create(s.extend({},M,o))},e.fromVertices=function(d,l,t,r,o,f,m,v){var w=s.getDecomp(),C,g,y,M,x,P,D,O,T,L,I;for(C=!!(w&&w.quickDecomp),r=r||{},y=[],o=typeof o<"u"?o:!1,f=typeof f<"u"?f:.01,m=typeof m<"u"?m:10,v=typeof v<"u"?v:.01,s.isArray(t[0])||(t=[t]),L=0;L<t.length;L+=1)if(P=t[L],M=n.isConvex(P),x=!M,x&&!C&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),M||!C)M?P=n.clockwiseSort(P):P=n.hull(P),y.push({position:{x:d,y:l},vertices:P});else{var E=P.map(function(U){return[U.x,U.y]});w.makeCCW(E),f!==!1&&w.removeCollinearPoints(E,f),v!==!1&&w.removeDuplicatePoints&&w.removeDuplicatePoints(E,v);var R=w.quickDecomp(E);for(D=0;D<R.length;D++){var k=R[D],V=k.map(function(U){return{x:U[0],y:U[1]}});m>0&&n.area(V)<m||y.push({position:n.centre(V),vertices:V})}}for(D=0;D<y.length;D++)y[D]=i.create(s.extend(y[D],r));if(o){var W=5;for(D=0;D<y.length;D++){var X=y[D];for(O=D+1;O<y.length;O++){var z=y[O];if(u.overlaps(X.bounds,z.bounds)){var Q=X.vertices,Z=z.vertices;for(T=0;T<X.vertices.length;T++)for(I=0;I<z.vertices.length;I++){var ne=a.magnitudeSquared(a.sub(Q[(T+1)%Q.length],Z[I])),se=a.magnitudeSquared(a.sub(Q[T],Z[(I+1)%Z.length]));ne<W&&se<W&&(Q[T].isInternal=!0,Z[I].isInternal=!0)}}}}}return y.length>1?(g=i.create(s.extend({parts:y.slice(0)},r)),i.setPosition(g,{x:d,y:l}),g):y[0]}})()},function(p,S,c){var e={};p.exports=e;var n=c(0),s=c(8);(function(){e.create=function(i){var u={bodies:[],collisions:[],pairs:null};return n.extend(u,i)},e.setBodies=function(i,u){i.bodies=u.slice(0)},e.clear=function(i){i.bodies=[],i.collisions=[]},e.collisions=function(i){var u=i.pairs,a=i.bodies,d=a.length,l=e.canCollide,t=s.collides,r=i.collisions,o=0,f,m;for(a.sort(e._compareBoundsX),f=0;f<d;f++){var v=a[f],w=v.bounds,C=v.bounds.max.x,g=v.bounds.max.y,y=v.bounds.min.y,M=v.isStatic||v.isSleeping,x=v.parts.length,P=x===1;for(m=f+1;m<d;m++){var D=a[m],O=D.bounds;if(O.min.x>C)break;if(!(g<O.min.y||y>O.max.y)&&!(M&&(D.isStatic||D.isSleeping))&&l(v.collisionFilter,D.collisionFilter)){var T=D.parts.length;if(P&&T===1){var L=t(v,D,u);L&&(r[o++]=L)}else for(var I=x>1?1:0,E=T>1?1:0,R=I;R<x;R++)for(var k=v.parts[R],w=k.bounds,V=E;V<T;V++){var W=D.parts[V],O=W.bounds;if(!(w.min.x>O.max.x||w.max.x<O.min.x||w.max.y<O.min.y||w.min.y>O.max.y)){var L=t(k,W,u);L&&(r[o++]=L)}}}}}return r.length!==o&&(r.length=o),r},e.canCollide=function(i,u){return i.group===u.group&&i.group!==0?i.group>0:(i.mask&u.category)!==0&&(u.mask&i.category)!==0},e._compareBoundsX=function(i,u){return i.bounds.min.x-u.bounds.min.x}})()},function(p,S,c){var e={};p.exports=e;var n=c(0);(function(){e.create=function(s){var i={};return s||n.log("Mouse.create: element was undefined, defaulting to document.body","warn"),i.element=s||document.body,i.absolute={x:0,y:0},i.position={x:0,y:0},i.mousedownPosition={x:0,y:0},i.mouseupPosition={x:0,y:0},i.offset={x:0,y:0},i.scale={x:1,y:1},i.wheelDelta=0,i.button=-1,i.pixelRatio=parseInt(i.element.getAttribute("data-pixel-ratio"),10)||1,i.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},i.mousemove=function(u){var a=e._getRelativeMousePosition(u,i.element,i.pixelRatio),d=u.changedTouches;d&&(i.button=0,u.preventDefault()),i.absolute.x=a.x,i.absolute.y=a.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.sourceEvents.mousemove=u},i.mousedown=function(u){var a=e._getRelativeMousePosition(u,i.element,i.pixelRatio),d=u.changedTouches;d?(i.button=0,u.preventDefault()):i.button=u.button,i.absolute.x=a.x,i.absolute.y=a.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mousedownPosition.x=i.position.x,i.mousedownPosition.y=i.position.y,i.sourceEvents.mousedown=u},i.mouseup=function(u){var a=e._getRelativeMousePosition(u,i.element,i.pixelRatio),d=u.changedTouches;d&&u.preventDefault(),i.button=-1,i.absolute.x=a.x,i.absolute.y=a.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mouseupPosition.x=i.position.x,i.mouseupPosition.y=i.position.y,i.sourceEvents.mouseup=u},i.mousewheel=function(u){i.wheelDelta=Math.max(-1,Math.min(1,u.wheelDelta||-u.detail)),u.preventDefault(),i.sourceEvents.mousewheel=u},e.setElement(i,i.element),i},e.setElement=function(s,i){s.element=i,i.addEventListener("mousemove",s.mousemove,{passive:!0}),i.addEventListener("mousedown",s.mousedown,{passive:!0}),i.addEventListener("mouseup",s.mouseup,{passive:!0}),i.addEventListener("wheel",s.mousewheel,{passive:!1}),i.addEventListener("touchmove",s.mousemove,{passive:!1}),i.addEventListener("touchstart",s.mousedown,{passive:!1}),i.addEventListener("touchend",s.mouseup,{passive:!1})},e.clearSourceEvents=function(s){s.sourceEvents.mousemove=null,s.sourceEvents.mousedown=null,s.sourceEvents.mouseup=null,s.sourceEvents.mousewheel=null,s.wheelDelta=0},e.setOffset=function(s,i){s.offset.x=i.x,s.offset.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e.setScale=function(s,i){s.scale.x=i.x,s.scale.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e._getRelativeMousePosition=function(s,i,u){var a=i.getBoundingClientRect(),d=document.documentElement||document.body.parentNode||document.body,l=window.pageXOffset!==void 0?window.pageXOffset:d.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:d.scrollTop,r=s.changedTouches,o,f;return r?(o=r[0].pageX-a.left-l,f=r[0].pageY-a.top-t):(o=s.pageX-a.left-l,f=s.pageY-a.top-t),{x:o/(i.clientWidth/(i.width||i.clientWidth)*u),y:f/(i.clientHeight/(i.height||i.clientHeight)*u)}}})()},function(p,S,c){var e={};p.exports=e;var n=c(0);(function(){e._registry={},e.register=function(s){if(e.isPlugin(s)||n.warn("Plugin.register:",e.toString(s),"does not implement all required fields."),s.name in e._registry){var i=e._registry[s.name],u=e.versionParse(s.version).number,a=e.versionParse(i.version).number;u>a?(n.warn("Plugin.register:",e.toString(i),"was upgraded to",e.toString(s)),e._registry[s.name]=s):u<a?n.warn("Plugin.register:",e.toString(i),"can not be downgraded to",e.toString(s)):s!==i&&n.warn("Plugin.register:",e.toString(s),"is already registered to different plugin object")}else e._registry[s.name]=s;return s},e.resolve=function(s){return e._registry[e.dependencyParse(s).name]},e.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},e.isPlugin=function(s){return s&&s.name&&s.version&&s.install},e.isUsed=function(s,i){return s.used.indexOf(i)>-1},e.isFor=function(s,i){var u=s.for&&e.dependencyParse(s.for);return!s.for||i.name===u.name&&e.versionSatisfies(i.version,u.range)},e.use=function(s,i){if(s.uses=(s.uses||[]).concat(i||[]),s.uses.length===0){n.warn("Plugin.use:",e.toString(s),"does not specify any dependencies to install.");return}for(var u=e.dependencies(s),a=n.topologicalSort(u),d=[],l=0;l<a.length;l+=1)if(a[l]!==s.name){var t=e.resolve(a[l]);if(!t){d.push(" "+a[l]);continue}e.isUsed(s,t.name)||(e.isFor(t,s)||(n.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(s)+"."),t._warned=!0),t.install?t.install(s):(n.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(d.push(" "+e.toString(t)),delete t._warned):d.push(" "+e.toString(t)),s.used.push(t.name))}d.length>0&&n.info(d.join("  "))},e.dependencies=function(s,i){var u=e.dependencyParse(s),a=u.name;if(i=i||{},!(a in i)){s=e.resolve(s)||s,i[a]=n.map(s.uses||[],function(l){e.isPlugin(l)&&e.register(l);var t=e.dependencyParse(l),r=e.resolve(l);return r&&!e.versionSatisfies(r.version,t.range)?(n.warn("Plugin.dependencies:",e.toString(r),"does not satisfy",e.toString(t),"used by",e.toString(u)+"."),r._warned=!0,s._warned=!0):r||(n.warn("Plugin.dependencies:",e.toString(l),"used by",e.toString(u),"could not be resolved."),s._warned=!0),t.name});for(var d=0;d<i[a].length;d+=1)e.dependencies(i[a][d],i);return i}},e.dependencyParse=function(s){if(n.isString(s)){var i=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return i.test(s)||n.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},e.versionParse=function(s){var i=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;i.test(s)||n.warn("Plugin.versionParse:",s,"is not a valid version or range.");var u=i.exec(s),a=Number(u[4]),d=Number(u[5]),l=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:s,operator:u[1]||u[2]||"",major:a,minor:d,patch:l,parts:[a,d,l],prerelease:u[7],number:a*1e8+d*1e4+l}},e.versionSatisfies=function(s,i){i=i||"*";var u=e.versionParse(i),a=e.versionParse(s);if(u.isRange){if(u.operator==="*"||s==="*")return!0;if(u.operator===">")return a.number>u.number;if(u.operator===">=")return a.number>=u.number;if(u.operator==="~")return a.major===u.major&&a.minor===u.minor&&a.patch>=u.patch;if(u.operator==="^")return u.major>0?a.major===u.major&&a.number>=u.number:u.minor>0?a.minor===u.minor&&a.patch>=u.patch:a.patch===u.patch}return s===i||s==="*"}})()},function(p,S){var c={};p.exports=c,function(){c.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(p,S,c){var e={};p.exports=e;var n=c(7),s=c(18),i=c(13),u=c(19),a=c(5),d=c(6),l=c(10),t=c(0),r=c(4);(function(){e._deltaMax=1e3/60,e.create=function(o){o=o||{};var f={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},m=t.extend(f,o);return m.world=o.world||d.create({label:"World"}),m.pairs=o.pairs||u.create(),m.detector=o.detector||i.create(),m.detector.pairs=m.pairs,m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},e.update=function(o,f){var m=t.now(),v=o.world,w=o.detector,C=o.pairs,g=o.timing,y=g.timestamp,M;f>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),f=typeof f<"u"?f:t._baseDelta,f*=g.timeScale,g.timestamp+=f,g.lastDelta=f;var x={timestamp:g.timestamp,delta:f};a.trigger(o,"beforeUpdate",x);var P=d.allBodies(v),D=d.allConstraints(v);for(v.isModified&&(i.setBodies(w,P),d.setModified(v,!1,!1,!0)),o.enableSleeping&&n.update(P,f),e._bodiesApplyGravity(P,o.gravity),f>0&&e._bodiesUpdate(P,f),a.trigger(o,"beforeSolve",x),l.preSolveAll(P),M=0;M<o.constraintIterations;M++)l.solveAll(D,f);l.postSolveAll(P);var O=i.collisions(w);u.update(C,O,y),o.enableSleeping&&n.afterCollisions(C.list),C.collisionStart.length>0&&a.trigger(o,"collisionStart",{pairs:C.collisionStart,timestamp:g.timestamp,delta:f});var T=t.clamp(20/o.positionIterations,0,1);for(s.preSolvePosition(C.list),M=0;M<o.positionIterations;M++)s.solvePosition(C.list,f,T);for(s.postSolvePosition(P),l.preSolveAll(P),M=0;M<o.constraintIterations;M++)l.solveAll(D,f);for(l.postSolveAll(P),s.preSolveVelocity(C.list),M=0;M<o.velocityIterations;M++)s.solveVelocity(C.list,f);return e._bodiesUpdateVelocities(P),C.collisionActive.length>0&&a.trigger(o,"collisionActive",{pairs:C.collisionActive,timestamp:g.timestamp,delta:f}),C.collisionEnd.length>0&&a.trigger(o,"collisionEnd",{pairs:C.collisionEnd,timestamp:g.timestamp,delta:f}),e._bodiesClearForces(P),a.trigger(o,"afterUpdate",x),o.timing.lastElapsed=t.now()-m,o},e.merge=function(o,f){if(t.extend(o,f),f.world){o.world=f.world,e.clear(o);for(var m=d.allBodies(o.world),v=0;v<m.length;v++){var w=m[v];n.set(w,!1),w.id=t.nextId()}}},e.clear=function(o){u.clear(o.pairs),i.clear(o.detector)},e._bodiesClearForces=function(o){for(var f=o.length,m=0;m<f;m++){var v=o[m];v.force.x=0,v.force.y=0,v.torque=0}},e._bodiesApplyGravity=function(o,f){var m=typeof f.scale<"u"?f.scale:.001,v=o.length;if(!(f.x===0&&f.y===0||m===0))for(var w=0;w<v;w++){var C=o[w];C.isStatic||C.isSleeping||(C.force.y+=C.mass*f.y*m,C.force.x+=C.mass*f.x*m)}},e._bodiesUpdate=function(o,f){for(var m=o.length,v=0;v<m;v++){var w=o[v];w.isStatic||w.isSleeping||r.update(w,f)}},e._bodiesUpdateVelocities=function(o){for(var f=o.length,m=0;m<f;m++)r.updateVelocities(o[m])}})()},function(p,S,c){var e={};p.exports=e;var n=c(3),s=c(0),i=c(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(u){var a,d,l,t=u.length;for(a=0;a<t;a++)d=u[a],d.isActive&&(l=d.contactCount,d.collision.parentA.totalContacts+=l,d.collision.parentB.totalContacts+=l)},e.solvePosition=function(u,a,d){var l,t,r,o,f,m,v,w,C=e._positionDampen*(d||1),g=s.clamp(a/s._baseDelta,0,1),y=u.length;for(l=0;l<y;l++)t=u[l],!(!t.isActive||t.isSensor)&&(r=t.collision,o=r.parentA,f=r.parentB,m=r.normal,t.separation=r.depth+m.x*(f.positionImpulse.x-o.positionImpulse.x)+m.y*(f.positionImpulse.y-o.positionImpulse.y));for(l=0;l<y;l++)t=u[l],!(!t.isActive||t.isSensor)&&(r=t.collision,o=r.parentA,f=r.parentB,m=r.normal,w=t.separation-t.slop*g,(o.isStatic||f.isStatic)&&(w*=2),o.isStatic||o.isSleeping||(v=C/o.totalContacts,o.positionImpulse.x+=m.x*w*v,o.positionImpulse.y+=m.y*w*v),f.isStatic||f.isSleeping||(v=C/f.totalContacts,f.positionImpulse.x-=m.x*w*v,f.positionImpulse.y-=m.y*w*v))},e.postSolvePosition=function(u){for(var a=e._positionWarming,d=u.length,l=n.translate,t=i.update,r=0;r<d;r++){var o=u[r],f=o.positionImpulse,m=f.x,v=f.y,w=o.velocity;if(o.totalContacts=0,m!==0||v!==0){for(var C=0;C<o.parts.length;C++){var g=o.parts[C];l(g.vertices,f),t(g.bounds,g.vertices,w),g.position.x+=m,g.position.y+=v}o.positionPrev.x+=m,o.positionPrev.y+=v,m*w.x+v*w.y<0?(f.x=0,f.y=0):(f.x*=a,f.y*=a)}}},e.preSolveVelocity=function(u){var a=u.length,d,l;for(d=0;d<a;d++){var t=u[d];if(!(!t.isActive||t.isSensor)){var r=t.contacts,o=t.contactCount,f=t.collision,m=f.parentA,v=f.parentB,w=f.normal,C=f.tangent;for(l=0;l<o;l++){var g=r[l],y=g.vertex,M=g.normalImpulse,x=g.tangentImpulse;if(M!==0||x!==0){var P=w.x*M+C.x*x,D=w.y*M+C.y*x;m.isStatic||m.isSleeping||(m.positionPrev.x+=P*m.inverseMass,m.positionPrev.y+=D*m.inverseMass,m.anglePrev+=m.inverseInertia*((y.x-m.position.x)*D-(y.y-m.position.y)*P)),v.isStatic||v.isSleeping||(v.positionPrev.x-=P*v.inverseMass,v.positionPrev.y-=D*v.inverseMass,v.anglePrev-=v.inverseInertia*((y.x-v.position.x)*D-(y.y-v.position.y)*P))}}}}},e.solveVelocity=function(u,a){var d=a/s._baseDelta,l=d*d,t=l*d,r=-e._restingThresh*d,o=e._restingThreshTangent,f=e._frictionNormalMultiplier*d,m=e._frictionMaxStatic,v=u.length,w,C,g,y;for(g=0;g<v;g++){var M=u[g];if(!(!M.isActive||M.isSensor)){var x=M.collision,P=x.parentA,D=x.parentB,O=x.normal.x,T=x.normal.y,L=x.tangent.x,I=x.tangent.y,E=M.inverseMass,R=M.friction*M.frictionStatic*f,k=M.contacts,V=M.contactCount,W=1/V,X=P.position.x-P.positionPrev.x,z=P.position.y-P.positionPrev.y,Q=P.angle-P.anglePrev,Z=D.position.x-D.positionPrev.x,ne=D.position.y-D.positionPrev.y,se=D.angle-D.anglePrev;for(y=0;y<V;y++){var U=k[y],K=U.vertex,G=K.x-P.position.x,oe=K.y-P.position.y,Y=K.x-D.position.x,N=K.y-D.position.y,B=X-oe*Q,$=z+G*Q,j=Z-N*se,re=ne+Y*se,le=B-j,ue=$-re,fe=O*le+T*ue,ie=L*le+I*ue,pe=M.separation+fe,ve=Math.min(pe,1);ve=pe<0?0:ve;var Pe=ve*R;ie<-Pe||ie>Pe?(C=ie>0?ie:-ie,w=M.friction*(ie>0?1:-1)*t,w<-C?w=-C:w>C&&(w=C)):(w=ie,C=m);var Oe=G*T-oe*O,Ae=Y*T-N*O,Le=W/(E+P.inverseInertia*Oe*Oe+D.inverseInertia*Ae*Ae),Ce=(1+M.restitution)*fe*Le;if(w*=Le,fe<r)U.normalImpulse=0;else{var qe=U.normalImpulse;U.normalImpulse+=Ce,U.normalImpulse>0&&(U.normalImpulse=0),Ce=U.normalImpulse-qe}if(ie<-o||ie>o)U.tangentImpulse=0;else{var Xe=U.tangentImpulse;U.tangentImpulse+=w,U.tangentImpulse<-C&&(U.tangentImpulse=-C),U.tangentImpulse>C&&(U.tangentImpulse=C),w=U.tangentImpulse-Xe}var ye=O*Ce+L*w,de=T*Ce+I*w;P.isStatic||P.isSleeping||(P.positionPrev.x+=ye*P.inverseMass,P.positionPrev.y+=de*P.inverseMass,P.anglePrev+=(G*de-oe*ye)*P.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=ye*D.inverseMass,D.positionPrev.y-=de*D.inverseMass,D.anglePrev-=(Y*de-N*ye)*D.inverseInertia)}}}}})()},function(p,S,c){var e={};p.exports=e;var n=c(9),s=c(0);(function(){e.create=function(i){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},i)},e.update=function(i,u,a){var d=n.update,l=n.create,t=n.setActive,r=i.table,o=i.list,f=o.length,m=f,v=i.collisionStart,w=i.collisionEnd,C=i.collisionActive,g=u.length,y=0,M=0,x=0,P,D,O;for(O=0;O<g;O++)P=u[O],D=P.pair,D?(D.isActive&&(C[x++]=D),d(D,P,a)):(D=l(P,a),r[D.id]=D,v[y++]=D,o[m++]=D);for(m=0,f=o.length,O=0;O<f;O++)D=o[O],D.timeUpdated>=a?o[m++]=D:(t(D,!1,a),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?o[m++]=D:(w[M++]=D,delete r[D.id]));o.length!==m&&(o.length=m),v.length!==y&&(v.length=y),w.length!==M&&(w.length=M),C.length!==x&&(C.length=x)},e.clear=function(i){return i.table={},i.list.length=0,i.collisionStart.length=0,i.collisionActive.length=0,i.collisionEnd.length=0,i}})()},function(p,S,c){var e=p.exports=c(21);e.Axes=c(11),e.Bodies=c(12),e.Body=c(4),e.Bounds=c(1),e.Collision=c(8),e.Common=c(0),e.Composite=c(6),e.Composites=c(22),e.Constraint=c(10),e.Contact=c(16),e.Detector=c(13),e.Engine=c(17),e.Events=c(5),e.Grid=c(23),e.Mouse=c(14),e.MouseConstraint=c(24),e.Pair=c(9),e.Pairs=c(19),e.Plugin=c(15),e.Query=c(25),e.Render=c(26),e.Resolver=c(18),e.Runner=c(27),e.SAT=c(28),e.Sleeping=c(7),e.Svg=c(29),e.Vector=c(2),e.Vertices=c(3),e.World=c(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(p,S,c){var e={};p.exports=e;var n=c(15),s=c(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){n.use(e,Array.prototype.slice.call(arguments))},e.before=function(i,u){return i=i.replace(/^Matter./,""),s.chainPathBefore(e,i,u)},e.after=function(i,u){return i=i.replace(/^Matter./,""),s.chainPathAfter(e,i,u)}})()},function(p,S,c){var e={};p.exports=e;var n=c(6),s=c(10),i=c(0),u=c(4),a=c(12),d=i.deprecated;(function(){e.stack=function(l,t,r,o,f,m,v){for(var w=n.create({label:"Stack"}),C=l,g=t,y,M=0,x=0;x<o;x++){for(var P=0,D=0;D<r;D++){var O=v(C,g,D,x,y,M);if(O){var T=O.bounds.max.y-O.bounds.min.y,L=O.bounds.max.x-O.bounds.min.x;T>P&&(P=T),u.translate(O,{x:L*.5,y:T*.5}),C=O.bounds.max.x+f,n.addBody(w,O),y=O,M+=1}else C+=f}g+=P+m,C=l}return w},e.chain=function(l,t,r,o,f,m){for(var v=l.bodies,w=1;w<v.length;w++){var C=v[w-1],g=v[w],y=C.bounds.max.y-C.bounds.min.y,M=C.bounds.max.x-C.bounds.min.x,x=g.bounds.max.y-g.bounds.min.y,P=g.bounds.max.x-g.bounds.min.x,D={bodyA:C,pointA:{x:M*t,y:y*r},bodyB:g,pointB:{x:P*o,y:x*f}},O=i.extend(D,m);n.addConstraint(l,s.create(O))}return l.label+=" Chain",l},e.mesh=function(l,t,r,o,f){var m=l.bodies,v,w,C,g,y;for(v=0;v<r;v++){for(w=1;w<t;w++)C=m[w-1+v*t],g=m[w+v*t],n.addConstraint(l,s.create(i.extend({bodyA:C,bodyB:g},f)));if(v>0)for(w=0;w<t;w++)C=m[w+(v-1)*t],g=m[w+v*t],n.addConstraint(l,s.create(i.extend({bodyA:C,bodyB:g},f))),o&&w>0&&(y=m[w-1+(v-1)*t],n.addConstraint(l,s.create(i.extend({bodyA:y,bodyB:g},f)))),o&&w<t-1&&(y=m[w+1+(v-1)*t],n.addConstraint(l,s.create(i.extend({bodyA:y,bodyB:g},f))))}return l.label+=" Mesh",l},e.pyramid=function(l,t,r,o,f,m,v){return e.stack(l,t,r,o,f,m,function(w,C,g,y,M,x){var P=Math.min(o,Math.ceil(r/2)),D=M?M.bounds.max.x-M.bounds.min.x:0;if(!(y>P)){y=P-y;var O=y,T=r-1-y;if(!(g<O||g>T)){x===1&&u.translate(M,{x:(g+(r%2===1?1:-1))*D,y:0});var L=M?g*D:0;return v(l+L+g*f,C,g,y,M,x)}}})},e.newtonsCradle=function(l,t,r,o,f){for(var m=n.create({label:"Newtons Cradle"}),v=0;v<r;v++){var w=1.9,C=a.circle(l+v*(o*w),t+f,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),g=s.create({pointA:{x:l+v*(o*w),y:t},bodyB:C});n.addBody(m,C),n.addConstraint(m,g)}return m},d(e,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),e.car=function(l,t,r,o,f){var m=u.nextGroup(!0),v=20,w=-r*.5+v,C=r*.5-v,g=0,y=n.create({label:"Car"}),M=a.rectangle(l,t,r,o,{collisionFilter:{group:m},chamfer:{radius:o*.5},density:2e-4}),x=a.circle(l+w,t+g,f,{collisionFilter:{group:m},friction:.8}),P=a.circle(l+C,t+g,f,{collisionFilter:{group:m},friction:.8}),D=s.create({bodyB:M,pointB:{x:w,y:g},bodyA:x,stiffness:1,length:0}),O=s.create({bodyB:M,pointB:{x:C,y:g},bodyA:P,stiffness:1,length:0});return n.addBody(y,M),n.addBody(y,x),n.addBody(y,P),n.addConstraint(y,D),n.addConstraint(y,O),y},d(e,"car","Composites.car  moved to car example"),e.softBody=function(l,t,r,o,f,m,v,w,C,g){C=i.extend({inertia:1/0},C),g=i.extend({stiffness:.2,render:{type:"line",anchors:!1}},g);var y=e.stack(l,t,r,o,f,m,function(M,x){return a.circle(M,x,w,C)});return e.mesh(y,r,o,v,g),y.label="Soft Body",y},d(e,"softBody","Composites.softBody  moved to softBody and cloth examples")})()},function(p,S,c){var e={};p.exports=e;var n=c(9),s=c(0),i=s.deprecated;(function(){e.create=function(u){var a={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(a,u)},e.update=function(u,a,d,l){var t,r,o,f=d.world,m=u.buckets,v,w,C=!1;for(t=0;t<a.length;t++){var g=a[t];if(!(g.isSleeping&&!l)&&!(f.bounds&&(g.bounds.max.x<f.bounds.min.x||g.bounds.min.x>f.bounds.max.x||g.bounds.max.y<f.bounds.min.y||g.bounds.min.y>f.bounds.max.y))){var y=e._getRegion(u,g);if(!g.region||y.id!==g.region.id||l){(!g.region||l)&&(g.region=y);var M=e._regionUnion(y,g.region);for(r=M.startCol;r<=M.endCol;r++)for(o=M.startRow;o<=M.endRow;o++){w=e._getBucketId(r,o),v=m[w];var x=r>=y.startCol&&r<=y.endCol&&o>=y.startRow&&o<=y.endRow,P=r>=g.region.startCol&&r<=g.region.endCol&&o>=g.region.startRow&&o<=g.region.endRow;!x&&P&&P&&v&&e._bucketRemoveBody(u,v,g),(g.region===y||x&&!P||l)&&(v||(v=e._createBucket(m,w)),e._bucketAddBody(u,v,g))}g.region=y,C=!0}}}C&&(u.pairsList=e._createActivePairsList(u))},i(e,"update","Grid.update  replaced by Matter.Detector"),e.clear=function(u){u.buckets={},u.pairs={},u.pairsList=[]},i(e,"clear","Grid.clear  replaced by Matter.Detector"),e._regionUnion=function(u,a){var d=Math.min(u.startCol,a.startCol),l=Math.max(u.endCol,a.endCol),t=Math.min(u.startRow,a.startRow),r=Math.max(u.endRow,a.endRow);return e._createRegion(d,l,t,r)},e._getRegion=function(u,a){var d=a.bounds,l=Math.floor(d.min.x/u.bucketWidth),t=Math.floor(d.max.x/u.bucketWidth),r=Math.floor(d.min.y/u.bucketHeight),o=Math.floor(d.max.y/u.bucketHeight);return e._createRegion(l,t,r,o)},e._createRegion=function(u,a,d,l){return{id:u+","+a+","+d+","+l,startCol:u,endCol:a,startRow:d,endRow:l}},e._getBucketId=function(u,a){return"C"+u+"R"+a},e._createBucket=function(u,a){var d=u[a]=[];return d},e._bucketAddBody=function(u,a,d){var l=u.pairs,t=n.id,r=a.length,o;for(o=0;o<r;o++){var f=a[o];if(!(d.id===f.id||d.isStatic&&f.isStatic)){var m=t(d,f),v=l[m];v?v[2]+=1:l[m]=[d,f,1]}}a.push(d)},e._bucketRemoveBody=function(u,a,d){var l=u.pairs,t=n.id,r;a.splice(s.indexOf(a,d),1);var o=a.length;for(r=0;r<o;r++){var f=l[t(d,a[r])];f&&(f[2]-=1)}},e._createActivePairsList=function(u){var a,d=u.pairs,l=s.keys(d),t=l.length,r=[],o;for(o=0;o<t;o++)a=d[l[o]],a[2]>0?r.push(a):delete d[l[o]];return r}})()},function(p,S,c){var e={};p.exports=e;var n=c(3),s=c(7),i=c(14),u=c(5),a=c(13),d=c(10),l=c(6),t=c(0),r=c(1);(function(){e.create=function(o,f){var m=(o?o.mouse:null)||(f?f.mouse:null);m||(o&&o.render&&o.render.canvas?m=i.create(o.render.canvas):f&&f.element?m=i.create(f.element):(m=i.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var v=d.create({label:"Mouse Constraint",pointA:m.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),w={type:"mouseConstraint",mouse:m,element:null,body:null,constraint:v,collisionFilter:{category:1,mask:4294967295,group:0}},C=t.extend(w,f);return u.on(o,"beforeUpdate",function(){var g=l.allBodies(o.world);e.update(C,g),e._triggerEvents(C)}),C},e.update=function(o,f){var m=o.mouse,v=o.constraint,w=o.body;if(m.button===0){if(v.bodyB)s.set(v.bodyB,!1),v.pointA=m.position;else for(var C=0;C<f.length;C++)if(w=f[C],r.contains(w.bounds,m.position)&&a.canCollide(w.collisionFilter,o.collisionFilter))for(var g=w.parts.length>1?1:0;g<w.parts.length;g++){var y=w.parts[g];if(n.contains(y.vertices,m.position)){v.pointA=m.position,v.bodyB=o.body=w,v.pointB={x:m.position.x-w.position.x,y:m.position.y-w.position.y},v.angleB=w.angle,s.set(w,!1),u.trigger(o,"startdrag",{mouse:m,body:w});break}}}else v.bodyB=o.body=null,v.pointB=null,w&&u.trigger(o,"enddrag",{mouse:m,body:w})},e._triggerEvents=function(o){var f=o.mouse,m=f.sourceEvents;m.mousemove&&u.trigger(o,"mousemove",{mouse:f}),m.mousedown&&u.trigger(o,"mousedown",{mouse:f}),m.mouseup&&u.trigger(o,"mouseup",{mouse:f}),i.clearSourceEvents(f)}})()},function(p,S,c){var e={};p.exports=e;var n=c(2),s=c(8),i=c(1),u=c(12),a=c(3);(function(){e.collides=function(d,l){for(var t=[],r=l.length,o=d.bounds,f=s.collides,m=i.overlaps,v=0;v<r;v++){var w=l[v],C=w.parts.length,g=C===1?0:1;if(m(w.bounds,o))for(var y=g;y<C;y++){var M=w.parts[y];if(m(M.bounds,o)){var x=f(M,d);if(x){t.push(x);break}}}}return t},e.ray=function(d,l,t,r){r=r||1e-100;for(var o=n.angle(l,t),f=n.magnitude(n.sub(l,t)),m=(t.x+l.x)*.5,v=(t.y+l.y)*.5,w=u.rectangle(m,v,f,r,{angle:o}),C=e.collides(w,d),g=0;g<C.length;g+=1){var y=C[g];y.body=y.bodyB=y.bodyA}return C},e.region=function(d,l,t){for(var r=[],o=0;o<d.length;o++){var f=d[o],m=i.overlaps(f.bounds,l);(m&&!t||!m&&t)&&r.push(f)}return r},e.point=function(d,l){for(var t=[],r=0;r<d.length;r++){var o=d[r];if(i.contains(o.bounds,l))for(var f=o.parts.length===1?0:1;f<o.parts.length;f++){var m=o.parts[f];if(i.contains(m.bounds,l)&&a.contains(m.vertices,l)){t.push(o);break}}}return t}})()},function(p,S,c){var e={};p.exports=e;var n=c(4),s=c(0),i=c(6),u=c(1),a=c(5),d=c(2),l=c(14);(function(){var t,r;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(g){window.setTimeout(function(){g(s.now())},1e3/60)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(g){var y={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!g.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},M=s.extend(y,g);return M.canvas&&(M.canvas.width=M.options.width||M.canvas.width,M.canvas.height=M.options.height||M.canvas.height),M.mouse=g.mouse,M.engine=g.engine,M.canvas=M.canvas||m(M.options.width,M.options.height),M.context=M.canvas.getContext("2d"),M.textures={},M.bounds=M.bounds||{min:{x:0,y:0},max:{x:M.canvas.width,y:M.canvas.height}},M.controller=e,M.options.showBroadphase=!1,M.options.pixelRatio!==1&&e.setPixelRatio(M,M.options.pixelRatio),s.isElement(M.element)&&M.element.appendChild(M.canvas),M},e.run=function(g){(function y(M){g.frameRequestId=t(y),o(g,M),e.world(g,M),g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0),(g.options.showStats||g.options.showDebug)&&e.stats(g,g.context,M),(g.options.showPerformance||g.options.showDebug)&&e.performance(g,g.context,M),g.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(g){r(g.frameRequestId)},e.setPixelRatio=function(g,y){var M=g.options,x=g.canvas;y==="auto"&&(y=v(x)),M.pixelRatio=y,x.setAttribute("data-pixel-ratio",y),x.width=M.width*y,x.height=M.height*y,x.style.width=M.width+"px",x.style.height=M.height+"px"},e.setSize=function(g,y,M){g.options.width=y,g.options.height=M,g.bounds.max.x=g.bounds.min.x+y,g.bounds.max.y=g.bounds.min.y+M,g.options.pixelRatio!==1?e.setPixelRatio(g,g.options.pixelRatio):(g.canvas.width=y,g.canvas.height=M)},e.lookAt=function(g,y,M,x){x=typeof x<"u"?x:!0,y=s.isArray(y)?y:[y],M=M||{x:0,y:0};for(var P={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},D=0;D<y.length;D+=1){var O=y[D],T=O.bounds?O.bounds.min:O.min||O.position||O,L=O.bounds?O.bounds.max:O.max||O.position||O;T&&L&&(T.x<P.min.x&&(P.min.x=T.x),L.x>P.max.x&&(P.max.x=L.x),T.y<P.min.y&&(P.min.y=T.y),L.y>P.max.y&&(P.max.y=L.y))}var I=P.max.x-P.min.x+2*M.x,E=P.max.y-P.min.y+2*M.y,R=g.canvas.height,k=g.canvas.width,V=k/R,W=I/E,X=1,z=1;W>V?z=W/V:X=V/W,g.options.hasBounds=!0,g.bounds.min.x=P.min.x,g.bounds.max.x=P.min.x+I*X,g.bounds.min.y=P.min.y,g.bounds.max.y=P.min.y+E*z,x&&(g.bounds.min.x+=I*.5-I*X*.5,g.bounds.max.x+=I*.5-I*X*.5,g.bounds.min.y+=E*.5-E*z*.5,g.bounds.max.y+=E*.5-E*z*.5),g.bounds.min.x-=M.x,g.bounds.max.x-=M.x,g.bounds.min.y-=M.y,g.bounds.max.y-=M.y,g.mouse&&(l.setScale(g.mouse,{x:(g.bounds.max.x-g.bounds.min.x)/g.canvas.width,y:(g.bounds.max.y-g.bounds.min.y)/g.canvas.height}),l.setOffset(g.mouse,g.bounds.min))},e.startViewTransform=function(g){var y=g.bounds.max.x-g.bounds.min.x,M=g.bounds.max.y-g.bounds.min.y,x=y/g.options.width,P=M/g.options.height;g.context.setTransform(g.options.pixelRatio/x,0,0,g.options.pixelRatio/P,0,0),g.context.translate(-g.bounds.min.x,-g.bounds.min.y)},e.endViewTransform=function(g){g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0)},e.world=function(g,y){var M=s.now(),x=g.engine,P=x.world,D=g.canvas,O=g.context,T=g.options,L=g.timing,I=i.allBodies(P),E=i.allConstraints(P),R=T.wireframes?T.wireframeBackground:T.background,k=[],V=[],W,X={timestamp:x.timing.timestamp};if(a.trigger(g,"beforeRender",X),g.currentBackground!==R&&C(g,R),O.globalCompositeOperation="source-in",O.fillStyle="transparent",O.fillRect(0,0,D.width,D.height),O.globalCompositeOperation="source-over",T.hasBounds){for(W=0;W<I.length;W++){var z=I[W];u.overlaps(z.bounds,g.bounds)&&k.push(z)}for(W=0;W<E.length;W++){var Q=E[W],Z=Q.bodyA,ne=Q.bodyB,se=Q.pointA,U=Q.pointB;Z&&(se=d.add(Z.position,Q.pointA)),ne&&(U=d.add(ne.position,Q.pointB)),!(!se||!U)&&(u.contains(g.bounds,se)||u.contains(g.bounds,U))&&V.push(Q)}e.startViewTransform(g),g.mouse&&(l.setScale(g.mouse,{x:(g.bounds.max.x-g.bounds.min.x)/g.options.width,y:(g.bounds.max.y-g.bounds.min.y)/g.options.height}),l.setOffset(g.mouse,g.bounds.min))}else V=E,k=I,g.options.pixelRatio!==1&&g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0);!T.wireframes||x.enableSleeping&&T.showSleeping?e.bodies(g,k,O):(T.showConvexHulls&&e.bodyConvexHulls(g,k,O),e.bodyWireframes(g,k,O)),T.showBounds&&e.bodyBounds(g,k,O),(T.showAxes||T.showAngleIndicator)&&e.bodyAxes(g,k,O),T.showPositions&&e.bodyPositions(g,k,O),T.showVelocity&&e.bodyVelocity(g,k,O),T.showIds&&e.bodyIds(g,k,O),T.showSeparations&&e.separations(g,x.pairs.list,O),T.showCollisions&&e.collisions(g,x.pairs.list,O),T.showVertexNumbers&&e.vertexNumbers(g,k,O),T.showMousePosition&&e.mousePosition(g,g.mouse,O),e.constraints(V,O),T.hasBounds&&e.endViewTransform(g),a.trigger(g,"afterRender",X),L.lastElapsed=s.now()-M},e.stats=function(g,y,M){for(var x=g.engine,P=x.world,D=i.allBodies(P),O=0,T=55,L=44,I=0,E=0,R=0;R<D.length;R+=1)O+=D[R].parts.length;var k={Part:O,Body:D.length,Cons:i.allConstraints(P).length,Comp:i.allComposites(P).length,Pair:x.pairs.list.length};y.fillStyle="#0e0f19",y.fillRect(I,E,T*5.5,L),y.font="12px Arial",y.textBaseline="top",y.textAlign="right";for(var V in k){var W=k[V];y.fillStyle="#aaa",y.fillText(V,I+T,E+8),y.fillStyle="#eee",y.fillText(W,I+T,E+26),I+=T}},e.performance=function(g,y){var M=g.engine,x=g.timing,P=x.deltaHistory,D=x.elapsedHistory,O=x.timestampElapsedHistory,T=x.engineDeltaHistory,L=x.engineUpdatesHistory,I=x.engineElapsedHistory,E=M.timing.lastUpdatesPerFrame,R=M.timing.lastDelta,k=f(P),V=f(D),W=f(T),X=f(L),z=f(I),Q=f(O),Z=Q/k||0,ne=Math.round(k/R),se=1e3/k||0,U=4,K=12,G=60,oe=34,Y=10,N=69;y.fillStyle="#0e0f19",y.fillRect(0,50,K*5+G*6+22,oe),e.status(y,Y,N,G,U,P.length,Math.round(se)+" fps",se/e._goodFps,function(B){return P[B]/k-1}),e.status(y,Y+K+G,N,G,U,T.length,R.toFixed(2)+" dt",e._goodDelta/R,function(B){return T[B]/W-1}),e.status(y,Y+(K+G)*2,N,G,U,L.length,E+" upf",Math.pow(s.clamp(X/ne||1,0,1),4),function(B){return L[B]/X-1}),e.status(y,Y+(K+G)*3,N,G,U,I.length,z.toFixed(2)+" ut",1-E*z/e._goodFps,function(B){return I[B]/z-1}),e.status(y,Y+(K+G)*4,N,G,U,D.length,V.toFixed(2)+" rt",1-V/e._goodFps,function(B){return D[B]/V-1}),e.status(y,Y+(K+G)*5,N,G,U,O.length,Z.toFixed(2)+" x",Z*Z*Z,function(B){return(O[B]/P[B]/Z||0)-1})},e.status=function(g,y,M,x,P,D,O,T,L){g.strokeStyle="#888",g.fillStyle="#444",g.lineWidth=1,g.fillRect(y,M+7,x,1),g.beginPath(),g.moveTo(y,M+7-P*s.clamp(.4*L(0),-2,2));for(var I=0;I<x;I+=1)g.lineTo(y+I,M+7-(I<D?P*s.clamp(.4*L(I),-2,2):0));g.stroke(),g.fillStyle="hsl("+s.clamp(25+95*T,0,120)+",100%,60%)",g.fillRect(y,M-7,4,4),g.font="12px Arial",g.textBaseline="middle",g.textAlign="right",g.fillStyle="#eee",g.fillText(O,y+x,M-5)},e.constraints=function(g,y){for(var M=y,x=0;x<g.length;x++){var P=g[x];if(!(!P.render.visible||!P.pointA||!P.pointB)){var D=P.bodyA,O=P.bodyB,T,L;if(D?T=d.add(D.position,P.pointA):T=P.pointA,P.render.type==="pin")M.beginPath(),M.arc(T.x,T.y,3,0,2*Math.PI),M.closePath();else{if(O?L=d.add(O.position,P.pointB):L=P.pointB,M.beginPath(),M.moveTo(T.x,T.y),P.render.type==="spring")for(var I=d.sub(L,T),E=d.perp(d.normalise(I)),R=Math.ceil(s.clamp(P.length/5,12,20)),k,V=1;V<R;V+=1)k=V%2===0?1:-1,M.lineTo(T.x+I.x*(V/R)+E.x*k*4,T.y+I.y*(V/R)+E.y*k*4);M.lineTo(L.x,L.y)}P.render.lineWidth&&(M.lineWidth=P.render.lineWidth,M.strokeStyle=P.render.strokeStyle,M.stroke()),P.render.anchors&&(M.fillStyle=P.render.strokeStyle,M.beginPath(),M.arc(T.x,T.y,3,0,2*Math.PI),M.arc(L.x,L.y,3,0,2*Math.PI),M.closePath(),M.fill())}}},e.bodies=function(g,y,M){var x=M;g.engine;var P=g.options,D=P.showInternalEdges||!P.wireframes,O,T,L,I;for(L=0;L<y.length;L++)if(O=y[L],!!O.render.visible){for(I=O.parts.length>1?1:0;I<O.parts.length;I++)if(T=O.parts[I],!!T.render.visible){if(P.showSleeping&&O.isSleeping?x.globalAlpha=.5*T.render.opacity:T.render.opacity!==1&&(x.globalAlpha=T.render.opacity),T.render.sprite&&T.render.sprite.texture&&!P.wireframes){var E=T.render.sprite,R=w(g,E.texture);x.translate(T.position.x,T.position.y),x.rotate(T.angle),x.drawImage(R,R.width*-E.xOffset*E.xScale,R.height*-E.yOffset*E.yScale,R.width*E.xScale,R.height*E.yScale),x.rotate(-T.angle),x.translate(-T.position.x,-T.position.y)}else{if(T.circleRadius)x.beginPath(),x.arc(T.position.x,T.position.y,T.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(T.vertices[0].x,T.vertices[0].y);for(var k=1;k<T.vertices.length;k++)!T.vertices[k-1].isInternal||D?x.lineTo(T.vertices[k].x,T.vertices[k].y):x.moveTo(T.vertices[k].x,T.vertices[k].y),T.vertices[k].isInternal&&!D&&x.moveTo(T.vertices[(k+1)%T.vertices.length].x,T.vertices[(k+1)%T.vertices.length].y);x.lineTo(T.vertices[0].x,T.vertices[0].y),x.closePath()}P.wireframes?(x.lineWidth=1,x.strokeStyle=g.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=T.render.fillStyle,T.render.lineWidth&&(x.lineWidth=T.render.lineWidth,x.strokeStyle=T.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(g,y,M){var x=M,P=g.options.showInternalEdges,D,O,T,L,I;for(x.beginPath(),T=0;T<y.length;T++)if(D=y[T],!!D.render.visible)for(I=D.parts.length>1?1:0;I<D.parts.length;I++){for(O=D.parts[I],x.moveTo(O.vertices[0].x,O.vertices[0].y),L=1;L<O.vertices.length;L++)!O.vertices[L-1].isInternal||P?x.lineTo(O.vertices[L].x,O.vertices[L].y):x.moveTo(O.vertices[L].x,O.vertices[L].y),O.vertices[L].isInternal&&!P&&x.moveTo(O.vertices[(L+1)%O.vertices.length].x,O.vertices[(L+1)%O.vertices.length].y);x.lineTo(O.vertices[0].x,O.vertices[0].y)}x.lineWidth=1,x.strokeStyle=g.options.wireframeStrokeStyle,x.stroke()},e.bodyConvexHulls=function(g,y,M){var x=M,P,D,O;for(x.beginPath(),D=0;D<y.length;D++)if(P=y[D],!(!P.render.visible||P.parts.length===1)){for(x.moveTo(P.vertices[0].x,P.vertices[0].y),O=1;O<P.vertices.length;O++)x.lineTo(P.vertices[O].x,P.vertices[O].y);x.lineTo(P.vertices[0].x,P.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(g,y,M){var x=M,P,D,O;for(P=0;P<y.length;P++){var T=y[P].parts;for(O=T.length>1?1:0;O<T.length;O++){var L=T[O];for(D=0;D<L.vertices.length;D++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(P+"_"+D,L.position.x+(L.vertices[D].x-L.position.x)*.8,L.position.y+(L.vertices[D].y-L.position.y)*.8)}}},e.mousePosition=function(g,y,M){var x=M;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(y.position.x+"  "+y.position.y,y.position.x+5,y.position.y-5)},e.bodyBounds=function(g,y,M){var x=M;g.engine;var P=g.options;x.beginPath();for(var D=0;D<y.length;D++){var O=y[D];if(O.render.visible)for(var T=y[D].parts,L=T.length>1?1:0;L<T.length;L++){var I=T[L];x.rect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}P.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(g,y,M){var x=M;g.engine;var P=g.options,D,O,T,L;for(x.beginPath(),O=0;O<y.length;O++){var I=y[O],E=I.parts;if(I.render.visible)if(P.showAxes)for(T=E.length>1?1:0;T<E.length;T++)for(D=E[T],L=0;L<D.axes.length;L++){var R=D.axes[L];x.moveTo(D.position.x,D.position.y),x.lineTo(D.position.x+R.x*20,D.position.y+R.y*20)}else for(T=E.length>1?1:0;T<E.length;T++)for(D=E[T],L=0;L<D.axes.length;L++)x.moveTo(D.position.x,D.position.y),x.lineTo((D.vertices[0].x+D.vertices[D.vertices.length-1].x)/2,(D.vertices[0].y+D.vertices[D.vertices.length-1].y)/2)}P.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(g,y,M){var x=M;g.engine;var P=g.options,D,O,T,L;for(x.beginPath(),T=0;T<y.length;T++)if(D=y[T],!!D.render.visible)for(L=0;L<D.parts.length;L++)O=D.parts[L],x.arc(O.position.x,O.position.y,3,0,2*Math.PI,!1),x.closePath();for(P.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),T=0;T<y.length;T++)D=y[T],D.render.visible&&(x.arc(D.positionPrev.x,D.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(g,y,M){var x=M;x.beginPath();for(var P=0;P<y.length;P++){var D=y[P];if(D.render.visible){var O=n.getVelocity(D);x.moveTo(D.position.x,D.position.y),x.lineTo(D.position.x+O.x,D.position.y+O.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(g,y,M){var x=M,P,D;for(P=0;P<y.length;P++)if(y[P].render.visible){var O=y[P].parts;for(D=O.length>1?1:0;D<O.length;D++){var T=O[D];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(T.id,T.position.x+10,T.position.y-10)}}},e.collisions=function(g,y,M){var x=M,P=g.options,D,O,T,L;for(x.beginPath(),T=0;T<y.length;T++)if(D=y[T],!!D.isActive)for(O=D.collision,L=0;L<D.contactCount;L++){var I=D.contacts[L],E=I.vertex;x.rect(E.x-1.5,E.y-1.5,3.5,3.5)}for(P.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),T=0;T<y.length;T++)if(D=y[T],!!D.isActive&&(O=D.collision,D.contactCount>0)){var R=D.contacts[0].vertex.x,k=D.contacts[0].vertex.y;D.contactCount===2&&(R=(D.contacts[0].vertex.x+D.contacts[1].vertex.x)/2,k=(D.contacts[0].vertex.y+D.contacts[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic===!0?x.moveTo(R-O.normal.x*8,k-O.normal.y*8):x.moveTo(R+O.normal.x*8,k+O.normal.y*8),x.lineTo(R,k)}P.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(g,y,M){var x=M,P=g.options,D,O,T,L,I;for(x.beginPath(),I=0;I<y.length;I++)if(D=y[I],!!D.isActive){O=D.collision,T=O.bodyA,L=O.bodyB;var E=1;!L.isStatic&&!T.isStatic&&(E=.5),L.isStatic&&(E=0),x.moveTo(L.position.x,L.position.y),x.lineTo(L.position.x-O.penetration.x*E,L.position.y-O.penetration.y*E),E=1,!L.isStatic&&!T.isStatic&&(E=.5),T.isStatic&&(E=0),x.moveTo(T.position.x,T.position.y),x.lineTo(T.position.x+O.penetration.x*E,T.position.y+O.penetration.y*E)}P.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(g,y){g.engine;var M=g.selected,x=g.render,P=x.options,D;if(P.hasBounds){var O=x.bounds.max.x-x.bounds.min.x,T=x.bounds.max.y-x.bounds.min.y,L=O/x.options.width,I=T/x.options.height;y.scale(1/L,1/I),y.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var E=0;E<M.length;E++){var R=M[E].data;switch(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.9)",y.setLineDash([1,2]),R.type){case"body":D=R.bounds,y.beginPath(),y.rect(Math.floor(D.min.x-3),Math.floor(D.min.y-3),Math.floor(D.max.x-D.min.x+6),Math.floor(D.max.y-D.min.y+6)),y.closePath(),y.stroke();break;case"constraint":var k=R.pointA;R.bodyA&&(k=R.pointB),y.beginPath(),y.arc(k.x,k.y,10,0,2*Math.PI),y.closePath(),y.stroke();break}y.setLineDash([]),y.translate(-.5,-.5)}g.selectStart!==null&&(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.6)",y.fillStyle="rgba(255,165,0,0.1)",D=g.selectBounds,y.beginPath(),y.rect(Math.floor(D.min.x),Math.floor(D.min.y),Math.floor(D.max.x-D.min.x),Math.floor(D.max.y-D.min.y)),y.closePath(),y.stroke(),y.fill(),y.translate(-.5,-.5)),P.hasBounds&&y.setTransform(1,0,0,1,0,0)};var o=function(g,y){var M=g.engine,x=g.timing,P=x.historySize,D=M.timing.timestamp;x.delta=y-x.lastTime||e._goodDelta,x.lastTime=y,x.timestampElapsed=D-x.lastTimestamp||0,x.lastTimestamp=D,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,P),x.engineDeltaHistory.unshift(M.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,P),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,P),x.engineUpdatesHistory.unshift(M.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,P),x.engineElapsedHistory.unshift(M.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,P),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,P)},f=function(g){for(var y=0,M=0;M<g.length;M+=1)y+=g[M];return y/g.length||0},m=function(g,y){var M=document.createElement("canvas");return M.width=g,M.height=y,M.oncontextmenu=function(){return!1},M.onselectstart=function(){return!1},M},v=function(g){var y=g.getContext("2d"),M=window.devicePixelRatio||1,x=y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1;return M/x},w=function(g,y){var M=g.textures[y];return M||(M=g.textures[y]=new Image,M.src=y,M)},C=function(g,y){var M=y;/(jpg|gif|png)$/.test(y)&&(M="url("+y+")"),g.canvas.style.background=M,g.canvas.style.backgroundSize="contain",g.currentBackground=y}})()},function(p,S,c){var e={};p.exports=e;var n=c(5),s=c(17),i=c(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(a){var d={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=i.extend(d,a);return l.fps=0,l},e.run=function(a,d){return a.timeBuffer=e._frameDeltaFallback,function l(t){a.frameRequestId=e._onNextFrame(a,l),t&&a.enabled&&e.tick(a,d,t)}(),a},e.tick=function(a,d,l){var t=i.now(),r=a.delta,o=0,f=l-a.timeLastTick;if((!f||!a.timeLastTick||f>Math.max(e._maxFrameDelta,a.maxFrameTime))&&(f=a.frameDelta||e._frameDeltaFallback),a.frameDeltaSmoothing){a.frameDeltaHistory.push(f),a.frameDeltaHistory=a.frameDeltaHistory.slice(-a.frameDeltaHistorySize);var m=a.frameDeltaHistory.slice(0).sort(),v=a.frameDeltaHistory.slice(m.length*e._smoothingLowerBound,m.length*e._smoothingUpperBound),w=u(v);f=w||f}a.frameDeltaSnapping&&(f=1e3/Math.round(1e3/f)),a.frameDelta=f,a.timeLastTick=l,a.timeBuffer+=a.frameDelta,a.timeBuffer=i.clamp(a.timeBuffer,0,a.frameDelta+r*e._timeBufferMargin),a.lastUpdatesDeferred=0;var C=a.maxUpdates||Math.ceil(a.maxFrameTime/r),g={timestamp:d.timing.timestamp};n.trigger(a,"beforeTick",g),n.trigger(a,"tick",g);for(var y=i.now();r>0&&a.timeBuffer>=r*e._timeBufferMargin;){n.trigger(a,"beforeUpdate",g),s.update(d,r),n.trigger(a,"afterUpdate",g),a.timeBuffer-=r,o+=1;var M=i.now()-t,x=i.now()-y,P=M+e._elapsedNextEstimate*x/o;if(o>=C||P>a.maxFrameTime){a.lastUpdatesDeferred=Math.round(Math.max(0,a.timeBuffer/r-e._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=o,n.trigger(a,"afterTick",g),a.frameDeltaHistory.length>=100&&(a.lastUpdatesDeferred&&Math.round(a.frameDelta/r)>C?i.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):a.lastUpdatesDeferred&&i.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof a.isFixed<"u"&&i.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(a.deltaMin||a.deltaMax)&&i.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),a.fps!==0&&i.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(a){e._cancelNextFrame(a)},e._onNextFrame=function(a,d){if(typeof window<"u"&&window.requestAnimationFrame)a.frameRequestId=window.requestAnimationFrame(d);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return a.frameRequestId},e._cancelNextFrame=function(a){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(a.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=function(a){for(var d=0,l=a.length,t=0;t<l;t+=1)d+=a[t];return d/l||0}})()},function(p,S,c){var e={};p.exports=e;var n=c(8),s=c(0),i=s.deprecated;(function(){e.collides=function(u,a){return n.collides(u,a)},i(e,"collides","SAT.collides  replaced by Collision.collides")})()},function(p,S,c){var e={};p.exports=e,c(1);var n=c(0);(function(){e.pathToVertices=function(s,i){typeof window<"u"&&!("SVGPathSeg"in window)&&n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,a,d,l,t,r,o,f,m,v,w=[],C,g,y=0,M=0,x=0;i=i||15;var P=function(O,T,L){var I=L%2===1&&L>1;if(!m||O!=m.x||T!=m.y){m&&I?(C=m.x,g=m.y):(C=0,g=0);var E={x:C+O,y:g+T};(I||!m)&&(m=E),w.push(E),M=C+O,x=g+T}},D=function(O){var T=O.pathSegTypeAsLetter.toUpperCase();if(T!=="Z"){switch(T){case"M":case"L":case"T":case"C":case"S":case"Q":M=O.x,x=O.y;break;case"H":M=O.x;break;case"V":x=O.y;break}P(M,x,O.pathSegType)}};for(e._svgPathToAbsolute(s),d=s.getTotalLength(),r=[],u=0;u<s.pathSegList.numberOfItems;u+=1)r.push(s.pathSegList.getItem(u));for(o=r.concat();y<d;){if(v=s.getPathSegAtLength(y),t=r[v],t!=f){for(;o.length&&o[0]!=t;)D(o.shift());f=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=s.getPointAtLength(y),P(l.x,l.y,0);break}y+=i}for(u=0,a=o.length;u<a;++u)D(o[u]);return w},e._svgPathToAbsolute=function(s){for(var i,u,a,d,l,t,r=s.pathSegList,o=0,f=0,m=r.numberOfItems,v=0;v<m;++v){var w=r.getItem(v),C=w.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in w&&(o=w.x),"y"in w&&(f=w.y);else switch("x1"in w&&(a=o+w.x1),"x2"in w&&(l=o+w.x2),"y1"in w&&(d=f+w.y1),"y2"in w&&(t=f+w.y2),"x"in w&&(o+=w.x),"y"in w&&(f+=w.y),C){case"m":r.replaceItem(s.createSVGPathSegMovetoAbs(o,f),v);break;case"l":r.replaceItem(s.createSVGPathSegLinetoAbs(o,f),v);break;case"h":r.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(o),v);break;case"v":r.replaceItem(s.createSVGPathSegLinetoVerticalAbs(f),v);break;case"c":r.replaceItem(s.createSVGPathSegCurvetoCubicAbs(o,f,a,d,l,t),v);break;case"s":r.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(o,f,l,t),v);break;case"q":r.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(o,f,a,d),v);break;case"t":r.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(o,f),v);break;case"a":r.replaceItem(s.createSVGPathSegArcAbs(o,f,w.r1,w.r2,w.angle,w.largeArcFlag,w.sweepFlag),v);break;case"z":case"Z":o=i,f=u;break}(C=="M"||C=="m")&&(i=o,u=f)}}})()},function(p,S,c){var e={};p.exports=e;var n=c(6);c(0),function(){e.create=n.create,e.add=n.add,e.remove=n.remove,e.clear=n.clear,e.addComposite=n.addComposite,e.addBody=n.addBody,e.addConstraint=n.addConstraint}()}])})})(li);const ge=tn(Se);class ci{constructor(h){F(this,"widthCanvas",document.body.clientWidth>2560?1920:document.body.clientWidth);F(this,"maxBall");F(this,"heightCanvas");F(this,"DOM");F(this,"dataImgs",[]);F(this,"MatterJS");F(this,"sizeCustom");this.DOM={el:h},this.MatterJS={Engine:void 0,Render:void 0},this.maxBall=25,this.sizeCustom={mobile:{radius:_(5),scaleRatio:_(5)/267,scaleCircleMain:171/50,xLeftWall:0-_(9),xRightWall:window.innerWidth+_(9),yMainCircle:_(72.2)+_(17)},tablet:{radius:_(5),scaleRatio:_(5)/267,scaleCircleMain:190/50,xLeftWall:0-_(9),xRightWall:window.innerWidth+_(9),yMainCircle:_(72.2)+_(19)},desktop:{radius:_(13.3),scaleRatio:_(13.3)/267,scaleCircleMain:293/133,xLeftWall:0,xRightWall:window.innerWidth>2560?1920:window.innerWidth,yMainCircle:_(51.2)+_(29.3)}},this.heightCanvas=this.DOM.el.clientHeight,nn(Array.from(h==null?void 0:h.querySelectorAll(".home-bubble-item"))).forEach((p,S)=>{var e;const c=(e=p.querySelector("img"))==null?void 0:e.getAttribute("src");c&&S<this.maxBall&&this.dataImgs.push(c),p.style.pointerEvents="none",p.style.opacity="0"})}render(){var c,e,n,s;this.init();const h=ge.Runner.create(),p=(e=(c=this.MatterJS).Engine)==null?void 0:e.call(c),S=(s=(n=this.MatterJS).Render)==null?void 0:s.call(n);we.create({trigger:this.DOM.el,start:"top center",end:"bottom center",onEnter:()=>{!p||!S||(ge.Render.run(S),ge.Runner.run(h,p))}})}init(){const h=this.sizeCustom[Te].radius,p=this.sizeCustom[Te].scaleRatio,S=this.sizeCustom[Te].scaleCircleMain,c=this.sizeCustom[Te].xLeftWall,e=this.sizeCustom[Te].xRightWall,n=this.sizeCustom[Te].yMainCircle,s=ge.Engine.create(),i=ge.Render.create({element:this.DOM.el,engine:s,options:{width:this.widthCanvas,height:this.heightCanvas,background:"transparent",wireframes:!1,showAngleIndicator:!1}}),u=Math.floor(this.widthCanvas/(h*2)),d=(this.widthCanvas-u*h*2)/(u-1);let l=0;for(let w=0;w<Math.round(this.dataImgs.length/u)&&this.dataImgs[l];w++){for(let C=0;C<u&&this.dataImgs[l];C++){const g=C*h*2+d*C,y=-w*h*2-h*2-d*w,M=Se.Bodies.circle(g,y,h,{friction:.001,frictionAir:.01,restitution:.8,timeScale:1.05,render:{fillStyle:"#f3f3f3",visible:!0,sprite:{texture:this.dataImgs[l],xScale:p,yScale:p}}});if(l++,ge.Composite.add(s.world,M),l>=this.dataImgs.length)break}if(l>=this.dataImgs.length)break}const t=Se.Bodies.circle(this.widthCanvas/2,n,h*S,{render:{fillStyle:"transparent"},isStatic:!0}),r=Se.Bodies.rectangle(this.widthCanvas/2,this.DOM.el.clientHeight,this.widthCanvas*10,1,{isStatic:!0,render:{fillStyle:"transparent"}}),o=Se.Bodies.rectangle(c,this.DOM.el.clientHeight/2,1,this.DOM.el.clientHeight*5,{isStatic:!0,render:{fillStyle:"transparent"}}),f=Se.Bodies.rectangle(e,this.DOM.el.clientHeight/2,1,this.DOM.el.clientHeight*5,{isStatic:!0,render:{fillStyle:"transparent"}});ge.Composite.add(s.world,[r,o,f,t]);const m=ge.Mouse.create(i.canvas),v=ge.MouseConstraint.create(s,{mouse:m,constraint:{stiffness:.2,render:{visible:!1}}});ge.Composite.add(s.world,v),v.mouse.element.removeEventListener("touchstart",v.mouse.mousedown),v.mouse.element.removeEventListener("touchmove",v.mouse.mousemove),v.mouse.element.removeEventListener("touchend",v.mouse.mouseup),v.mouse.element.addEventListener("touchstart",v.mouse.mousedown,{passive:!0}),v.mouse.element.addEventListener("touchmove",w=>{v.body&&v.mouse.mousemove(w)}),v.mouse.element.addEventListener("touchend",w=>{v.body&&v.mouse.mouseup(w)}),this.MatterJS.Render=()=>i,this.MatterJS.Engine=()=>s}}class ui{constructor(h){F(this,"DOM");this.DOM={el:h},H.emit(ce),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this))}initParticles(){const h=this.DOM.el.querySelectorAll(".home-hero-brands-wrap"),p=this.DOM.el.querySelector(".home-bubble"),S=this.DOM.el.querySelector(".home-book-img-inner");h.length&&h.forEach(c=>{new be({wrap:c,listSplide:c.querySelectorAll(".home-hero-brands")})}),new ai(this.DOM.el),p&&new ci(p).render(),S&&new nt({el:S,offset:30,direction:-1}),this.heroVideoAction(),this.handleParallaxTitle(),this.initMotion()}clear(){this.initParticles()}initMotion(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}heroVideoAction(){const h=this.DOM.el.querySelector(".home-hero-img-btn"),p=this.DOM.el.querySelector(".home-hero-poup-video"),S=this.DOM.el.querySelector(".home-hero--poup-ic"),c=this.DOM.el.querySelector(".home-hero-poup-video-content");h.addEventListener("click",()=>{p.classList.add("is-show")}),S.addEventListener("click",()=>e()),tt({element:c,action:()=>e()});const e=()=>{p.classList.remove("is-show")}}handleParallaxTitle(){const h=this.DOM.el.querySelector(".home-feature-top-inner"),p=this.DOM.el.querySelector(".home-bubble");if(!h||!p)return;const S=q.fromTo(h,{y:h.clientHeight/2},{y:`-${window.innerHeight/2-h.clientHeight/2}px`,ease:"none",duration:3});we.create({trigger:p,start:()=>"bottom bottom",end:"bottom top",animation:S,scrub:!0})}}class fi{constructor(h){F(this,"DOM");F(this,"pricing");F(this,"pricingBase");F(this,"pricingAgent");F(this,"planCurrent");F(this,"planOptions",{month:{planUser:35,basePrice:75,valSaleUp:0,type:"month"},year:{planUser:35,basePrice:75,valSaleUp:10,type:"year"}});this.DOM={el:h};const p=document.getElementById("plane-options"),S=p==null?void 0:p.textContent;try{this.planOptions=JSON.parse(S||"{}")}catch(c){console.error("Error parsing plane-options data:",c)}this.planCurrent=this.planOptions.month,H.emit(ce),this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this)),sn(this.clear.bind(this))}initParticles(){const h=this.DOM.el.querySelector(".home-book-img-inner");h&&new nt({el:h,offset:30,direction:-1});const p=this.DOM.el.querySelectorAll(".pricing-testimonials-brands");p.length&&p.forEach(S=>{new be({wrap:S,listSplide:this.DOM.el.querySelectorAll(".pricing-testimonials-brands")})}),new be({wrap:this.DOM.el.querySelector(".book-brands-wrap"),listSplide:this.DOM.el.querySelectorAll(".home-hero-brands")}),this.initMotions(),this.handleLoadMorePrice(),this.handleRoateIconSale()}initMotions(){b.parrallaxImage(this.DOM.el),b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.fadeWrap(this.DOM.el)}handleRoateIconSale(){const h=this.DOM.el.querySelector(".pricing-hero-tab-tag"),p=()=>{q.killTweensOf(h),q.to(h,{keyframes:{rotation:[16,-12,8,-4,2,0]},ease:"bounce.out",duration:1.6})};return rn({el:h,animIn:p}),p}handleLoadMorePrice(){if(!this.DOM.el)return;const h=this.DOM.el.querySelectorAll("#tablePricing .pricing_table_row"),p=this.DOM.el.querySelector("#loadMoreTable"),S=this.DOM.el.querySelector(".pricing-table-note");let c=10;p.addEventListener("click",function(){const e=c+21;for(let n=c;n<e&&n<h.length;n++)if(n>10){const s=h[n],i=wt(n,c,e,0,1);s.style.animationDelay=`${i}s`,s.classList.add("show_row")}S.style.pointerEvents="auto",S.style.opacity="1",c=e,c>=h.length&&(this.style.display="none"),we.refresh()})}clear(){}}class di{constructor(h){F(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),H.on(ee,this.initParticles),te(this.clear.bind(this)),this.handleTotalArticle(),this.handleNavigateArticle(),this.handleSearchQuery()}initParticles(){b.maskText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}handleTotalArticle(){const h=this.DOM.el.querySelectorAll(".sc-result-card-wrap");h.length&&on(()=>{for(let p=0;p<h.length;p++){const S=h[p].querySelectorAll(".w-dyn-item"),c=h[p].querySelector(".sc-result-card-content-total");if(!c)return;const e=S.length;e?c.innerHTML=`${e}`:c.innerHTML="0"}},1200)()}handleNavigateArticle(){var S;const h=this.DOM.el.querySelectorAll(".sc-articles-list-item-txt"),p=(S=this.DOM.el.querySelector(".sc-inner-right-heading"))==null?void 0:S.textContent;p&&h.forEach(c=>{c.addEventListener("click",()=>{localStorage.setItem("sc-category",p)})})}handleSearchQuery(){const h=this.DOM.el.querySelector(".sc-hero-wrapper-form-input"),p=this.DOM.el.querySelector(".sc-inner-left-search-go");h&&(h.addEventListener("input",S=>{var e;const c=(e=S.currentTarget)==null?void 0:e.value.trim();c!==""?p==null||p.classList.add("active"):p==null||p.classList.remove("active"),S.key==="Enter"&&c!==""&&(window.location.href=`/search?query=${c}`)}),h.addEventListener("keydown",S=>{var e;const c=(e=S.currentTarget)==null?void 0:e.value.trim();c!==""?p==null||p.classList.add("active"):p==null||p.classList.remove("active"),S.key==="Enter"&&c!==""&&(window.location.href=`/search?query=${c}`)}),p==null||p.addEventListener("click",()=>{const S=h.value.trim();S!==""&&(window.location.href=`/search?query=${S}`)}))}}q.registerPlugin(we);class hi{constructor(){new URL(location.href).searchParams.get("dev")||(Je.init(),this.init(),this.bindEvents(),b.init(),new ti,new ei,new _n)}init(){const h=document.querySelector("div[data-page]");if(!h)return;const p=h.getAttribute("data-page")||"home",S={home:()=>{new ui(h)},about:()=>{new si(h)},pricing:()=>{new fi(h)},resources:()=>{new Jn(h)},"resource-detail":()=>{new Yn(h)},solution:()=>{new jn(h)},event:()=>{new pn(h)},partner:()=>{new gn(h)},contact:()=>{new hn(h)},"product-update":()=>{new mn(h)},"support-center":()=>{new di(h)},changelog:()=>{new oi(h)},"blog-detail":()=>{new un(h)},"request-trial":()=>{new vn(h)},"sign-up":()=>{new Zn(h)},"article-detail":()=>{new ri(h)},"case-studies-detail":()=>{new dn(h)},"case-studies":()=>{new fn(h)},blog:()=>{new cn(h)}};S[p]&&S[p]()}bindEvents(){H.on(an,this.init.bind(this)),Mt.simple(),Mt.simpleLoaded()}}new hi;
