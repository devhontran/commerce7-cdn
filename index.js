var zt=Object.defineProperty;var Gt=(A,h,p)=>h in A?zt(A,h,{enumerable:!0,configurable:!0,writable:!0,value:p}):A[h]=p;var H=(A,h,p)=>(Gt(A,typeof h!="symbol"?h+"":h,p),p);import{b as z,P as ne,u as se,d as b,e as $t,M as Ie,h as tt,f as Ye,g as F,i as nt,r as Xt,_ as ht,j as Qt,s as pt,S as Me,L as Kt,k as Yt,A as Jt,l as Zt,D as jt,m as _t,n as en,o as gt,R as mt,U as vt,a as _,p as Je,q as Ze,F as tn,T as nn,c as Qe,t as rn,v as sn,w as Ce,x as on,y as an,z as xt,B as Ke,C as ln,E as cn}from"./global.js";/*!
 * ScrollToPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ae,Ot,ve,ge,Se,Ct,Tt,Ue,At=function(){return typeof window<"u"},Lt=function(){return ae||At()&&(ae=window.gsap)&&ae.registerPlugin&&ae},Et=function(h){return typeof h=="string"},yt=function(h){return typeof h=="function"},be=function(h,p){var v=p==="x"?"Width":"Height",l="scroll"+v,e="client"+v;return h===ve||h===ge||h===Se?Math.max(ge[l],Se[l])-(ve["inner"+v]||ge[e]||Se[e]):h[l]-h["offset"+v]},ke=function(h,p){var v="scroll"+(p==="x"?"Left":"Top");return h===ve&&(h.pageXOffset!=null?v="page"+p.toUpperCase()+"Offset":h=ge[v]!=null?ge:Se),function(){return h[v]}},un=function(h,p,v,l){if(yt(h)&&(h=h(p,v,l)),typeof h!="object")return Et(h)&&h!=="max"&&h.charAt(1)!=="="?{x:h,y:h}:{y:h};if(h.nodeType)return{y:h,x:h};var e={},n;for(n in h)e[n]=n!=="onAutoKill"&&yt(h[n])?h[n](p,v,l):h[n];return e},It=function(h,p){if(h=Ct(h)[0],!h||!h.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var v=h.getBoundingClientRect(),l=!p||p===ve||p===Se,e=l?{top:ge.clientTop-(ve.pageYOffset||ge.scrollTop||Se.scrollTop||0),left:ge.clientLeft-(ve.pageXOffset||ge.scrollLeft||Se.scrollLeft||0)}:p.getBoundingClientRect(),n={x:v.left-e.left,y:v.top-e.top};return!l&&p&&(n.x+=ke(p,"x")(),n.y+=ke(p,"y")()),n},St=function(h,p,v,l,e){return!isNaN(h)&&typeof h!="object"?parseFloat(h)-e:Et(h)&&h.charAt(1)==="="?parseFloat(h.substr(2))*(h.charAt(0)==="-"?-1:1)+l-e:h==="max"?be(p,v)-e:Math.min(be(p,v),It(h,p)[v]-e)},Mt=function(){ae=Lt(),At()&&ae&&typeof document<"u"&&document.body&&(ve=window,Se=document.body,ge=document.documentElement,Ct=ae.utils.toArray,ae.config({autoKillThreshold:7}),Tt=ae.config(),Ot=1)},Ve={version:"3.12.5",name:"scrollTo",rawVars:1,register:function(h){ae=h,Mt()},init:function(h,p,v,l,e){Ot||Mt();var n=this,s=ae.getProperty(h,"scrollSnapType");n.isWin=h===ve,n.target=h,n.tween=v,p=un(p,l,h,e),n.vars=p,n.autoKill=!!p.autoKill,n.getX=ke(h,"x"),n.getY=ke(h,"y"),n.x=n.xPrev=n.getX(),n.y=n.yPrev=n.getY(),Ue||(Ue=ae.core.globals().ScrollTrigger),ae.getProperty(h,"scrollBehavior")==="smooth"&&ae.set(h,{scrollBehavior:"auto"}),s&&s!=="none"&&(n.snap=1,n.snapInline=h.style.scrollSnapType,h.style.scrollSnapType="none"),p.x!=null?(n.add(n,"x",n.x,St(p.x,h,"x",n.x,p.offsetX||0),l,e),n._props.push("scrollTo_x")):n.skipX=1,p.y!=null?(n.add(n,"y",n.y,St(p.y,h,"y",n.y,p.offsetY||0),l,e),n._props.push("scrollTo_y")):n.skipY=1},render:function(h,p){for(var v=p._pt,l=p.target,e=p.tween,n=p.autoKill,s=p.xPrev,i=p.yPrev,u=p.isWin,r=p.snap,f=p.snapInline,c,t,o,a,d;v;)v.r(h,v.d),v=v._next;c=u||!p.skipX?p.getX():s,t=u||!p.skipY?p.getY():i,o=t-i,a=c-s,d=Tt.autoKillThreshold,p.x<0&&(p.x=0),p.y<0&&(p.y=0),n&&(!p.skipX&&(a>d||a<-d)&&c<be(l,"x")&&(p.skipX=1),!p.skipY&&(o>d||o<-d)&&t<be(l,"y")&&(p.skipY=1),p.skipX&&p.skipY&&(e.kill(),p.vars.onAutoKill&&p.vars.onAutoKill.apply(e,p.vars.onAutoKillParams||[]))),u?ve.scrollTo(p.skipX?c:p.x,p.skipY?t:p.y):(p.skipY||(l.scrollTop=p.y),p.skipX||(l.scrollLeft=p.x)),r&&(h===1||h===0)&&(t=l.scrollTop,c=l.scrollLeft,f?l.style.scrollSnapType=f:l.style.removeProperty("scroll-snap-type"),l.scrollTop=t+1,l.scrollLeft=c+1,l.scrollTop=t,l.scrollLeft=c),p.xPrev=p.x,p.yPrev=p.y,Ue&&Ue.update()},kill:function(h){var p=h==="scrollTo",v=this._props.indexOf(h);return(p||h==="scrollTo_x")&&(this.skipX=1),(p||h==="scrollTo_y")&&(this.skipY=1),v>-1&&this._props.splice(v,1),!this._props.length}};Ve.max=be;Ve.getOffset=It;Ve.buildGetter=ke;Lt()&&ae.registerPlugin(Ve);const je=(A,h,p,v,l)=>parseFloat(((A-h)*(l-v)/(p-h)+v).toFixed(3)),Ne=A=>{const h=parseFloat(getComputedStyle(document.documentElement).fontSize);return A/h};class fn{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}class dn{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this)),this.randomQuotes()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el)}randomQuotes(){const h=this.DOM.el.querySelector(".blog-quote-list");if(!h)return;const p=h.querySelectorAll(".blog-quote-item");if(!p)return;p.forEach(l=>{l.style.display="none"});const v=$t(0,p.length);p[v].style.display="block"}clear(){this.initParticles()}}class hn{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el)}clear(){this.initParticles()}}class pn{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el)}clear(){this.initParticles()}}class gn{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this)),this.handleExitedCaseStudiesDetails()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el)}clear(){this.initParticles()}handleExitedCaseStudiesDetails(){}}class mn{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}class vn{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this)),this.handleChangeBackgroundAccor(),this.heroVideoAction()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el),this.initMotion()}initMotion(){const h=this.DOM.el.querySelectorAll(".home-hero-brands-wrap");h.length&&h.forEach(p=>{new Ie({wrap:p,listSplide:p.querySelectorAll(".home-hero-brands")})})}clear(){this.initParticles()}heroVideoAction(){const h=this.DOM.el.querySelector(".product-tool-img-btn"),p=this.DOM.el.querySelector(".home-hero-poup-video"),v=this.DOM.el.querySelector(".home-hero--poup-ic"),l=this.DOM.el.querySelector(".home-hero-poup-video-content");if(!h||!p||!v||!l)return;h.addEventListener("click",()=>{p.classList.add("is-show")}),v.addEventListener("click",()=>e()),tt({element:l,action:()=>e()});const e=()=>{p.classList.remove("is-show")}}handleChangeBackgroundAccor(){const h=this.DOM.el.querySelector(".products-accordion-inner");h&&h.addEventListener("click",()=>{h.querySelectorAll(".products-accordion-item").forEach(v=>{if(v.classList.contains("products-accor-item-active")){const e=v.getAttribute("bg-color");if(!e)return;h.style.backgroundColor=e}})})}}class xn{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}function it(A){return typeof A=="number"}function _e(A){return typeof A=="string"}function ze(A){return typeof A=="boolean"}function wt(A){return Object.prototype.toString.call(A)==="[object Object]"}function J(A){return Math.abs(A)}function rt(A){return Math.sign(A)}function Ee(A,h){return J(A-h)}function yn(A,h){if(A===0||h===0||J(A)<=J(h))return 0;const p=Ee(J(A),J(h));return J(p/A)}function Sn(A){return Math.round(A*100)/100}function Be(A){return Re(A).map(Number)}function de(A){return A[He(A)]}function He(A){return Math.max(0,A.length-1)}function st(A,h){return h===He(A)}function Dt(A,h=0){return Array.from(Array(A),(p,v)=>h+v)}function Re(A){return Object.keys(A)}function bt(A,h){return[A,h].reduce((p,v)=>(Re(v).forEach(l=>{const e=p[l],n=v[l],s=wt(e)&&wt(n);p[l]=s?bt(e,n):n}),p),{})}function et(A,h){return typeof h.MouseEvent<"u"&&A instanceof h.MouseEvent}function Mn(A,h){const p={start:v,center:l,end:e};function v(){return 0}function l(i){return e(i)/2}function e(i){return h-i}function n(i,u){return _e(A)?p[A](i):A(h,i,u)}return{measure:n}}function Fe(){let A=[];function h(l,e,n,s={passive:!0}){let i;if("addEventListener"in l)l.addEventListener(e,n,s),i=()=>l.removeEventListener(e,n,s);else{const u=l;u.addListener(n),i=()=>u.removeListener(n)}return A.push(i),v}function p(){A=A.filter(l=>l())}const v={add:h,clear:p};return v}function wn(A,h,p,v){const l=Fe(),e=1e3/60;let n=null,s=0,i=0;function u(){l.add(A,"visibilitychange",()=>{A.hidden&&o()})}function r(){t(),l.clear()}function f(d){if(!i)return;n||(n=d,p(),p());const m=d-n;for(n=d,s+=m;s>=e;)p(),s-=e;const x=s/e;v(x),i&&(i=h.requestAnimationFrame(f))}function c(){i||(i=h.requestAnimationFrame(f))}function t(){h.cancelAnimationFrame(i),n=null,s=0,i=0}function o(){n=null,s=0}return{init:u,destroy:r,start:c,stop:t,update:p,render:v}}function Dn(A,h){const p=h==="rtl",v=A==="y",l=v?"y":"x",e=v?"x":"y",n=!v&&p?-1:1,s=r(),i=f();function u(o){const{height:a,width:d}=o;return v?a:d}function r(){return v?"top":p?"right":"left"}function f(){return v?"bottom":p?"left":"right"}function c(o){return o*n}return{scroll:l,cross:e,startEdge:s,endEdge:i,measureSize:u,direction:c}}function we(A=0,h=0){const p=J(A-h);function v(u){return u<A}function l(u){return u>h}function e(u){return v(u)||l(u)}function n(u){return e(u)?v(u)?A:h:u}function s(u){return p?u-p*Math.ceil((u-h)/p):u}return{length:p,max:h,min:A,constrain:n,reachedAny:e,reachedMax:l,reachedMin:v,removeOffset:s}}function kt(A,h,p){const{constrain:v}=we(0,A),l=A+1;let e=n(h);function n(c){return p?J((l+c)%l):v(c)}function s(){return e}function i(c){return e=n(c),f}function u(c){return r().set(s()+c)}function r(){return kt(A,s(),p)}const f={get:s,set:i,add:u,clone:r};return f}function Pn(A,h,p,v,l,e,n,s,i,u,r,f,c,t,o,a,d,m,x){const{cross:w,direction:C}=A,g=["INPUT","SELECT","TEXTAREA"],S={passive:!1},M=Fe(),y=Fe(),P=we(50,225).constrain(t.measure(20)),D={mouse:300,touch:400},O={mouse:500,touch:600},T=o?43:25;let L=!1,I=0,E=0,R=!1,k=!1,V=!1,q=!1;function X(B){if(!x)return;function $(re){(ze(x)||x(B,re))&&W(re)}const j=h;M.add(j,"dragstart",re=>re.preventDefault(),S).add(j,"touchmove",()=>{},S).add(j,"touchend",()=>{}).add(j,"touchstart",$).add(j,"mousedown",$).add(j,"touchcancel",N).add(j,"contextmenu",N).add(j,"click",oe,!0)}function G(){M.clear(),y.clear()}function K(){const B=q?p:h;y.add(B,"touchmove",Q,S).add(B,"touchend",N).add(B,"mousemove",Q,S).add(B,"mouseup",N)}function Z(B){const $=B.nodeName||"";return g.includes($)}function ee(){return(o?O:D)[q?"mouse":"touch"]}function ie(B,$){const j=f.add(rt(B)*-1),re=r.byDistance(B,!o).distance;return o||J(B)<P?re:d&&$?re*.5:r.byIndex(j.get(),0).distance}function W(B){const $=et(B,v);q=$,V=o&&$&&!B.buttons&&L,L=Ee(l.get(),n.get())>=2,!($&&B.button!==0)&&(Z(B.target)||(R=!0,e.pointerDown(B),u.useFriction(0).useDuration(0),l.set(n),K(),I=e.readPoint(B),E=e.readPoint(B,w),c.emit("pointerDown")))}function Q(B){if(!et(B,v)&&B.touches.length>=2)return N(B);const j=e.readPoint(B),re=e.readPoint(B,w),le=Ee(j,I),ce=Ee(re,E);if(!k&&!q&&(!B.cancelable||(k=le>ce,!k)))return N(B);const ue=e.pointerMove(B);le>a&&(V=!0),u.useFriction(.3).useDuration(.75),s.start(),l.add(C(ue)),B.preventDefault()}function N(B){const j=r.byDistance(0,!1).index!==f.get(),re=e.pointerUp(B)*ee(),le=ie(C(re),j),ce=yn(re,le),ue=T-10*ce,te=m+ce/50;k=!1,R=!1,y.clear(),u.useDuration(ue).useFriction(te),i.distance(le,!o),q=!1,c.emit("pointerUp")}function oe(B){V&&(B.stopPropagation(),B.preventDefault(),V=!1)}function Y(){return R}return{init:X,destroy:G,pointerDown:Y}}function On(A,h){let v,l;function e(f){return f.timeStamp}function n(f,c){const o=`client${(c||A.scroll)==="x"?"X":"Y"}`;return(et(f,h)?f:f.touches[0])[o]}function s(f){return v=f,l=f,n(f)}function i(f){const c=n(f)-n(l),t=e(f)-e(v)>170;return l=f,t&&(v=f),c}function u(f){if(!v||!l)return 0;const c=n(l)-n(v),t=e(f)-e(v),o=e(f)-e(l)>170,a=c/t;return t&&!o&&J(a)>.1?a:0}return{pointerDown:s,pointerMove:i,pointerUp:u,readPoint:n}}function Cn(){function A(p){const{offsetTop:v,offsetLeft:l,offsetWidth:e,offsetHeight:n}=p;return{top:v,right:l+e,bottom:v+n,left:l,width:e,height:n}}return{measure:A}}function Tn(A){function h(v){return A*(v/100)}return{measure:h}}function An(A,h,p,v,l,e,n){const s=[A].concat(v);let i,u,r=[],f=!1;function c(d){return l.measureSize(n.measure(d))}function t(d){if(!e)return;u=c(A),r=v.map(c);function m(x){for(const w of x){if(f)return;const C=w.target===A,g=v.indexOf(w.target),S=C?u:r[g],M=c(C?A:v[g]);if(J(M-S)>=.5){d.reInit(),h.emit("resize");break}}}i=new ResizeObserver(x=>{(ze(e)||e(d,x))&&m(x)}),p.requestAnimationFrame(()=>{s.forEach(x=>i.observe(x))})}function o(){f=!0,i&&i.disconnect()}return{init:t,destroy:o}}function Ln(A,h,p,v,l,e){let n=0,s=0,i=l,u=e,r=A.get(),f=0;function c(){const S=v.get()-A.get(),M=!i;let y=0;return M?(n=0,p.set(v),A.set(v),y=S):(p.set(A),n+=S/i,n*=u,r+=n,A.add(n),y=r-f),s=rt(y),f=r,g}function t(){const S=v.get()-h.get();return J(S)<.001}function o(){return i}function a(){return s}function d(){return n}function m(){return w(l)}function x(){return C(e)}function w(S){return i=S,g}function C(S){return u=S,g}const g={direction:a,duration:o,velocity:d,seek:c,settled:t,useBaseFriction:x,useBaseDuration:m,useFriction:C,useDuration:w};return g}function En(A,h,p,v,l){const e=l.measure(10),n=l.measure(50),s=we(.1,.99);let i=!1;function u(){return!(i||!A.reachedAny(p.get())||!A.reachedAny(h.get()))}function r(t){if(!u())return;const o=A.reachedMin(h.get())?"min":"max",a=J(A[o]-h.get()),d=p.get()-h.get(),m=s.constrain(a/n);p.subtract(d*m),!t&&J(d)<e&&(p.set(A.constrain(p.get())),v.useDuration(25).useBaseFriction())}function f(t){i=!t}return{shouldConstrain:u,constrain:r,toggleActive:f}}function In(A,h,p,v,l){const e=we(-h+A,0),n=f(),s=r(),i=c();function u(o,a){return Ee(o,a)<=1}function r(){const o=n[0],a=de(n),d=n.lastIndexOf(o),m=n.indexOf(a)+1;return we(d,m)}function f(){return p.map((o,a)=>{const{min:d,max:m}=e,x=e.constrain(o),w=!a,C=st(p,a);return w?m:C||u(d,x)?d:u(m,x)?m:x}).map(o=>parseFloat(o.toFixed(3)))}function c(){if(h<=A+l)return[e.max];if(v==="keepSnaps")return n;const{min:o,max:a}=s;return n.slice(o,a)}return{snapsContained:i,scrollContainLimit:s}}function bn(A,h,p){const v=h[0],l=p?v-A:de(h);return{limit:we(l,v)}}function kn(A,h,p,v){const e=h.min+.1,n=h.max+.1,{reachedMin:s,reachedMax:i}=we(e,n);function u(c){return c===1?i(p.get()):c===-1?s(p.get()):!1}function r(c){if(!u(c))return;const t=A*(c*-1);v.forEach(o=>o.add(t))}return{loop:r}}function Bn(A){const{max:h,length:p}=A;function v(e){const n=e-h;return p?n/-p:0}return{get:v}}function Rn(A,h,p,v,l){const{startEdge:e,endEdge:n}=A,{groupSlides:s}=l,i=f().map(h.measure),u=c(),r=t();function f(){return s(v).map(a=>de(a)[n]-a[0][e]).map(J)}function c(){return v.map(a=>p[e]-a[e]).map(a=>-J(a))}function t(){return s(u).map(a=>a[0]).map((a,d)=>a+i[d])}return{snaps:u,snapsAligned:r}}function Fn(A,h,p,v,l,e){const{groupSlides:n}=l,{min:s,max:i}=v,u=r();function r(){const c=n(e),t=!A||h==="keepSnaps";return p.length===1?[e]:t?c:c.slice(s,i).map((o,a,d)=>{const m=!a,x=st(d,a);if(m){const w=de(d[0])+1;return Dt(w)}if(x){const w=He(e)-de(d)[0]+1;return Dt(w,de(d)[0])}return o})}return{slideRegistry:u}}function Vn(A,h,p,v,l){const{reachedAny:e,removeOffset:n,constrain:s}=v;function i(o){return o.concat().sort((a,d)=>J(a)-J(d))[0]}function u(o){const a=A?n(o):s(o),d=h.map((x,w)=>({diff:r(x-a,0),index:w})).sort((x,w)=>J(x.diff)-J(w.diff)),{index:m}=d[0];return{index:m,distance:a}}function r(o,a){const d=[o,o+p,o-p];if(!A)return o;if(!a)return i(d);const m=d.filter(x=>rt(x)===a);return m.length?i(m):de(d)-p}function f(o,a){const d=h[o]-l.get(),m=r(d,a);return{index:o,distance:m}}function c(o,a){const d=l.get()+o,{index:m,distance:x}=u(d),w=!A&&e(d);if(!a||w)return{index:m,distance:o};const C=h[m]-x,g=o+r(C,0);return{index:m,distance:g}}return{byDistance:c,byIndex:f,shortcut:r}}function Hn(A,h,p,v,l,e,n){function s(f){const c=f.distance,t=f.index!==h.get();e.add(c),c&&(v.duration()?A.start():(A.update(),A.render(1),A.update())),t&&(p.set(h.get()),h.set(f.index),n.emit("select"))}function i(f,c){const t=l.byDistance(f,c);s(t)}function u(f,c){const t=h.clone().set(f),o=l.byIndex(t.get(),c);s(o)}return{distance:i,index:u}}function qn(A,h,p,v,l,e,n,s){const i={passive:!0,capture:!0};let u=0;function r(t){if(!s)return;function o(a){if(new Date().getTime()-u>10)return;n.emit("slideFocusStart"),A.scrollLeft=0;const x=p.findIndex(w=>w.includes(a));it(x)&&(l.useDuration(0),v.index(x,0),n.emit("slideFocus"))}e.add(document,"keydown",f,!1),h.forEach((a,d)=>{e.add(a,"focus",m=>{(ze(s)||s(t,m))&&o(d)},i)})}function f(t){t.code==="Tab"&&(u=new Date().getTime())}return{init:r}}function Le(A){let h=A;function p(){return h}function v(i){h=n(i)}function l(i){h+=n(i)}function e(i){h-=n(i)}function n(i){return it(i)?i:i.get()}return{get:p,set:v,add:l,subtract:e}}function Bt(A,h){const p=A.scroll==="x"?n:s,v=h.style;let l=null,e=!1;function n(c){return`translate3d(${c}px,0px,0px)`}function s(c){return`translate3d(0px,${c}px,0px)`}function i(c){if(e)return;const t=Sn(A.direction(c));t!==l&&(v.transform=p(t),l=t)}function u(c){e=!c}function r(){e||(v.transform="",h.getAttribute("style")||h.removeAttribute("style"))}return{clear:r,to:i,toggleActive:u}}function Wn(A,h,p,v,l,e,n,s,i){const r=Be(l),f=Be(l).reverse(),c=m().concat(x());function t(M,y){return M.reduce((P,D)=>P-l[D],y)}function o(M,y){return M.reduce((P,D)=>t(P,y)>0?P.concat([D]):P,[])}function a(M){return e.map((y,P)=>({start:y-v[P]+.5+M,end:y+h-.5+M}))}function d(M,y,P){const D=a(y);return M.map(O=>{const T=P?0:-p,L=P?p:0,I=P?"end":"start",E=D[O][I];return{index:O,loopPoint:E,slideLocation:Le(-1),translate:Bt(A,i[O]),target:()=>s.get()>E?T:L}})}function m(){const M=n[0],y=o(f,M);return d(y,p,!1)}function x(){const M=h-n[0]-1,y=o(r,M);return d(y,-p,!0)}function w(){return c.every(({index:M})=>{const y=r.filter(P=>P!==M);return t(y,h)<=.1})}function C(){c.forEach(M=>{const{target:y,translate:P,slideLocation:D}=M,O=y();O!==D.get()&&(P.to(O),D.set(O))})}function g(){c.forEach(M=>M.translate.clear())}return{canLoop:w,clear:g,loop:C,loopPoints:c}}function Un(A,h,p){let v,l=!1;function e(i){if(!p)return;function u(r){for(const f of r)if(f.type==="childList"){i.reInit(),h.emit("slidesChanged");break}}v=new MutationObserver(r=>{l||(ze(p)||p(i,r))&&u(r)}),v.observe(A,{childList:!0})}function n(){v&&v.disconnect(),l=!0}return{init:e,destroy:n}}function Nn(A,h,p,v){const l={};let e=null,n=null,s,i=!1;function u(){s=new IntersectionObserver(o=>{i||(o.forEach(a=>{const d=h.indexOf(a.target);l[d]=a}),e=null,n=null,p.emit("slidesInView"))},{root:A.parentElement,threshold:v}),h.forEach(o=>s.observe(o))}function r(){s&&s.disconnect(),i=!0}function f(o){return Re(l).reduce((a,d)=>{const m=parseInt(d),{isIntersecting:x}=l[m];return(o&&x||!o&&!x)&&a.push(m),a},[])}function c(o=!0){if(o&&e)return e;if(!o&&n)return n;const a=f(o);return o&&(e=a),o||(n=a),a}return{init:u,destroy:r,get:c}}function zn(A,h,p,v,l,e){const{measureSize:n,startEdge:s,endEdge:i}=A,u=p[0]&&l,r=o(),f=a(),c=p.map(n),t=d();function o(){if(!u)return 0;const x=p[0];return J(h[s]-x[s])}function a(){if(!u)return 0;const x=e.getComputedStyle(de(v));return parseFloat(x.getPropertyValue(`margin-${i}`))}function d(){return p.map((x,w,C)=>{const g=!w,S=st(C,w);return g?c[w]+r:S?c[w]+f:C[w+1][s]-x[s]}).map(J)}return{slideSizes:c,slideSizesWithGaps:t,startGap:r,endGap:f}}function Gn(A,h,p,v,l,e,n,s,i){const{startEdge:u,endEdge:r,direction:f}=A,c=it(p);function t(m,x){return Be(m).filter(w=>w%x===0).map(w=>m.slice(w,w+x))}function o(m){return m.length?Be(m).reduce((x,w,C)=>{const g=de(x)||0,S=g===0,M=w===He(m),y=l[u]-e[g][u],P=l[u]-e[w][r],D=!v&&S?f(n):0,O=!v&&M?f(s):0,T=J(P-O-(y+D));return C&&T>h+i&&x.push(w),M&&x.push(m.length),x},[]).map((x,w,C)=>{const g=Math.max(C[w-1]||0);return m.slice(g,x)}):[]}function a(m){return c?t(m,p):o(m)}return{groupSlides:a}}function $n(A,h,p,v,l,e,n){const{align:s,axis:i,direction:u,startIndex:r,loop:f,duration:c,dragFree:t,dragThreshold:o,inViewThreshold:a,slidesToScroll:d,skipSnaps:m,containScroll:x,watchResize:w,watchSlides:C,watchDrag:g,watchFocus:S}=e,M=2,y=Cn(),P=y.measure(h),D=p.map(y.measure),O=Dn(i,u),T=O.measureSize(P),L=Tn(T),I=Mn(s,T),E=!f&&!!x,R=f||!!x,{slideSizes:k,slideSizesWithGaps:V,startGap:q,endGap:X}=zn(O,P,D,p,R,l),G=Gn(O,T,d,f,P,D,q,X,M),{snaps:K,snapsAligned:Z}=Rn(O,I,P,D,G),ee=-de(K)+de(V),{snapsContained:ie,scrollContainLimit:W}=In(T,ee,Z,x,M),Q=E?ie:Z,{limit:N}=bn(ee,Q,f),oe=kt(He(Q),r,f),Y=oe.clone(),U=Be(p),B=({dragHandler:fe,scrollBody:$e,scrollBounds:Xe,options:{loop:We}})=>{We||Xe.constrain(fe.pointerDown()),$e.seek()},$=({scrollBody:fe,translate:$e,location:Xe,offsetLocation:We,previousLocation:Rt,scrollLooper:Ft,slideLooper:Vt,dragHandler:Ht,animation:qt,eventHandler:at,scrollBounds:Wt,options:{loop:lt}},ct)=>{const ut=fe.settled(),Ut=!Wt.shouldConstrain(),ft=lt?ut:ut&&Ut,dt=ft&&!Ht.pointerDown();dt&&qt.stop();const Nt=Xe.get()*ct+Rt.get()*(1-ct);We.set(Nt),lt&&(Ft.loop(fe.direction()),Vt.loop()),$e.to(We.get()),dt&&at.emit("settle"),ft||at.emit("scroll")},j=wn(v,l,()=>B(xe),fe=>$(xe,fe)),re=.68,le=Q[oe.get()],ce=Le(le),ue=Le(le),te=Le(le),he=Le(le),me=Ln(ce,te,ue,he,c,re),De=Vn(f,Q,ee,N,he),Pe=Hn(j,oe,Y,me,De,he,n),Te=Bn(N),Ae=Fe(),Oe=Nn(h,p,n,a),{slideRegistry:qe}=Fn(E,x,Q,W,G,U),Ge=qn(A,p,qe,Pe,me,Ae,n,S),xe={ownerDocument:v,ownerWindow:l,eventHandler:n,containerRect:P,slideRects:D,animation:j,axis:O,dragHandler:Pn(O,A,v,l,he,On(O,l),ce,j,Pe,me,De,oe,n,L,t,o,m,re,g),eventStore:Ae,percentOfView:L,index:oe,indexPrevious:Y,limit:N,location:ce,offsetLocation:te,previousLocation:ue,options:e,resizeHandler:An(h,n,l,p,O,w,y),scrollBody:me,scrollBounds:En(N,te,he,me,L),scrollLooper:kn(ee,N,te,[ce,te,ue,he]),scrollProgress:Te,scrollSnapList:Q.map(Te.get),scrollSnaps:Q,scrollTarget:De,scrollTo:Pe,slideLooper:Wn(O,T,ee,k,V,K,Q,te,p),slideFocus:Ge,slidesHandler:Un(h,n,C),slidesInView:Oe,slideIndexes:U,slideRegistry:qe,slidesToScroll:G,target:he,translate:Bt(O,h)};return xe}function Xn(){let A={},h;function p(u){h=u}function v(u){return A[u]||[]}function l(u){return v(u).forEach(r=>r(h,u)),i}function e(u,r){return A[u]=v(u).concat([r]),i}function n(u,r){return A[u]=v(u).filter(f=>f!==r),i}function s(){A={}}const i={init:p,emit:l,off:n,on:e,clear:s};return i}const Qn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Kn(A){function h(e,n){return bt(e,n||{})}function p(e){const n=e.breakpoints||{},s=Re(n).filter(i=>A.matchMedia(i).matches).map(i=>n[i]).reduce((i,u)=>h(i,u),{});return h(e,s)}function v(e){return e.map(n=>Re(n.breakpoints||{})).reduce((n,s)=>n.concat(s),[]).map(A.matchMedia)}return{mergeOptions:h,optionsAtMedia:p,optionsMediaQueries:v}}function Yn(A){let h=[];function p(e,n){return h=n.filter(({options:s})=>A.optionsAtMedia(s).active!==!1),h.forEach(s=>s.init(e,A)),n.reduce((s,i)=>Object.assign(s,{[i.name]:i}),{})}function v(){h=h.filter(e=>e.destroy())}return{init:p,destroy:v}}function ot(A,h,p){const v=A.ownerDocument,l=v.defaultView,e=Kn(l),n=Yn(e),s=Fe(),i=Xn(),{mergeOptions:u,optionsAtMedia:r,optionsMediaQueries:f}=e,{on:c,off:t,emit:o}=i,a=O;let d=!1,m,x=u(Qn,ot.globalOptions),w=u(x),C=[],g,S,M;function y(){const{container:U,slides:B}=w;S=(_e(U)?A.querySelector(U):U)||A.children[0];const j=_e(B)?S.querySelectorAll(B):B;M=[].slice.call(j||S.children)}function P(U){const B=$n(A,S,M,v,l,U,i);if(U.loop&&!B.slideLooper.canLoop()){const $=Object.assign({},U,{loop:!1});return P($)}return B}function D(U,B){d||(x=u(x,U),w=r(x),C=B||C,y(),m=P(w),f([x,...C.map(({options:$})=>$)]).forEach($=>s.add($,"change",O)),w.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(Y),m.eventHandler.init(Y),m.resizeHandler.init(Y),m.slidesHandler.init(Y),m.options.loop&&m.slideLooper.loop(),S.offsetParent&&M.length&&m.dragHandler.init(Y),g=n.init(Y,C)))}function O(U,B){const $=G();T(),D(u({startIndex:$},U),B),i.emit("reInit")}function T(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),n.destroy(),s.clear()}function L(){d||(d=!0,s.clear(),T(),i.emit("destroy"),i.clear())}function I(U,B,$){!w.active||d||(m.scrollBody.useBaseFriction().useDuration(B===!0?0:w.duration),m.scrollTo.index(U,$||0))}function E(U){const B=m.index.add(1).get();I(B,U,-1)}function R(U){const B=m.index.add(-1).get();I(B,U,1)}function k(){return m.index.add(1).get()!==G()}function V(){return m.index.add(-1).get()!==G()}function q(){return m.scrollSnapList}function X(){return m.scrollProgress.get(m.offsetLocation.get())}function G(){return m.index.get()}function K(){return m.indexPrevious.get()}function Z(){return m.slidesInView.get()}function ee(){return m.slidesInView.get(!1)}function ie(){return g}function W(){return m}function Q(){return A}function N(){return S}function oe(){return M}const Y={canScrollNext:k,canScrollPrev:V,containerNode:N,internalEngine:W,destroy:L,off:t,on:c,emit:o,plugins:ie,previousScrollSnap:K,reInit:a,rootNode:Q,scrollNext:E,scrollPrev:R,scrollProgress:X,scrollSnapList:q,scrollTo:I,selectedScrollSnap:G,slideNodes:oe,slidesInView:Z,slidesNotInView:ee};return D(h,p),setTimeout(()=>i.emit("init"),0),Y}ot.globalOptions=void 0;class Jn{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this)),this.appendSlide(".embla-cate","btn-cate-prev","btn-cate-next"),this.appendSlide(".embla-cs-slide","btn-case-studies-prev","btn-case-studies-next"),this.appendSlide(".embla-la-slide","btn-la-prev","btn-la-next"),this.appendSlide(".embla-video-hub-slide","btn-video-hub-prev","btn-video-hub-next")}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}appendSlide(h,p,v){const l=document.querySelector(h),e=ot(l,{align:"start",skipSnaps:!1}),n=document.getElementById(p),s=document.getElementById(v),i=()=>{n==null||n.classList.toggle("disabled",!e.canScrollPrev()),s==null||s.classList.toggle("disabled",!e.canScrollNext())};e.on("select",i),e.on("reInit",i),i(),n==null||n.addEventListener("click",()=>e.scrollPrev()),s==null||s.addEventListener("click",()=>e.scrollNext())}clear(){this.initParticles()}}class Zn{constructor(h){H(this,"DOM");this.DOM={el:h},z.emit(Ye),this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this))}initForm(){var v;const h=(v=this.DOM.el.querySelector("form"))==null?void 0:v.querySelector('input[name="userCount"]'),p=JSON.parse(localStorage.getItem("countUser")||"0");!p||!h||(h.value=p)}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el),this.initForm()}clear(){this.initParticles()}}class jn{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this)),this.handleChangeBackgroundAccor(),this.handleChangeImageAccor(),this.heroVideoAction()}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el),b.parrallaxImage(this.DOM.el),this.initMotion()}initMotion(){const h=this.DOM.el.querySelectorAll(".home-hero-brands-wrap");h.length&&h.forEach(p=>{new Ie({wrap:p,listSplide:p.querySelectorAll(".home-hero-brands")})})}clear(){this.initParticles()}heroVideoAction(){const h=this.DOM.el.querySelector(".product-tool-img-btn"),p=this.DOM.el.querySelector(".home-hero-poup-video"),v=this.DOM.el.querySelector(".home-hero--poup-ic"),l=this.DOM.el.querySelector(".home-hero-poup-video-content");if(!h||!p||!v||!l)return;h.addEventListener("click",()=>{p.classList.add("is-show")}),v.addEventListener("click",()=>e()),tt({element:l,action:()=>e()});const e=()=>{p.classList.remove("is-show")}}handleChangeBackgroundAccor(){const h=this.DOM.el.querySelector(".products-accordion-inner");h&&h.addEventListener("click",()=>{h.querySelectorAll(".products-accordion-item").forEach(v=>{if(v.classList.contains("products-accor-item-active")){const e=v.getAttribute("bg-color");if(!e)return;h.style.backgroundColor=e}})})}handleChangeImageAccor(){const h=Array.from(this.DOM.el.querySelectorAll(".solution-contracts-accordinale-item")),p=this.DOM.el.querySelectorAll(".solution-contracts-accordinale-img");h.forEach((v,l)=>{v.addEventListener("click",()=>{h.findIndex(s=>s.classList.contains("is-active-accordion"))===-1?p.forEach(s=>{F.to(s,{opacity:0,duration:.4,ease:"power3.out"})}):e(l)});const e=n=>{p.forEach((s,i)=>{n===i?F.to(s,{opacity:1,duration:.8,ease:"power3.out"}):F.to(s,{opacity:0,duration:.8,ease:"power3.out"})})};e(0)})}}class _n{constructor(){H(this,"DOM");this.DOM={el:document.querySelector(".footer")},this.DOM.el&&(this.hander(),this.initMotion())}initMotion(){this.DOM.el&&(b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el))}hander(){var p;const h=(p=this.DOM.el)==null?void 0:p.querySelector(".footer-bottom-inner-back");F.registerPlugin(Ve),h==null||h.addEventListener("click",()=>{F.to(window,{scrollTo:0,duration:1.2,ease:"power3.inOut"})})}movingImageFooter(){var n,s,i,u,r;const h=(n=this.DOM.el)==null?void 0:n.querySelector(".footer-middle-inner-img"),p=(s=this.DOM.el)==null?void 0:s.querySelector(".footer-middle-list-imgs");new nt({el:p,offset:25,direction:1,scale:1.3});const v=(i=this.DOM.el)==null?void 0:i.querySelectorAll(".footer-middle-list-imgs-item"),l=F.quickTo(h,"x",{duration:.9,ease:"power3.out"}),e=f=>{v==null||v.forEach((c,t)=>{t===f?F.to(c,{opacity:1,ease:"power3.out",duration:.6,willChange:"opacity"}):F.to(c,{opacity:0,ease:"power3.out",duration:.6})})};e(1),h.style.willChange="transform",(u=this.DOM.el)==null||u.addEventListener("mousemove",f=>{if(!this.DOM.el)return;const c=f.pageX,t=je(c,0,window.innerWidth,-1,1),o=Math.floor(je(c,0,window.innerWidth,0,(v==null?void 0:v.length)||3)),a=(this.DOM.el.clientWidth-h.clientWidth)/2;l(t*a),e(o)}),(r=this.DOM.el)==null||r.addEventListener("mouseleave",()=>{l(0),e(1)})}resetMovingImageFooter(){}}class ei{constructor(){H(this,"DOM");H(this,"isOpenMenu");this.DOM={el:document.querySelector(".header-container"),footer:document.querySelector(".footer")},this.isOpenMenu=!1,this.show(),this.handleDropdownToggle(),this.handleOpenNavMobile()}show(){var i,u;let h=0,p;if(!this.DOM.el)return;let v=!1,l=!1;const e=this.DOM.el.querySelector(".header-dropdown-overlay"),n=()=>{var r;clearTimeout(p),(r=this.DOM.el)==null||r.classList.add("scrollDown"),l=!0},s=()=>{clearTimeout(p),F.killTweensOf(e),F.to(e,{opacity:0,ease:"power3.out",overwrite:"auto",duration:.8}),this.handleResetDrodown(),p=setTimeout(()=>{var r;l=!1,v||(r=this.DOM.el)==null||r.classList.remove("scrollDown")},550)};(i=this.DOM.el)==null||i.addEventListener("mouseenter",n),(u=this.DOM.el)==null||u.addEventListener("mouseleave",s),window.addEventListener("scroll",()=>{var a;if(!this.DOM.el)return;const r=window.pageYOffset||document.documentElement.scrollTop||0;v=r>this.DOM.el.clientHeight;const f=((a=this.DOM.footer)==null?void 0:a.getBoundingClientRect().y)-this.DOM.el.clientHeight<0,t=h<r&&r>this.DOM.el.clientHeight*2||f,o=h>r&&!f;if(t)this.DOM.el.classList.add("hidden"),this.handleResetDrodown();else if(o)if(this.DOM.el.classList.remove("hidden"),v)this.DOM.el.classList.add("scrollDown");else{if(l)return;this.DOM.el.classList.remove("scrollDown")}h=r})}handleResetDrodown(){if(!this.DOM.el)return;const h=this.DOM.el.querySelectorAll(".header-nav-item-container"),p=this.DOM.el.querySelector(".header-dropdown-overlay");F.to(p,{opacity:0,ease:"power3.out",overwrite:"auto",duration:.3}),h.forEach(v=>{const l=v.querySelector(".header-nav-item-ic"),e=v.querySelector(".header-dropdown");!l||!e||(F.killTweensOf([e,l]),F.to(l,{ease:"power3.out",duration:.4,rotate:0,overwrite:"auto"}),F.to(e,{ease:"power3.out",height:0,duration:.8,overwrite:"auto",zIndex:1}))})}handleDropdownToggle(){if(!this.DOM.el)return;const h=this.DOM.el.querySelectorAll(".header-main-menu-dropdown");h.forEach(p=>{const v=p.querySelector(".header-main-menu-dropdown-ic"),l=p.querySelector(".header-dropdown");F.set(".header-dropdown",{y:50});const e=()=>{F.killTweensOf([l,v]),F.killTweensOf(p),F.to(v,{ease:"power3.out",duration:.4,rotate:180,overwrite:"auto"}),F.to(l,{ease:"power3.out",opacity:1,y:0,pointerEvents:"all",duration:1,overwrite:"auto",zIndex:2})};function n(){F.killTweensOf([l,v]),F.killTweensOf(h),F.to(v,{ease:"power3.out",duration:.4,rotate:0,overwrite:"auto"}),F.to(l,{ease:"power3.out",duration:.6,y:50,pointerEvents:"none",opacity:0,zIndex:1,overwrite:"auto"})}Xt(()=>{p.addEventListener("mouseenter",e),p.addEventListener("mouseleave",n)})})}handleDropdownHoverLink(){var v;if(!this.DOM.el)return;const h=this.DOM.el.querySelectorAll(".header-dropdown-link-txt"),p=(v=this.DOM.el.querySelector(".header-nav"))==null?void 0:v.childNodes;p.forEach((l,e)=>{l.addEventListener("mouseenter",function(){const n=l.querySelector(".header-nav-item"),s=Array.from(p).indexOf(this);F.to(".header-nav-item",{opacity:.56,ease:"power3.out",duration:.8,overwrite:"auto",stagger:0}),e===s&&F.to(n,{opacity:1,ease:"power3.out",duration:.8,overwrite:"auto",stagger:0})}),l.addEventListener("mouseleave",function(){F.to(".header-nav-item",{opacity:1,ease:"power3.out",duration:.8,overwrite:"auto",stagger:0})})}),h.length&&h.forEach(l=>{l.addEventListener("mouseenter",function(){F.set(".header-dropdown-link-txt",{opacity:.56}),F.set(l,{opacity:1})}),l.addEventListener("mouseleave",function(){F.set(".header-dropdown-link-txt",{opacity:1})})})}handleIconToggleMobile(h){var v;const p=(v=this.DOM.el)==null?void 0:v.querySelectorAll(".header-btn-menu-icon-line");p&&(h?(F.to(p[0],{ease:"power3",duration:.4,transformOrigin:"center center",rotate:45,y:"0.25rem",overwrite:"auto"}),F.to(p[1],{ease:"power3",duration:.4,rotate:-45,y:"-0.25rem",transformOrigin:"center center",overwrite:"auto"})):(F.to(p[0],{ease:"power3",duration:.4,transformOrigin:"center center",rotate:0,y:0,overwrite:"auto"}),F.to(p[1],{ease:"power3",duration:.4,rotate:0,y:0,transformOrigin:"center center",overwrite:"auto"})))}handleOpenNavMobile(){var v,l;const h=(v=this.DOM.el)==null?void 0:v.querySelector(".header-btn-menu"),p=(l=this.DOM.el)==null?void 0:l.querySelector(".header-mobile-nav");!h||!p||(F.set(p,{opacity:0,xPercent:100,pointerEvents:"none",overwrite:"auto"}),h.addEventListener("click",()=>{var e,n;if(this.isOpenMenu){this.isOpenMenu=!1,(e=this.DOM.el)==null||e.classList.remove("isOpenMenu"),ht.enabled(),this.handleIconToggleMobile(!1),F.to(p,{opacity:0,duration:.6,xPercent:100,ease:"power3.out",pointerEvents:"none",overwrite:"auto"});return}else this.isOpenMenu=!0,(n=this.DOM.el)==null||n.classList.add("isOpenMenu"),ht.disabled(),this.handleIconToggleMobile(!0),F.to(p,{opacity:1,xPercent:0,pointerEvents:"all",duration:.6,ease:"power3.out",overwrite:"auto"})}))}}const ti=({el:A,isGsap:h=!0,isDebug:p,inScreen:v,onEnterBack:l,outScreen:e,threshold:n=0,onToggle:s,onToggleOb:i,start:u,end:r})=>{let f=!1,c=null,t;return!Qt()||h?pt(()=>{c=Me.create({trigger:A,start:u||`top+=${n*100}% bottom`,end:r||"bottom top",markers:p,onToggle:d=>{f=d.isActive,s&&s(d),f?v&&v():e&&e()},onEnterBack:l,invalidateOnRefresh:!0})}):pt(()=>{t=new IntersectionObserver(d=>{f=d[0].isIntersecting,i&&i(f),f?v&&v():e&&e()},{threshold:n}),t.observe(A)}),{isInViewPointer:()=>f,removeOb:()=>{t&&(t.unobserve(A),t.disconnect()),f=!1,c==null||c.kill(),c=null}}};class ni{constructor(){H(this,"DOM");H(this,"isReady");H(this,"inited");H(this,"windowIsBlur");H(this,"isSimpleLoader");H(this,"minProgress");H(this,"processing");H(this,"registerCount");H(this,"lowNet");H(this,"strokeDashoffset");H(this,"obServerAPI");H(this,"idAnimationLoop");H(this,"runAnimation");H(this,"delayPageEnter");H(this,"delaLoadingOut");this.registerLoader=this.registerLoader.bind(this),this.unRegisterLoader=this.unRegisterLoader.bind(this),this.init()}init(){this.DOM={main:document.querySelector(".page-loading")},document.body.classList.add("js-ready","is-loading"),z.emit(Kt),this.inited=!!this.DOM.main,this.isReady=!1,this.windowIsBlur=!1,this.isSimpleLoader=!1,this.minProgress=98,this.delayPageEnter=1.2,this.delaLoadingOut=.3,this.processing={delta:0,percentStuck:0,runWidth:0},this.registerCount=0,this.lowNet=0,this.strokeDashoffset=829,this.hideLoading=this.hideLoading.bind(this),Yt(()=>(z.on(mt,this.registerLoader),z.on(vt,this.unRegisterLoader),window.addEventListener("DOMContentLoaded",this.hideLoading),()=>{z.off(mt,this.registerLoader),z.off(vt,this.unRegisterLoader),window.removeEventListener("DOMContentLoaded",this.hideLoading)}))}simpleLoaded(){var h;(h=this.DOM.main)==null||h.classList.add("is-simple"),this.isSimpleLoader=!0,this.pageLoaded()}simple(){this.obServerAPI=ti({el:document.body}),this.isSimpleLoader=!0,this.isReady=!0,z.emit(Jt),document.body.classList.add("is-ready")}hideLoading(){z.emit(Zt)}hide(){jt(()=>{this.DOM.main&&(this.DOM.main.style.visibility="hidden")})}async pageLoaded(){var h,p;if(this.idAnimationLoop&&cancelAnimationFrame(this.idAnimationLoop),document.body.classList.remove("is-loading"),document.body.classList.remove("is-simple"),z.emit(ne),z.emit(_t),this.isSimpleLoader){if(!this.DOM.main)return;if(((h=document.querySelector(".main"))==null?void 0:h.getAttribute("data-page"))==="home"){const l=F.timeline(),e=this.DOM.main.querySelector(".page-loading-content-first"),n=new en(e,{types:"words, lines"}),s=(p=this.DOM.main.querySelector(".page-loading-content-logo"))==null?void 0:p.querySelector("img");e.classList.add("text__mask"),n.lines&&n.lines.forEach(i=>{const u=document.createElement("div");u.appendChild(i),u.classList.add("line__mask"),e.appendChild(u)}),F.set(".page-loading-content-first",{opacity:1,onComplete:()=>{var i;(i=n.lines)!=null&&i.length&&F.set(n.lines,{y:"110%"})}}),l.to(n.lines,{y:"0%",duration:1.2,ease:"power3.out",stagger:.1}).to(n.lines,{y:"-110%",duration:1.2,ease:"power3.inOut"}).to(s,{y:"0%",duration:.8,ease:"power3.out"},"-=0.55").to(s,{y:"-110%",overwrite:"auto",duration:.8,ease:"power3.inOut"}),l.to(this.DOM.main,{opacity:0,duration:this.delayPageEnter,ease:"power3.inOut",onStart:()=>{document.body.classList.remove("is-loading")},onComplete:()=>{setTimeout(()=>this.hide(),100)}}),setTimeout(()=>{z.emit(Ye),z.emit(gt)},3750)}else F.to(this.DOM.main,{opacity:0,duration:this.delayPageEnter,ease:"power3.inOut",onStart:()=>{document.body.classList.remove("is-loading")},onComplete:()=>{setTimeout(()=>this.hide(),100)}}),setTimeout(()=>{z.emit(Ye),z.emit(gt)},250)}}registerLoader(){this.registerCount++}unRegisterLoader(){this.registerCount--}}const Pt=new ni;class ii{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this))}initParticles(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el),this.handleStackCard()}clear(){this.initParticles()}handleStackCard(){var t;const h=this.DOM.el.querySelector(".about-vision-sticky-inner"),p=this.DOM.el.querySelector(".about-vision-sticky-left"),v=p.querySelectorAll(".about-sticky-left-card"),l=this.DOM.el.querySelector(".about-vision-sticky-right-inner"),e=(t=this.DOM.el.querySelector(".about-vision-sticky-right-inner"))==null?void 0:t.querySelectorAll(".about-sticky-right-img"),n=Ne((window.innerHeight-l.clientHeight)/2),s=this.DOM.el.querySelector(".about-vision-sticky-left-wrap"),i=v[v.length-1];this.DOM.listImagesDesk=e;const u=Ne((l.clientHeight-_(3.2)*2)/v.length),r=(v.length-1)*u+Ne(i.clientHeight)+3.2*(v.length-1),f=Ne(window.innerHeight)-n;Je?(()=>{const o=F.timeline({scrollTrigger:{trigger:".about-vision-sticky",start:"top top",end(){return"bottom bottom"},scrub:1,onUpdate:x=>{const{progress:w}=x,C=Math.round(Ze(w,0,1,0,v.length-1));m(C)}}});F.timeline({scrollTrigger:{trigger:".about-vision-sticky",start:"top top",end:"bottom bottom",scrub:1}}).to(p,{y:`-${r-f+n}rem`}),(x=>{v.forEach((w,C)=>{C!==2&&o.to(w,{height:`${u}rem`,ease:"none",overwrite:"auto"})})})();const m=x=>{!Je||!(e!=null&&e.length)||e.forEach((w,C)=>{C===x?(F.killTweensOf(w),F.to(w,{opacity:1,ease:"power3",duration:.8})):F.to(w,{opacity:0,ease:"power3",duration:.8})})};m(0),h.style.top=`${n}rem`,s.style.height=`${window.innerHeight-_(n)}px`,s.style.marginBottom=`${-n}rem`})():this.handleReplaceUrlImg()}handleReplaceUrlImg(){var v;const h=this.DOM.el.querySelectorAll(".about-img-mb"),p=(v=this.DOM.el.querySelector(".about-vision-sticky-right-inner"))==null?void 0:v.querySelectorAll(".about-sticky-right-img");h.forEach((l,e)=>{var u,r;const n=l.querySelector("img");if(!p.length||!n)return;const s=(u=p[e].querySelector("img"))==null?void 0:u.getAttribute("src"),i=(r=p[e].querySelector("img"))==null?void 0:r.getAttribute("srcset");s&&i&&(n.setAttribute("src",s),n.setAttribute("srcset",i))})}}class ri{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this))}clear(){this.initParticles()}initParticles(){var i;const h=this.DOM.el.querySelector(".articles-show"),p=h==null?void 0:h.querySelectorAll(".text-support-center"),v=window.location.pathname.split("/"),l=v[v.length-1],e=this.DOM.el.querySelector(".sc-text-name");if(!document.referrer.includes("support-center"))p==null||p.forEach(u=>{var c,t,o,a;const r=(c=u.parentElement)==null?void 0:c.querySelectorAll(".text-article-child"),f=r&&Array.from(r);if(!(!r||!e||!u.textContent||!f)){for(let d=0;d<f.length;d++)if(f[d].textContent===l){const x=(t=u==null?void 0:u.parentElement)==null?void 0:t.querySelector(".text-support-center");if(!x)return;(a=e.parentElement)==null||a.setAttribute("href",`/support-center/${(o=x.textContent)==null?void 0:o.toLowerCase().split(" ").join("-")}`),e.innerHTML=x.textContent;break}}});else{const u=localStorage.getItem("sc-category");if(!u||!e)return;e.innerHTML=u,(i=e.parentElement)==null||i.setAttribute("href",`/support-center/${u==null?void 0:u.toLowerCase().split(" ").join("-")}`)}}}class si{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this))}initParticles(){this.initMotion(),this.handleDrawLine(),this.handleAction()}handleDrawLine(){const h=this.DOM.el.querySelectorAll(".changelog-item");Me.refresh(),h.forEach((p,v)=>{const l=p.querySelector(".line-draws");if(l&&(l.style.willChange="transform",Me.create({trigger:p,start:()=>`top ${v===0?"bottom":"center"}`,scrub:1,end:"bottom center",onUpdate:({progress:e})=>{l.style.transform=`scaleY(${e})`}}),v>3)){const e=p.querySelectorAll(".js-fade"),n=p.querySelectorAll(".js-text-mask");setTimeout(()=>{e.forEach((s,i)=>{new tn(s,{delay:i/10})}),n.forEach(s=>{new nn(s,{delay:.05})})},100)}})}handleAction(){const h=this.DOM.el.querySelector(".changelog-more");h==null||h.addEventListener("click",()=>{setTimeout(()=>{this.handleDrawLine()},300)}),this.handleSubmit()}handleSubmit(){const h=this.DOM.el.querySelectorAll(".changelog-detail-right-btn-wrap"),p=this.DOM.el.querySelector('input[name="type"]'),v=this.DOM.el.querySelector('input[name="link"]');h.forEach(l=>{l.addEventListener("click",()=>{var n;const e=(n=l.querySelector("[data-type-access]"))==null?void 0:n.getAttribute("data-type-access");p.value=e||"",v.value=location.href,l.classList.add("active")})})}initMotion(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}}class oi{constructor(h){H(this,"DOM");this.DOM={wrapper:h.querySelector(".home-feature-cards"),listCards:h.querySelectorAll(".home-feature-card")},this.init()}init(){this.DOM.listCards.forEach((h,p,v)=>{if(!Je)return;const l=v[0].clientHeight,e=(window.innerHeight-l)/2,n=v.length*_(8),s=je(p,0,v.length-1,.8125,1);h.style.top=`${e+n}px`,h.style.transform=`translateY(-${(v.length-p)*_(8)}px)`,F.timeline({scrollTrigger:{trigger:h,start:()=>"top center",end:`+=${(v.length-p)*l} `,scrub:1}}).to(h,{scale:s,transformOrigin:"top center",ease:"none"},0)})}}var ye={},ai={get exports(){return ye},set exports(A){ye=A}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(A,h){(function(v,l){A.exports=l()})(Qe,function(){return function(p){var v={};function l(e){if(v[e])return v[e].exports;var n=v[e]={i:e,l:!1,exports:{}};return p[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}return l.m=p,l.c=v,l.d=function(e,n,s){l.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:s})},l.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,n){if(n&1&&(e=l(e)),n&8||n&4&&typeof e=="object"&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),n&2&&typeof e!="string")for(var i in e)l.d(s,i,function(u){return e[u]}.bind(null,i));return s},l.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(n,"a",n),n},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.p="",l(l.s=20)}([function(p,v){var l={};p.exports=l,function(){l._baseDelta=1e3/60,l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l._warnedOnce={},l._decomp=null,l.extend=function(n,s){var i,u;typeof s=="boolean"?(i=2,u=s):(i=1,u=!0);for(var r=i;r<arguments.length;r++){var f=arguments[r];if(f)for(var c in f)u&&f[c]&&f[c].constructor===Object&&(!n[c]||n[c].constructor===Object)?(n[c]=n[c]||{},l.extend(n[c],u,f[c])):n[c]=f[c]}return n},l.clone=function(n,s){return l.extend({},s,n)},l.keys=function(n){if(Object.keys)return Object.keys(n);var s=[];for(var i in n)s.push(i);return s},l.values=function(n){var s=[];if(Object.keys){for(var i=Object.keys(n),u=0;u<i.length;u++)s.push(n[i[u]]);return s}for(var r in n)s.push(n[r]);return s},l.get=function(n,s,i,u){s=s.split(".").slice(i,u);for(var r=0;r<s.length;r+=1)n=n[s[r]];return n},l.set=function(n,s,i,u,r){var f=s.split(".").slice(u,r);return l.get(n,s,0,-1)[f[f.length-1]]=i,i},l.shuffle=function(n){for(var s=n.length-1;s>0;s--){var i=Math.floor(l.random()*(s+1)),u=n[s];n[s]=n[i],n[i]=u}return n},l.choose=function(n){return n[Math.floor(l.random()*n.length)]},l.isElement=function(n){return typeof HTMLElement<"u"?n instanceof HTMLElement:!!(n&&n.nodeType&&n.nodeName)},l.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"},l.isFunction=function(n){return typeof n=="function"},l.isPlainObject=function(n){return typeof n=="object"&&n.constructor===Object},l.isString=function(n){return toString.call(n)==="[object String]"},l.clamp=function(n,s,i){return n<s?s:n>i?i:n},l.sign=function(n){return n<0?-1:1},l.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-l._nowStartTime},l.random=function(n,s){return n=typeof n<"u"?n:0,s=typeof s<"u"?s:1,n+e()*(s-n)};var e=function(){return l._seed=(l._seed*9301+49297)%233280,l._seed/233280};l.colorToNumber=function(n){return n=n.replace("#",""),n.length==3&&(n=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)),parseInt(n,16)},l.logLevel=1,l.log=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.info=function(){console&&l.logLevel>0&&l.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warn=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warnOnce=function(){var n=Array.prototype.slice.call(arguments).join(" ");l._warnedOnce[n]||(l.warn(n),l._warnedOnce[n]=!0)},l.deprecated=function(n,s,i){n[s]=l.chain(function(){l.warnOnce(" deprecated ",i)},n[s])},l.nextId=function(){return l._nextId++},l.indexOf=function(n,s){if(n.indexOf)return n.indexOf(s);for(var i=0;i<n.length;i++)if(n[i]===s)return i;return-1},l.map=function(n,s){if(n.map)return n.map(s);for(var i=[],u=0;u<n.length;u+=1)i.push(s(n[u]));return i},l.topologicalSort=function(n){var s=[],i=[],u=[];for(var r in n)!i[r]&&!u[r]&&l._topologicalSort(r,i,u,n,s);return s},l._topologicalSort=function(n,s,i,u,r){var f=u[n]||[];i[n]=!0;for(var c=0;c<f.length;c+=1){var t=f[c];i[t]||s[t]||l._topologicalSort(t,s,i,u,r)}i[n]=!1,s[n]=!0,r.push(n)},l.chain=function(){for(var n=[],s=0;s<arguments.length;s+=1){var i=arguments[s];i._chained?n.push.apply(n,i._chained):n.push(i)}var u=function(){for(var r,f=new Array(arguments.length),c=0,t=arguments.length;c<t;c++)f[c]=arguments[c];for(c=0;c<n.length;c+=1){var o=n[c].apply(r,f);typeof o<"u"&&(r=o)}return r};return u._chained=n,u},l.chainPathBefore=function(n,s,i){return l.set(n,s,l.chain(i,l.get(n,s)))},l.chainPathAfter=function(n,s,i){return l.set(n,s,l.chain(l.get(n,s),i))},l.setDecomp=function(n){l._decomp=n},l.getDecomp=function(){var n=l._decomp;try{!n&&typeof window<"u"&&(n=window.decomp),!n&&typeof Qe<"u"&&(n=Qe.decomp)}catch{n=null}return n}}()},function(p,v){var l={};p.exports=l,function(){l.create=function(e){var n={min:{x:0,y:0},max:{x:0,y:0}};return e&&l.update(n,e),n},l.update=function(e,n,s){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var i=0;i<n.length;i++){var u=n[i];u.x>e.max.x&&(e.max.x=u.x),u.x<e.min.x&&(e.min.x=u.x),u.y>e.max.y&&(e.max.y=u.y),u.y<e.min.y&&(e.min.y=u.y)}s&&(s.x>0?e.max.x+=s.x:e.min.x+=s.x,s.y>0?e.max.y+=s.y:e.min.y+=s.y)},l.contains=function(e,n){return n.x>=e.min.x&&n.x<=e.max.x&&n.y>=e.min.y&&n.y<=e.max.y},l.overlaps=function(e,n){return e.min.x<=n.max.x&&e.max.x>=n.min.x&&e.max.y>=n.min.y&&e.min.y<=n.max.y},l.translate=function(e,n){e.min.x+=n.x,e.max.x+=n.x,e.min.y+=n.y,e.max.y+=n.y},l.shift=function(e,n){var s=e.max.x-e.min.x,i=e.max.y-e.min.y;e.min.x=n.x,e.max.x=n.x+s,e.min.y=n.y,e.max.y=n.y+i}}()},function(p,v){var l={};p.exports=l,function(){l.create=function(e,n){return{x:e||0,y:n||0}},l.clone=function(e){return{x:e.x,y:e.y}},l.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},l.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},l.rotate=function(e,n,s){var i=Math.cos(n),u=Math.sin(n);s||(s={});var r=e.x*i-e.y*u;return s.y=e.x*u+e.y*i,s.x=r,s},l.rotateAbout=function(e,n,s,i){var u=Math.cos(n),r=Math.sin(n);i||(i={});var f=s.x+((e.x-s.x)*u-(e.y-s.y)*r);return i.y=s.y+((e.x-s.x)*r+(e.y-s.y)*u),i.x=f,i},l.normalise=function(e){var n=l.magnitude(e);return n===0?{x:0,y:0}:{x:e.x/n,y:e.y/n}},l.dot=function(e,n){return e.x*n.x+e.y*n.y},l.cross=function(e,n){return e.x*n.y-e.y*n.x},l.cross3=function(e,n,s){return(n.x-e.x)*(s.y-e.y)-(n.y-e.y)*(s.x-e.x)},l.add=function(e,n,s){return s||(s={}),s.x=e.x+n.x,s.y=e.y+n.y,s},l.sub=function(e,n,s){return s||(s={}),s.x=e.x-n.x,s.y=e.y-n.y,s},l.mult=function(e,n){return{x:e.x*n,y:e.y*n}},l.div=function(e,n){return{x:e.x/n,y:e.y/n}},l.perp=function(e,n){return n=n===!0?-1:1,{x:n*-e.y,y:n*e.x}},l.neg=function(e){return{x:-e.x,y:-e.y}},l.angle=function(e,n){return Math.atan2(n.y-e.y,n.x-e.x)},l._temp=[l.create(),l.create(),l.create(),l.create(),l.create(),l.create()]}()},function(p,v,l){var e={};p.exports=e;var n=l(2),s=l(0);(function(){e.create=function(i,u){for(var r=[],f=0;f<i.length;f++){var c=i[f],t={x:c.x,y:c.y,index:f,body:u,isInternal:!1};r.push(t)}return r},e.fromPath=function(i,u){var r=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return i.replace(r,function(c,t,o){f.push({x:parseFloat(t),y:parseFloat(o)})}),e.create(f,u)},e.centre=function(i){for(var u=e.area(i,!0),r={x:0,y:0},f,c,t,o=0;o<i.length;o++)t=(o+1)%i.length,f=n.cross(i[o],i[t]),c=n.mult(n.add(i[o],i[t]),f),r=n.add(r,c);return n.div(r,6*u)},e.mean=function(i){for(var u={x:0,y:0},r=0;r<i.length;r++)u.x+=i[r].x,u.y+=i[r].y;return n.div(u,i.length)},e.area=function(i,u){for(var r=0,f=i.length-1,c=0;c<i.length;c++)r+=(i[f].x-i[c].x)*(i[f].y+i[c].y),f=c;return u?r/2:Math.abs(r)/2},e.inertia=function(i,u){for(var r=0,f=0,c=i,t,o,a=0;a<c.length;a++)o=(a+1)%c.length,t=Math.abs(n.cross(c[o],c[a])),r+=t*(n.dot(c[o],c[o])+n.dot(c[o],c[a])+n.dot(c[a],c[a])),f+=t;return u/6*(r/f)},e.translate=function(i,u,r){r=typeof r<"u"?r:1;var f=i.length,c=u.x*r,t=u.y*r,o;for(o=0;o<f;o++)i[o].x+=c,i[o].y+=t;return i},e.rotate=function(i,u,r){if(u!==0){var f=Math.cos(u),c=Math.sin(u),t=r.x,o=r.y,a=i.length,d,m,x,w;for(w=0;w<a;w++)d=i[w],m=d.x-t,x=d.y-o,d.x=t+(m*f-x*c),d.y=o+(m*c+x*f);return i}},e.contains=function(i,u){for(var r=u.x,f=u.y,c=i.length,t=i[c-1],o,a=0;a<c;a++){if(o=i[a],(r-t.x)*(o.y-t.y)+(f-t.y)*(t.x-o.x)>0)return!1;t=o}return!0},e.scale=function(i,u,r,f){if(u===1&&r===1)return i;f=f||e.centre(i);for(var c,t,o=0;o<i.length;o++)c=i[o],t=n.sub(c,f),i[o].x=f.x+t.x*u,i[o].y=f.y+t.y*r;return i},e.chamfer=function(i,u,r,f,c){typeof u=="number"?u=[u]:u=u||[8],r=typeof r<"u"?r:-1,f=f||2,c=c||14;for(var t=[],o=0;o<i.length;o++){var a=i[o-1>=0?o-1:i.length-1],d=i[o],m=i[(o+1)%i.length],x=u[o<u.length?o:u.length-1];if(x===0){t.push(d);continue}var w=n.normalise({x:d.y-a.y,y:a.x-d.x}),C=n.normalise({x:m.y-d.y,y:d.x-m.x}),g=Math.sqrt(2*Math.pow(x,2)),S=n.mult(s.clone(w),x),M=n.normalise(n.mult(n.add(w,C),.5)),y=n.sub(d,n.mult(M,g)),P=r;r===-1&&(P=Math.pow(x,.32)*1.75),P=s.clamp(P,f,c),P%2===1&&(P+=1);for(var D=Math.acos(n.dot(w,C)),O=D/P,T=0;T<P;T++)t.push(n.add(n.rotate(S,O*T),y))}return t},e.clockwiseSort=function(i){var u=e.mean(i);return i.sort(function(r,f){return n.angle(u,r)-n.angle(u,f)}),i},e.isConvex=function(i){var u=0,r=i.length,f,c,t,o;if(r<3)return null;for(f=0;f<r;f++)if(c=(f+1)%r,t=(f+2)%r,o=(i[c].x-i[f].x)*(i[t].y-i[c].y),o-=(i[c].y-i[f].y)*(i[t].x-i[c].x),o<0?u|=1:o>0&&(u|=2),u===3)return!1;return u!==0?!0:null},e.hull=function(i){var u=[],r=[],f,c;for(i=i.slice(0),i.sort(function(t,o){var a=t.x-o.x;return a!==0?a:t.y-o.y}),c=0;c<i.length;c+=1){for(f=i[c];r.length>=2&&n.cross3(r[r.length-2],r[r.length-1],f)<=0;)r.pop();r.push(f)}for(c=i.length-1;c>=0;c-=1){for(f=i[c];u.length>=2&&n.cross3(u[u.length-2],u[u.length-1],f)<=0;)u.pop();u.push(f)}return u.pop(),r.pop(),u.concat(r)}})()},function(p,v,l){var e={};p.exports=e;var n=l(3),s=l(2),i=l(7),u=l(0),r=l(1),f=l(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var o={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},a=u.extend(o,t);return c(a,t),a},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var c=function(t,o){o=o||{},e.set(t,{bounds:t.bounds||r.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),n.rotate(t.vertices,t.angle,t.position),f.rotate(t.axes,t.angle),r.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:o.axes||t.axes,area:o.area||t.area,mass:o.mass||t.mass,inertia:o.inertia||t.inertia});var a=t.isStatic?"#14151f":u.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),d=t.isStatic?"#555":"#ccc",m=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||a,t.render.strokeStyle=t.render.strokeStyle||d,t.render.lineWidth=t.render.lineWidth||m,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,o,a){var d;typeof o=="string"&&(d=o,o={},o[d]=a);for(d in o)if(Object.prototype.hasOwnProperty.call(o,d))switch(a=o[d],d){case"isStatic":e.setStatic(t,a);break;case"isSleeping":i.set(t,a);break;case"mass":e.setMass(t,a);break;case"density":e.setDensity(t,a);break;case"inertia":e.setInertia(t,a);break;case"vertices":e.setVertices(t,a);break;case"position":e.setPosition(t,a);break;case"angle":e.setAngle(t,a);break;case"velocity":e.setVelocity(t,a);break;case"angularVelocity":e.setAngularVelocity(t,a);break;case"speed":e.setSpeed(t,a);break;case"angularSpeed":e.setAngularSpeed(t,a);break;case"parts":e.setParts(t,a);break;case"centre":e.setCentre(t,a);break;default:t[d]=a}},e.setStatic=function(t,o){for(var a=0;a<t.parts.length;a++){var d=t.parts[a];o?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=o}},e.setMass=function(t,o){var a=t.inertia/(t.mass/6);t.inertia=a*(o/6),t.inverseInertia=1/t.inertia,t.mass=o,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,o){e.setMass(t,o*t.area),t.density=o},e.setInertia=function(t,o){t.inertia=o,t.inverseInertia=1/t.inertia},e.setVertices=function(t,o){o[0].body===t?t.vertices=o:t.vertices=n.create(o,t),t.axes=f.fromVertices(t.vertices),t.area=n.area(t.vertices),e.setMass(t,t.density*t.area);var a=n.centre(t.vertices);n.translate(t.vertices,a,-1),e.setInertia(t,e._inertiaScale*n.inertia(t.vertices,t.mass)),n.translate(t.vertices,t.position),r.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,o,a){var d;for(o=o.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,d=0;d<o.length;d++){var m=o[d];m!==t&&(m.parent=t,t.parts.push(m))}if(t.parts.length!==1){if(a=typeof a<"u"?a:!0,a){var x=[];for(d=0;d<o.length;d++)x=x.concat(o[d].vertices);n.clockwiseSort(x);var w=n.hull(x),C=n.centre(w);e.setVertices(t,w),n.translate(t.vertices,C)}var g=e._totalProperties(t);t.area=g.area,t.parent=t,t.position.x=g.centre.x,t.position.y=g.centre.y,t.positionPrev.x=g.centre.x,t.positionPrev.y=g.centre.y,e.setMass(t,g.mass),e.setInertia(t,g.inertia),e.setPosition(t,g.centre)}},e.setCentre=function(t,o,a){a?(t.positionPrev.x+=o.x,t.positionPrev.y+=o.y,t.position.x+=o.x,t.position.y+=o.y):(t.positionPrev.x=o.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=o.y-(t.position.y-t.positionPrev.y),t.position.x=o.x,t.position.y=o.y)},e.setPosition=function(t,o,a){var d=s.sub(o,t.position);a?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=d.x,t.velocity.y=d.y,t.speed=s.magnitude(d)):(t.positionPrev.x+=d.x,t.positionPrev.y+=d.y);for(var m=0;m<t.parts.length;m++){var x=t.parts[m];x.position.x+=d.x,x.position.y+=d.y,n.translate(x.vertices,d),r.update(x.bounds,x.vertices,t.velocity)}},e.setAngle=function(t,o,a){var d=o-t.angle;a?(t.anglePrev=t.angle,t.angularVelocity=d,t.angularSpeed=Math.abs(d)):t.anglePrev+=d;for(var m=0;m<t.parts.length;m++){var x=t.parts[m];x.angle+=d,n.rotate(x.vertices,d,t.position),f.rotate(x.axes,d),r.update(x.bounds,x.vertices,t.velocity),m>0&&s.rotateAbout(x.position,d,t.position,x.position)}},e.setVelocity=function(t,o){var a=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-o.x*a,t.positionPrev.y=t.position.y-o.y*a,t.velocity.x=(t.position.x-t.positionPrev.x)/a,t.velocity.y=(t.position.y-t.positionPrev.y)/a,t.speed=s.magnitude(t.velocity)},e.getVelocity=function(t){var o=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*o,y:(t.position.y-t.positionPrev.y)*o}},e.getSpeed=function(t){return s.magnitude(e.getVelocity(t))},e.setSpeed=function(t,o){e.setVelocity(t,s.mult(s.normalise(e.getVelocity(t)),o))},e.setAngularVelocity=function(t,o){var a=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-o*a,t.angularVelocity=(t.angle-t.anglePrev)/a,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,o){e.setAngularVelocity(t,u.sign(e.getAngularVelocity(t))*o)},e.translate=function(t,o,a){e.setPosition(t,s.add(t.position,o),a)},e.rotate=function(t,o,a,d){if(!a)e.setAngle(t,t.angle+o,d);else{var m=Math.cos(o),x=Math.sin(o),w=t.position.x-a.x,C=t.position.y-a.y;e.setPosition(t,{x:a.x+(w*m-C*x),y:a.y+(w*x+C*m)},d),e.setAngle(t,t.angle+o,d)}},e.scale=function(t,o,a,d){var m=0,x=0;d=d||t.position;for(var w=0;w<t.parts.length;w++){var C=t.parts[w];n.scale(C.vertices,o,a,d),C.axes=f.fromVertices(C.vertices),C.area=n.area(C.vertices),e.setMass(C,t.density*C.area),n.translate(C.vertices,{x:-C.position.x,y:-C.position.y}),e.setInertia(C,e._inertiaScale*n.inertia(C.vertices,C.mass)),n.translate(C.vertices,{x:C.position.x,y:C.position.y}),w>0&&(m+=C.area,x+=C.inertia),C.position.x=d.x+(C.position.x-d.x)*o,C.position.y=d.y+(C.position.y-d.y)*a,r.update(C.bounds,C.vertices,t.velocity)}t.parts.length>1&&(t.area=m,t.isStatic||(e.setMass(t,t.density*m),e.setInertia(t,x))),t.circleRadius&&(o===a?t.circleRadius*=o:t.circleRadius=null)},e.update=function(t,o){o=(typeof o<"u"?o:1e3/60)*t.timeScale;var a=o*o,d=e._timeCorrection?o/(t.deltaTime||o):1,m=1-t.frictionAir*(o/u._baseDelta),x=(t.position.x-t.positionPrev.x)*d,w=(t.position.y-t.positionPrev.y)*d;t.velocity.x=x*m+t.force.x/t.mass*a,t.velocity.y=w*m+t.force.y/t.mass*a,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=o,t.angularVelocity=(t.angle-t.anglePrev)*m*d+t.torque/t.inertia*a,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var C=0;C<t.parts.length;C++){var g=t.parts[C];n.translate(g.vertices,t.velocity),C>0&&(g.position.x+=t.velocity.x,g.position.y+=t.velocity.y),t.angularVelocity!==0&&(n.rotate(g.vertices,t.angularVelocity,t.position),f.rotate(g.axes,t.angularVelocity),C>0&&s.rotateAbout(g.position,t.angularVelocity,t.position,g.position)),r.update(g.bounds,g.vertices,t.velocity)}},e.updateVelocities=function(t){var o=e._baseDelta/t.deltaTime,a=t.velocity;a.x=(t.position.x-t.positionPrev.x)*o,a.y=(t.position.y-t.positionPrev.y)*o,t.speed=Math.sqrt(a.x*a.x+a.y*a.y),t.angularVelocity=(t.angle-t.anglePrev)*o,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,o,a){var d={x:o.x-t.position.x,y:o.y-t.position.y};t.force.x+=a.x,t.force.y+=a.y,t.torque+=d.x*a.y-d.y*a.x},e._totalProperties=function(t){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},a=t.parts.length===1?0:1;a<t.parts.length;a++){var d=t.parts[a],m=d.mass!==1/0?d.mass:1;o.mass+=m,o.area+=d.area,o.inertia+=d.inertia,o.centre=s.add(o.centre,s.mult(d.position,m))}return o.centre=s.div(o.centre,o.mass),o}})()},function(p,v,l){var e={};p.exports=e;var n=l(0);(function(){e.on=function(s,i,u){for(var r=i.split(" "),f,c=0;c<r.length;c++)f=r[c],s.events=s.events||{},s.events[f]=s.events[f]||[],s.events[f].push(u);return u},e.off=function(s,i,u){if(!i){s.events={};return}typeof i=="function"&&(u=i,i=n.keys(s.events).join(" "));for(var r=i.split(" "),f=0;f<r.length;f++){var c=s.events[r[f]],t=[];if(u&&c)for(var o=0;o<c.length;o++)c[o]!==u&&t.push(c[o]);s.events[r[f]]=t}},e.trigger=function(s,i,u){var r,f,c,t,o=s.events;if(o&&n.keys(o).length>0){u||(u={}),r=i.split(" ");for(var a=0;a<r.length;a++)if(f=r[a],c=o[f],c){t=n.clone(u,!1),t.name=f,t.source=s;for(var d=0;d<c.length;d++)c[d].apply(s,[t])}}}})()},function(p,v,l){var e={};p.exports=e;var n=l(5),s=l(0),i=l(1),u=l(4);(function(){e.create=function(r){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},r)},e.setModified=function(r,f,c,t){if(r.isModified=f,f&&r.cache&&(r.cache.allBodies=null,r.cache.allConstraints=null,r.cache.allComposites=null),c&&r.parent&&e.setModified(r.parent,f,c,t),t)for(var o=0;o<r.composites.length;o++){var a=r.composites[o];e.setModified(a,f,c,t)}},e.add=function(r,f){var c=[].concat(f);n.trigger(r,"beforeAdd",{object:f});for(var t=0;t<c.length;t++){var o=c[t];switch(o.type){case"body":if(o.parent!==o){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(r,o);break;case"constraint":e.addConstraint(r,o);break;case"composite":e.addComposite(r,o);break;case"mouseConstraint":e.addConstraint(r,o.constraint);break}}return n.trigger(r,"afterAdd",{object:f}),r},e.remove=function(r,f,c){var t=[].concat(f);n.trigger(r,"beforeRemove",{object:f});for(var o=0;o<t.length;o++){var a=t[o];switch(a.type){case"body":e.removeBody(r,a,c);break;case"constraint":e.removeConstraint(r,a,c);break;case"composite":e.removeComposite(r,a,c);break;case"mouseConstraint":e.removeConstraint(r,a.constraint);break}}return n.trigger(r,"afterRemove",{object:f}),r},e.addComposite=function(r,f){return r.composites.push(f),f.parent=r,e.setModified(r,!0,!0,!1),r},e.removeComposite=function(r,f,c){var t=s.indexOf(r.composites,f);if(t!==-1){var o=e.allBodies(f);e.removeCompositeAt(r,t);for(var a=0;a<o.length;a++)o[a].sleepCounter=0}if(c)for(var a=0;a<r.composites.length;a++)e.removeComposite(r.composites[a],f,!0);return r},e.removeCompositeAt=function(r,f){return r.composites.splice(f,1),e.setModified(r,!0,!0,!1),r},e.addBody=function(r,f){return r.bodies.push(f),e.setModified(r,!0,!0,!1),r},e.removeBody=function(r,f,c){var t=s.indexOf(r.bodies,f);if(t!==-1&&(e.removeBodyAt(r,t),f.sleepCounter=0),c)for(var o=0;o<r.composites.length;o++)e.removeBody(r.composites[o],f,!0);return r},e.removeBodyAt=function(r,f){return r.bodies.splice(f,1),e.setModified(r,!0,!0,!1),r},e.addConstraint=function(r,f){return r.constraints.push(f),e.setModified(r,!0,!0,!1),r},e.removeConstraint=function(r,f,c){var t=s.indexOf(r.constraints,f);if(t!==-1&&e.removeConstraintAt(r,t),c)for(var o=0;o<r.composites.length;o++)e.removeConstraint(r.composites[o],f,!0);return r},e.removeConstraintAt=function(r,f){return r.constraints.splice(f,1),e.setModified(r,!0,!0,!1),r},e.clear=function(r,f,c){if(c)for(var t=0;t<r.composites.length;t++)e.clear(r.composites[t],f,!0);return f?r.bodies=r.bodies.filter(function(o){return o.isStatic}):r.bodies.length=0,r.constraints.length=0,r.composites.length=0,e.setModified(r,!0,!0,!1),r},e.allBodies=function(r){if(r.cache&&r.cache.allBodies)return r.cache.allBodies;for(var f=[].concat(r.bodies),c=0;c<r.composites.length;c++)f=f.concat(e.allBodies(r.composites[c]));return r.cache&&(r.cache.allBodies=f),f},e.allConstraints=function(r){if(r.cache&&r.cache.allConstraints)return r.cache.allConstraints;for(var f=[].concat(r.constraints),c=0;c<r.composites.length;c++)f=f.concat(e.allConstraints(r.composites[c]));return r.cache&&(r.cache.allConstraints=f),f},e.allComposites=function(r){if(r.cache&&r.cache.allComposites)return r.cache.allComposites;for(var f=[].concat(r.composites),c=0;c<r.composites.length;c++)f=f.concat(e.allComposites(r.composites[c]));return r.cache&&(r.cache.allComposites=f),f},e.get=function(r,f,c){var t,o;switch(c){case"body":t=e.allBodies(r);break;case"constraint":t=e.allConstraints(r);break;case"composite":t=e.allComposites(r).concat(r);break}return t?(o=t.filter(function(a){return a.id.toString()===f.toString()}),o.length===0?null:o[0]):null},e.move=function(r,f,c){return e.remove(r,f),e.add(c,f),r},e.rebase=function(r){for(var f=e.allBodies(r).concat(e.allConstraints(r)).concat(e.allComposites(r)),c=0;c<f.length;c++)f[c].id=s.nextId();return r},e.translate=function(r,f,c){for(var t=c?e.allBodies(r):r.bodies,o=0;o<t.length;o++)u.translate(t[o],f);return r},e.rotate=function(r,f,c,t){for(var o=Math.cos(f),a=Math.sin(f),d=t?e.allBodies(r):r.bodies,m=0;m<d.length;m++){var x=d[m],w=x.position.x-c.x,C=x.position.y-c.y;u.setPosition(x,{x:c.x+(w*o-C*a),y:c.y+(w*a+C*o)}),u.rotate(x,f)}return r},e.scale=function(r,f,c,t,o){for(var a=o?e.allBodies(r):r.bodies,d=0;d<a.length;d++){var m=a[d],x=m.position.x-t.x,w=m.position.y-t.y;u.setPosition(m,{x:t.x+x*f,y:t.y+w*c}),u.scale(m,f,c)}return r},e.bounds=function(r){for(var f=e.allBodies(r),c=[],t=0;t<f.length;t+=1){var o=f[t];c.push(o.bounds.min,o.bounds.max)}return i.create(c)}})()},function(p,v,l){var e={};p.exports=e;var n=l(4),s=l(5),i=l(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(u,r){for(var f=r/i._baseDelta,c=e._motionSleepThreshold,t=0;t<u.length;t++){var o=u[t],a=n.getSpeed(o),d=n.getAngularSpeed(o),m=a*a+d*d;if(o.force.x!==0||o.force.y!==0){e.set(o,!1);continue}var x=Math.min(o.motion,m),w=Math.max(o.motion,m);o.motion=e._minBias*x+(1-e._minBias)*w,o.sleepThreshold>0&&o.motion<c?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/f&&e.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},e.afterCollisions=function(u){for(var r=e._motionSleepThreshold,f=0;f<u.length;f++){var c=u[f];if(c.isActive){var t=c.collision,o=t.bodyA.parent,a=t.bodyB.parent;if(!(o.isSleeping&&a.isSleeping||o.isStatic||a.isStatic)&&(o.isSleeping||a.isSleeping)){var d=o.isSleeping&&!o.isStatic?o:a,m=d===o?a:o;!d.isStatic&&m.motion>r&&e.set(d,!1)}}}},e.set=function(u,r){var f=u.isSleeping;r?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,f||s.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,f&&s.trigger(u,"sleepEnd"))}})()},function(p,v,l){var e={};p.exports=e;var n=l(3),s=l(9);(function(){var i=[],u={overlap:0,axis:null},r={overlap:0,axis:null};e.create=function(f,c){return{pair:null,collided:!1,bodyA:f,bodyB:c,parentA:f.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(f,c,t){if(e._overlapAxes(u,f.vertices,c.vertices,f.axes),u.overlap<=0||(e._overlapAxes(r,c.vertices,f.vertices,c.axes),r.overlap<=0))return null;var o=t&&t.table[s.id(f,c)],a;o?a=o.collision:(a=e.create(f,c),a.collided=!0,a.bodyA=f.id<c.id?f:c,a.bodyB=f.id<c.id?c:f,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent),f=a.bodyA,c=a.bodyB;var d;u.overlap<r.overlap?d=u:d=r;var m=a.normal,x=a.tangent,w=a.penetration,C=a.supports,g=d.overlap,S=d.axis,M=S.x,y=S.y,P=c.position.x-f.position.x,D=c.position.y-f.position.y;M*P+y*D>=0&&(M=-M,y=-y),m.x=M,m.y=y,x.x=-y,x.y=M,w.x=M*g,w.y=y*g,a.depth=g;var O=e._findSupports(f,c,m,1),T=0;if(n.contains(f.vertices,O[0])&&(C[T++]=O[0]),n.contains(f.vertices,O[1])&&(C[T++]=O[1]),T<2){var L=e._findSupports(c,f,m,-1);n.contains(c.vertices,L[0])&&(C[T++]=L[0]),T<2&&n.contains(c.vertices,L[1])&&(C[T++]=L[1])}return T===0&&(C[T++]=O[0]),a.supportCount=T,a},e._overlapAxes=function(f,c,t,o){var a=c.length,d=t.length,m=c[0].x,x=c[0].y,w=t[0].x,C=t[0].y,g=o.length,S=Number.MAX_VALUE,M=0,y,P,D,O,T,L;for(T=0;T<g;T++){var I=o[T],E=I.x,R=I.y,k=m*E+x*R,V=w*E+C*R,q=k,X=V;for(L=1;L<a;L+=1)O=c[L].x*E+c[L].y*R,O>q?q=O:O<k&&(k=O);for(L=1;L<d;L+=1)O=t[L].x*E+t[L].y*R,O>X?X=O:O<V&&(V=O);if(P=q-V,D=X-k,y=P<D?P:D,y<S&&(S=y,M=T,y<=0))break}f.axis=o[M],f.overlap=S},e._findSupports=function(f,c,t,o){var a=c.vertices,d=a.length,m=f.position.x,x=f.position.y,w=t.x*o,C=t.y*o,g=a[0],S=g,M=w*(m-S.x)+C*(x-S.y),y,P,D;for(D=1;D<d;D+=1)S=a[D],P=w*(m-S.x)+C*(x-S.y),P<M&&(M=P,g=S);return y=a[(d+g.index-1)%d],M=w*(m-y.x)+C*(x-y.y),S=a[(g.index+1)%d],w*(m-S.x)+C*(x-S.y)<M?(i[0]=g,i[1]=S,i):(i[0]=g,i[1]=y,i)}})()},function(p,v,l){var e={};p.exports=e;var n=l(16);(function(){e.create=function(s,i){var u=s.bodyA,r=s.bodyB,f={id:e.id(u,r),bodyA:u,bodyB:r,collision:s,contacts:[n.create(),n.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||r.isSensor,timeCreated:i,timeUpdated:i,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(f,s,i),f},e.update=function(s,i,u){var r=i.supports,f=i.supportCount,c=s.contacts,t=i.parentA,o=i.parentB;s.isActive=!0,s.timeUpdated=u,s.collision=i,s.separation=i.depth,s.inverseMass=t.inverseMass+o.inverseMass,s.friction=t.friction<o.friction?t.friction:o.friction,s.frictionStatic=t.frictionStatic>o.frictionStatic?t.frictionStatic:o.frictionStatic,s.restitution=t.restitution>o.restitution?t.restitution:o.restitution,s.slop=t.slop>o.slop?t.slop:o.slop,s.contactCount=f,i.pair=s;var a=r[0],d=c[0],m=r[1],x=c[1];(x.vertex===a||d.vertex===m)&&(c[1]=d,c[0]=d=x,x=c[1]),d.vertex=a,x.vertex=m},e.setActive=function(s,i,u){i?(s.isActive=!0,s.timeUpdated=u):(s.isActive=!1,s.contactCount=0)},e.id=function(s,i){return s.id<i.id?s.id.toString(36)+":"+i.id.toString(36):i.id.toString(36)+":"+s.id.toString(36)}})()},function(p,v,l){var e={};p.exports=e;var n=l(3),s=l(2),i=l(7),u=l(1),r=l(11),f=l(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(c){var t=c;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var o=t.bodyA?s.add(t.bodyA.position,t.pointA):t.pointA,a=t.bodyB?s.add(t.bodyB.position,t.pointB):t.pointB,d=s.magnitude(s.sub(o,a));t.length=typeof t.length<"u"?t.length:d,t.id=t.id||f.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var m={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(m.type="pin",m.anchors=!1):t.stiffness<.9&&(m.type="spring"),t.render=f.extend(m,t.render),t},e.preSolveAll=function(c){for(var t=0;t<c.length;t+=1){var o=c[t],a=o.constraintImpulse;o.isStatic||a.x===0&&a.y===0&&a.angle===0||(o.position.x+=a.x,o.position.y+=a.y,o.angle+=a.angle)}},e.solveAll=function(c,t){for(var o=f.clamp(t/f._baseDelta,0,1),a=0;a<c.length;a+=1){var d=c[a],m=!d.bodyA||d.bodyA&&d.bodyA.isStatic,x=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(m||x)&&e.solve(c[a],o)}for(a=0;a<c.length;a+=1)d=c[a],m=!d.bodyA||d.bodyA&&d.bodyA.isStatic,x=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!m&&!x&&e.solve(c[a],o)},e.solve=function(c,t){var o=c.bodyA,a=c.bodyB,d=c.pointA,m=c.pointB;if(!(!o&&!a)){o&&!o.isStatic&&(s.rotate(d,o.angle-c.angleA,d),c.angleA=o.angle),a&&!a.isStatic&&(s.rotate(m,a.angle-c.angleB,m),c.angleB=a.angle);var x=d,w=m;if(o&&(x=s.add(o.position,d)),a&&(w=s.add(a.position,m)),!(!x||!w)){var C=s.sub(x,w),g=s.magnitude(C);g<e._minLength&&(g=e._minLength);var S=(g-c.length)/g,M=c.stiffness>=1||c.length===0,y=M?c.stiffness*t:c.stiffness*t*t,P=c.damping*t,D=s.mult(C,S*y),O=(o?o.inverseMass:0)+(a?a.inverseMass:0),T=(o?o.inverseInertia:0)+(a?a.inverseInertia:0),L=O+T,I,E,R,k,V;if(P>0){var q=s.create();R=s.div(C,g),V=s.sub(a&&s.sub(a.position,a.positionPrev)||q,o&&s.sub(o.position,o.positionPrev)||q),k=s.dot(R,V)}o&&!o.isStatic&&(E=o.inverseMass/O,o.constraintImpulse.x-=D.x*E,o.constraintImpulse.y-=D.y*E,o.position.x-=D.x*E,o.position.y-=D.y*E,P>0&&(o.positionPrev.x-=P*R.x*k*E,o.positionPrev.y-=P*R.y*k*E),I=s.cross(d,D)/L*e._torqueDampen*o.inverseInertia*(1-c.angularStiffness),o.constraintImpulse.angle-=I,o.angle-=I),a&&!a.isStatic&&(E=a.inverseMass/O,a.constraintImpulse.x+=D.x*E,a.constraintImpulse.y+=D.y*E,a.position.x+=D.x*E,a.position.y+=D.y*E,P>0&&(a.positionPrev.x+=P*R.x*k*E,a.positionPrev.y+=P*R.y*k*E),I=s.cross(m,D)/L*e._torqueDampen*a.inverseInertia*(1-c.angularStiffness),a.constraintImpulse.angle+=I,a.angle+=I)}}},e.postSolveAll=function(c){for(var t=0;t<c.length;t++){var o=c[t],a=o.constraintImpulse;if(!(o.isStatic||a.x===0&&a.y===0&&a.angle===0)){i.set(o,!1);for(var d=0;d<o.parts.length;d++){var m=o.parts[d];n.translate(m.vertices,a),d>0&&(m.position.x+=a.x,m.position.y+=a.y),a.angle!==0&&(n.rotate(m.vertices,a.angle,o.position),r.rotate(m.axes,a.angle),d>0&&s.rotateAbout(m.position,a.angle,o.position,m.position)),u.update(m.bounds,m.vertices,o.velocity)}a.angle*=e._warming,a.x*=e._warming,a.y*=e._warming}}},e.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},e.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},e.currentLength=function(c){var t=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),o=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),a=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),d=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),m=t-a,x=o-d;return Math.sqrt(m*m+x*x)}})()},function(p,v,l){var e={};p.exports=e;var n=l(2),s=l(0);(function(){e.fromVertices=function(i){for(var u={},r=0;r<i.length;r++){var f=(r+1)%i.length,c=n.normalise({x:i[f].y-i[r].y,y:i[r].x-i[f].x}),t=c.y===0?1/0:c.x/c.y;t=t.toFixed(3).toString(),u[t]=c}return s.values(u)},e.rotate=function(i,u){if(u!==0)for(var r=Math.cos(u),f=Math.sin(u),c=0;c<i.length;c++){var t=i[c],o;o=t.x*r-t.y*f,t.y=t.x*f+t.y*r,t.x=o}}})()},function(p,v,l){var e={};p.exports=e;var n=l(3),s=l(0),i=l(4),u=l(1),r=l(2);(function(){e.rectangle=function(f,c,t,o,a){a=a||{};var d={label:"Rectangle Body",position:{x:f,y:c},vertices:n.fromPath("L 0 0 L "+t+" 0 L "+t+" "+o+" L 0 "+o)};if(a.chamfer){var m=a.chamfer;d.vertices=n.chamfer(d.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete a.chamfer}return i.create(s.extend({},d,a))},e.trapezoid=function(f,c,t,o,a,d){d=d||{},a>=1&&s.warn("Bodies.trapezoid: slope parameter must be < 1."),a*=.5;var m=(1-a*2)*t,x=t*a,w=x+m,C=w+x,g;a<.5?g="L 0 0 L "+x+" "+-o+" L "+w+" "+-o+" L "+C+" 0":g="L 0 0 L "+w+" "+-o+" L "+C+" 0";var S={label:"Trapezoid Body",position:{x:f,y:c},vertices:n.fromPath(g)};if(d.chamfer){var M=d.chamfer;S.vertices=n.chamfer(S.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete d.chamfer}return i.create(s.extend({},S,d))},e.circle=function(f,c,t,o,a){o=o||{};var d={label:"Circle Body",circleRadius:t};a=a||25;var m=Math.ceil(Math.max(10,Math.min(a,t)));return m%2===1&&(m+=1),e.polygon(f,c,m,t,s.extend({},d,o))},e.polygon=function(f,c,t,o,a){if(a=a||{},t<3)return e.circle(f,c,o,a);for(var d=2*Math.PI/t,m="",x=d*.5,w=0;w<t;w+=1){var C=x+w*d,g=Math.cos(C)*o,S=Math.sin(C)*o;m+="L "+g.toFixed(3)+" "+S.toFixed(3)+" "}var M={label:"Polygon Body",position:{x:f,y:c},vertices:n.fromPath(m)};if(a.chamfer){var y=a.chamfer;M.vertices=n.chamfer(M.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete a.chamfer}return i.create(s.extend({},M,a))},e.fromVertices=function(f,c,t,o,a,d,m,x){var w=s.getDecomp(),C,g,S,M,y,P,D,O,T,L,I;for(C=!!(w&&w.quickDecomp),o=o||{},S=[],a=typeof a<"u"?a:!1,d=typeof d<"u"?d:.01,m=typeof m<"u"?m:10,x=typeof x<"u"?x:.01,s.isArray(t[0])||(t=[t]),L=0;L<t.length;L+=1)if(P=t[L],M=n.isConvex(P),y=!M,y&&!C&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),M||!C)M?P=n.clockwiseSort(P):P=n.hull(P),S.push({position:{x:f,y:c},vertices:P});else{var E=P.map(function(W){return[W.x,W.y]});w.makeCCW(E),d!==!1&&w.removeCollinearPoints(E,d),x!==!1&&w.removeDuplicatePoints&&w.removeDuplicatePoints(E,x);var R=w.quickDecomp(E);for(D=0;D<R.length;D++){var k=R[D],V=k.map(function(W){return{x:W[0],y:W[1]}});m>0&&n.area(V)<m||S.push({position:n.centre(V),vertices:V})}}for(D=0;D<S.length;D++)S[D]=i.create(s.extend(S[D],o));if(a){var q=5;for(D=0;D<S.length;D++){var X=S[D];for(O=D+1;O<S.length;O++){var G=S[O];if(u.overlaps(X.bounds,G.bounds)){var K=X.vertices,Z=G.vertices;for(T=0;T<X.vertices.length;T++)for(I=0;I<G.vertices.length;I++){var ee=r.magnitudeSquared(r.sub(K[(T+1)%K.length],Z[I])),ie=r.magnitudeSquared(r.sub(K[T],Z[(I+1)%Z.length]));ee<q&&ie<q&&(K[T].isInternal=!0,Z[I].isInternal=!0)}}}}}return S.length>1?(g=i.create(s.extend({parts:S.slice(0)},o)),i.setPosition(g,{x:f,y:c}),g):S[0]}})()},function(p,v,l){var e={};p.exports=e;var n=l(0),s=l(8);(function(){e.create=function(i){var u={bodies:[],collisions:[],pairs:null};return n.extend(u,i)},e.setBodies=function(i,u){i.bodies=u.slice(0)},e.clear=function(i){i.bodies=[],i.collisions=[]},e.collisions=function(i){var u=i.pairs,r=i.bodies,f=r.length,c=e.canCollide,t=s.collides,o=i.collisions,a=0,d,m;for(r.sort(e._compareBoundsX),d=0;d<f;d++){var x=r[d],w=x.bounds,C=x.bounds.max.x,g=x.bounds.max.y,S=x.bounds.min.y,M=x.isStatic||x.isSleeping,y=x.parts.length,P=y===1;for(m=d+1;m<f;m++){var D=r[m],O=D.bounds;if(O.min.x>C)break;if(!(g<O.min.y||S>O.max.y)&&!(M&&(D.isStatic||D.isSleeping))&&c(x.collisionFilter,D.collisionFilter)){var T=D.parts.length;if(P&&T===1){var L=t(x,D,u);L&&(o[a++]=L)}else for(var I=y>1?1:0,E=T>1?1:0,R=I;R<y;R++)for(var k=x.parts[R],w=k.bounds,V=E;V<T;V++){var q=D.parts[V],O=q.bounds;if(!(w.min.x>O.max.x||w.max.x<O.min.x||w.max.y<O.min.y||w.min.y>O.max.y)){var L=t(k,q,u);L&&(o[a++]=L)}}}}}return o.length!==a&&(o.length=a),o},e.canCollide=function(i,u){return i.group===u.group&&i.group!==0?i.group>0:(i.mask&u.category)!==0&&(u.mask&i.category)!==0},e._compareBoundsX=function(i,u){return i.bounds.min.x-u.bounds.min.x}})()},function(p,v,l){var e={};p.exports=e;var n=l(0);(function(){e.create=function(s){var i={};return s||n.log("Mouse.create: element was undefined, defaulting to document.body","warn"),i.element=s||document.body,i.absolute={x:0,y:0},i.position={x:0,y:0},i.mousedownPosition={x:0,y:0},i.mouseupPosition={x:0,y:0},i.offset={x:0,y:0},i.scale={x:1,y:1},i.wheelDelta=0,i.button=-1,i.pixelRatio=parseInt(i.element.getAttribute("data-pixel-ratio"),10)||1,i.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},i.mousemove=function(u){var r=e._getRelativeMousePosition(u,i.element,i.pixelRatio),f=u.changedTouches;f&&(i.button=0,u.preventDefault()),i.absolute.x=r.x,i.absolute.y=r.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.sourceEvents.mousemove=u},i.mousedown=function(u){var r=e._getRelativeMousePosition(u,i.element,i.pixelRatio),f=u.changedTouches;f?(i.button=0,u.preventDefault()):i.button=u.button,i.absolute.x=r.x,i.absolute.y=r.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mousedownPosition.x=i.position.x,i.mousedownPosition.y=i.position.y,i.sourceEvents.mousedown=u},i.mouseup=function(u){var r=e._getRelativeMousePosition(u,i.element,i.pixelRatio),f=u.changedTouches;f&&u.preventDefault(),i.button=-1,i.absolute.x=r.x,i.absolute.y=r.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mouseupPosition.x=i.position.x,i.mouseupPosition.y=i.position.y,i.sourceEvents.mouseup=u},i.mousewheel=function(u){i.wheelDelta=Math.max(-1,Math.min(1,u.wheelDelta||-u.detail)),u.preventDefault(),i.sourceEvents.mousewheel=u},e.setElement(i,i.element),i},e.setElement=function(s,i){s.element=i,i.addEventListener("mousemove",s.mousemove,{passive:!0}),i.addEventListener("mousedown",s.mousedown,{passive:!0}),i.addEventListener("mouseup",s.mouseup,{passive:!0}),i.addEventListener("wheel",s.mousewheel,{passive:!1}),i.addEventListener("touchmove",s.mousemove,{passive:!1}),i.addEventListener("touchstart",s.mousedown,{passive:!1}),i.addEventListener("touchend",s.mouseup,{passive:!1})},e.clearSourceEvents=function(s){s.sourceEvents.mousemove=null,s.sourceEvents.mousedown=null,s.sourceEvents.mouseup=null,s.sourceEvents.mousewheel=null,s.wheelDelta=0},e.setOffset=function(s,i){s.offset.x=i.x,s.offset.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e.setScale=function(s,i){s.scale.x=i.x,s.scale.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e._getRelativeMousePosition=function(s,i,u){var r=i.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,c=window.pageXOffset!==void 0?window.pageXOffset:f.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:f.scrollTop,o=s.changedTouches,a,d;return o?(a=o[0].pageX-r.left-c,d=o[0].pageY-r.top-t):(a=s.pageX-r.left-c,d=s.pageY-r.top-t),{x:a/(i.clientWidth/(i.width||i.clientWidth)*u),y:d/(i.clientHeight/(i.height||i.clientHeight)*u)}}})()},function(p,v,l){var e={};p.exports=e;var n=l(0);(function(){e._registry={},e.register=function(s){if(e.isPlugin(s)||n.warn("Plugin.register:",e.toString(s),"does not implement all required fields."),s.name in e._registry){var i=e._registry[s.name],u=e.versionParse(s.version).number,r=e.versionParse(i.version).number;u>r?(n.warn("Plugin.register:",e.toString(i),"was upgraded to",e.toString(s)),e._registry[s.name]=s):u<r?n.warn("Plugin.register:",e.toString(i),"can not be downgraded to",e.toString(s)):s!==i&&n.warn("Plugin.register:",e.toString(s),"is already registered to different plugin object")}else e._registry[s.name]=s;return s},e.resolve=function(s){return e._registry[e.dependencyParse(s).name]},e.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},e.isPlugin=function(s){return s&&s.name&&s.version&&s.install},e.isUsed=function(s,i){return s.used.indexOf(i)>-1},e.isFor=function(s,i){var u=s.for&&e.dependencyParse(s.for);return!s.for||i.name===u.name&&e.versionSatisfies(i.version,u.range)},e.use=function(s,i){if(s.uses=(s.uses||[]).concat(i||[]),s.uses.length===0){n.warn("Plugin.use:",e.toString(s),"does not specify any dependencies to install.");return}for(var u=e.dependencies(s),r=n.topologicalSort(u),f=[],c=0;c<r.length;c+=1)if(r[c]!==s.name){var t=e.resolve(r[c]);if(!t){f.push(" "+r[c]);continue}e.isUsed(s,t.name)||(e.isFor(t,s)||(n.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(s)+"."),t._warned=!0),t.install?t.install(s):(n.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(f.push(" "+e.toString(t)),delete t._warned):f.push(" "+e.toString(t)),s.used.push(t.name))}f.length>0&&n.info(f.join("  "))},e.dependencies=function(s,i){var u=e.dependencyParse(s),r=u.name;if(i=i||{},!(r in i)){s=e.resolve(s)||s,i[r]=n.map(s.uses||[],function(c){e.isPlugin(c)&&e.register(c);var t=e.dependencyParse(c),o=e.resolve(c);return o&&!e.versionSatisfies(o.version,t.range)?(n.warn("Plugin.dependencies:",e.toString(o),"does not satisfy",e.toString(t),"used by",e.toString(u)+"."),o._warned=!0,s._warned=!0):o||(n.warn("Plugin.dependencies:",e.toString(c),"used by",e.toString(u),"could not be resolved."),s._warned=!0),t.name});for(var f=0;f<i[r].length;f+=1)e.dependencies(i[r][f],i);return i}},e.dependencyParse=function(s){if(n.isString(s)){var i=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return i.test(s)||n.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},e.versionParse=function(s){var i=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;i.test(s)||n.warn("Plugin.versionParse:",s,"is not a valid version or range.");var u=i.exec(s),r=Number(u[4]),f=Number(u[5]),c=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:s,operator:u[1]||u[2]||"",major:r,minor:f,patch:c,parts:[r,f,c],prerelease:u[7],number:r*1e8+f*1e4+c}},e.versionSatisfies=function(s,i){i=i||"*";var u=e.versionParse(i),r=e.versionParse(s);if(u.isRange){if(u.operator==="*"||s==="*")return!0;if(u.operator===">")return r.number>u.number;if(u.operator===">=")return r.number>=u.number;if(u.operator==="~")return r.major===u.major&&r.minor===u.minor&&r.patch>=u.patch;if(u.operator==="^")return u.major>0?r.major===u.major&&r.number>=u.number:u.minor>0?r.minor===u.minor&&r.patch>=u.patch:r.patch===u.patch}return s===i||s==="*"}})()},function(p,v){var l={};p.exports=l,function(){l.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(p,v,l){var e={};p.exports=e;var n=l(7),s=l(18),i=l(13),u=l(19),r=l(5),f=l(6),c=l(10),t=l(0),o=l(4);(function(){e._deltaMax=1e3/60,e.create=function(a){a=a||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},m=t.extend(d,a);return m.world=a.world||f.create({label:"World"}),m.pairs=a.pairs||u.create(),m.detector=a.detector||i.create(),m.detector.pairs=m.pairs,m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},e.update=function(a,d){var m=t.now(),x=a.world,w=a.detector,C=a.pairs,g=a.timing,S=g.timestamp,M;d>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:t._baseDelta,d*=g.timeScale,g.timestamp+=d,g.lastDelta=d;var y={timestamp:g.timestamp,delta:d};r.trigger(a,"beforeUpdate",y);var P=f.allBodies(x),D=f.allConstraints(x);for(x.isModified&&(i.setBodies(w,P),f.setModified(x,!1,!1,!0)),a.enableSleeping&&n.update(P,d),e._bodiesApplyGravity(P,a.gravity),d>0&&e._bodiesUpdate(P,d),r.trigger(a,"beforeSolve",y),c.preSolveAll(P),M=0;M<a.constraintIterations;M++)c.solveAll(D,d);c.postSolveAll(P);var O=i.collisions(w);u.update(C,O,S),a.enableSleeping&&n.afterCollisions(C.list),C.collisionStart.length>0&&r.trigger(a,"collisionStart",{pairs:C.collisionStart,timestamp:g.timestamp,delta:d});var T=t.clamp(20/a.positionIterations,0,1);for(s.preSolvePosition(C.list),M=0;M<a.positionIterations;M++)s.solvePosition(C.list,d,T);for(s.postSolvePosition(P),c.preSolveAll(P),M=0;M<a.constraintIterations;M++)c.solveAll(D,d);for(c.postSolveAll(P),s.preSolveVelocity(C.list),M=0;M<a.velocityIterations;M++)s.solveVelocity(C.list,d);return e._bodiesUpdateVelocities(P),C.collisionActive.length>0&&r.trigger(a,"collisionActive",{pairs:C.collisionActive,timestamp:g.timestamp,delta:d}),C.collisionEnd.length>0&&r.trigger(a,"collisionEnd",{pairs:C.collisionEnd,timestamp:g.timestamp,delta:d}),e._bodiesClearForces(P),r.trigger(a,"afterUpdate",y),a.timing.lastElapsed=t.now()-m,a},e.merge=function(a,d){if(t.extend(a,d),d.world){a.world=d.world,e.clear(a);for(var m=f.allBodies(a.world),x=0;x<m.length;x++){var w=m[x];n.set(w,!1),w.id=t.nextId()}}},e.clear=function(a){u.clear(a.pairs),i.clear(a.detector)},e._bodiesClearForces=function(a){for(var d=a.length,m=0;m<d;m++){var x=a[m];x.force.x=0,x.force.y=0,x.torque=0}},e._bodiesApplyGravity=function(a,d){var m=typeof d.scale<"u"?d.scale:.001,x=a.length;if(!(d.x===0&&d.y===0||m===0))for(var w=0;w<x;w++){var C=a[w];C.isStatic||C.isSleeping||(C.force.y+=C.mass*d.y*m,C.force.x+=C.mass*d.x*m)}},e._bodiesUpdate=function(a,d){for(var m=a.length,x=0;x<m;x++){var w=a[x];w.isStatic||w.isSleeping||o.update(w,d)}},e._bodiesUpdateVelocities=function(a){for(var d=a.length,m=0;m<d;m++)o.updateVelocities(a[m])}})()},function(p,v,l){var e={};p.exports=e;var n=l(3),s=l(0),i=l(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(u){var r,f,c,t=u.length;for(r=0;r<t;r++)f=u[r],f.isActive&&(c=f.contactCount,f.collision.parentA.totalContacts+=c,f.collision.parentB.totalContacts+=c)},e.solvePosition=function(u,r,f){var c,t,o,a,d,m,x,w,C=e._positionDampen*(f||1),g=s.clamp(r/s._baseDelta,0,1),S=u.length;for(c=0;c<S;c++)t=u[c],!(!t.isActive||t.isSensor)&&(o=t.collision,a=o.parentA,d=o.parentB,m=o.normal,t.separation=o.depth+m.x*(d.positionImpulse.x-a.positionImpulse.x)+m.y*(d.positionImpulse.y-a.positionImpulse.y));for(c=0;c<S;c++)t=u[c],!(!t.isActive||t.isSensor)&&(o=t.collision,a=o.parentA,d=o.parentB,m=o.normal,w=t.separation-t.slop*g,(a.isStatic||d.isStatic)&&(w*=2),a.isStatic||a.isSleeping||(x=C/a.totalContacts,a.positionImpulse.x+=m.x*w*x,a.positionImpulse.y+=m.y*w*x),d.isStatic||d.isSleeping||(x=C/d.totalContacts,d.positionImpulse.x-=m.x*w*x,d.positionImpulse.y-=m.y*w*x))},e.postSolvePosition=function(u){for(var r=e._positionWarming,f=u.length,c=n.translate,t=i.update,o=0;o<f;o++){var a=u[o],d=a.positionImpulse,m=d.x,x=d.y,w=a.velocity;if(a.totalContacts=0,m!==0||x!==0){for(var C=0;C<a.parts.length;C++){var g=a.parts[C];c(g.vertices,d),t(g.bounds,g.vertices,w),g.position.x+=m,g.position.y+=x}a.positionPrev.x+=m,a.positionPrev.y+=x,m*w.x+x*w.y<0?(d.x=0,d.y=0):(d.x*=r,d.y*=r)}}},e.preSolveVelocity=function(u){var r=u.length,f,c;for(f=0;f<r;f++){var t=u[f];if(!(!t.isActive||t.isSensor)){var o=t.contacts,a=t.contactCount,d=t.collision,m=d.parentA,x=d.parentB,w=d.normal,C=d.tangent;for(c=0;c<a;c++){var g=o[c],S=g.vertex,M=g.normalImpulse,y=g.tangentImpulse;if(M!==0||y!==0){var P=w.x*M+C.x*y,D=w.y*M+C.y*y;m.isStatic||m.isSleeping||(m.positionPrev.x+=P*m.inverseMass,m.positionPrev.y+=D*m.inverseMass,m.anglePrev+=m.inverseInertia*((S.x-m.position.x)*D-(S.y-m.position.y)*P)),x.isStatic||x.isSleeping||(x.positionPrev.x-=P*x.inverseMass,x.positionPrev.y-=D*x.inverseMass,x.anglePrev-=x.inverseInertia*((S.x-x.position.x)*D-(S.y-x.position.y)*P))}}}}},e.solveVelocity=function(u,r){var f=r/s._baseDelta,c=f*f,t=c*f,o=-e._restingThresh*f,a=e._restingThreshTangent,d=e._frictionNormalMultiplier*f,m=e._frictionMaxStatic,x=u.length,w,C,g,S;for(g=0;g<x;g++){var M=u[g];if(!(!M.isActive||M.isSensor)){var y=M.collision,P=y.parentA,D=y.parentB,O=y.normal.x,T=y.normal.y,L=y.tangent.x,I=y.tangent.y,E=M.inverseMass,R=M.friction*M.frictionStatic*d,k=M.contacts,V=M.contactCount,q=1/V,X=P.position.x-P.positionPrev.x,G=P.position.y-P.positionPrev.y,K=P.angle-P.anglePrev,Z=D.position.x-D.positionPrev.x,ee=D.position.y-D.positionPrev.y,ie=D.angle-D.anglePrev;for(S=0;S<V;S++){var W=k[S],Q=W.vertex,N=Q.x-P.position.x,oe=Q.y-P.position.y,Y=Q.x-D.position.x,U=Q.y-D.position.y,B=X-oe*K,$=G+N*K,j=Z-U*ie,re=ee+Y*ie,le=B-j,ce=$-re,ue=O*le+T*ce,te=L*le+I*ce,he=M.separation+ue,me=Math.min(he,1);me=he<0?0:me;var De=me*R;te<-De||te>De?(C=te>0?te:-te,w=M.friction*(te>0?1:-1)*t,w<-C?w=-C:w>C&&(w=C)):(w=te,C=m);var Pe=N*T-oe*O,Te=Y*T-U*O,Ae=q/(E+P.inverseInertia*Pe*Pe+D.inverseInertia*Te*Te),Oe=(1+M.restitution)*ue*Ae;if(w*=Ae,ue<o)W.normalImpulse=0;else{var qe=W.normalImpulse;W.normalImpulse+=Oe,W.normalImpulse>0&&(W.normalImpulse=0),Oe=W.normalImpulse-qe}if(te<-a||te>a)W.tangentImpulse=0;else{var Ge=W.tangentImpulse;W.tangentImpulse+=w,W.tangentImpulse<-C&&(W.tangentImpulse=-C),W.tangentImpulse>C&&(W.tangentImpulse=C),w=W.tangentImpulse-Ge}var xe=O*Oe+L*w,fe=T*Oe+I*w;P.isStatic||P.isSleeping||(P.positionPrev.x+=xe*P.inverseMass,P.positionPrev.y+=fe*P.inverseMass,P.anglePrev+=(N*fe-oe*xe)*P.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=xe*D.inverseMass,D.positionPrev.y-=fe*D.inverseMass,D.anglePrev-=(Y*fe-U*xe)*D.inverseInertia)}}}}})()},function(p,v,l){var e={};p.exports=e;var n=l(9),s=l(0);(function(){e.create=function(i){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},i)},e.update=function(i,u,r){var f=n.update,c=n.create,t=n.setActive,o=i.table,a=i.list,d=a.length,m=d,x=i.collisionStart,w=i.collisionEnd,C=i.collisionActive,g=u.length,S=0,M=0,y=0,P,D,O;for(O=0;O<g;O++)P=u[O],D=P.pair,D?(D.isActive&&(C[y++]=D),f(D,P,r)):(D=c(P,r),o[D.id]=D,x[S++]=D,a[m++]=D);for(m=0,d=a.length,O=0;O<d;O++)D=a[O],D.timeUpdated>=r?a[m++]=D:(t(D,!1,r),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?a[m++]=D:(w[M++]=D,delete o[D.id]));a.length!==m&&(a.length=m),x.length!==S&&(x.length=S),w.length!==M&&(w.length=M),C.length!==y&&(C.length=y)},e.clear=function(i){return i.table={},i.list.length=0,i.collisionStart.length=0,i.collisionActive.length=0,i.collisionEnd.length=0,i}})()},function(p,v,l){var e=p.exports=l(21);e.Axes=l(11),e.Bodies=l(12),e.Body=l(4),e.Bounds=l(1),e.Collision=l(8),e.Common=l(0),e.Composite=l(6),e.Composites=l(22),e.Constraint=l(10),e.Contact=l(16),e.Detector=l(13),e.Engine=l(17),e.Events=l(5),e.Grid=l(23),e.Mouse=l(14),e.MouseConstraint=l(24),e.Pair=l(9),e.Pairs=l(19),e.Plugin=l(15),e.Query=l(25),e.Render=l(26),e.Resolver=l(18),e.Runner=l(27),e.SAT=l(28),e.Sleeping=l(7),e.Svg=l(29),e.Vector=l(2),e.Vertices=l(3),e.World=l(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(p,v,l){var e={};p.exports=e;var n=l(15),s=l(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){n.use(e,Array.prototype.slice.call(arguments))},e.before=function(i,u){return i=i.replace(/^Matter./,""),s.chainPathBefore(e,i,u)},e.after=function(i,u){return i=i.replace(/^Matter./,""),s.chainPathAfter(e,i,u)}})()},function(p,v,l){var e={};p.exports=e;var n=l(6),s=l(10),i=l(0),u=l(4),r=l(12),f=i.deprecated;(function(){e.stack=function(c,t,o,a,d,m,x){for(var w=n.create({label:"Stack"}),C=c,g=t,S,M=0,y=0;y<a;y++){for(var P=0,D=0;D<o;D++){var O=x(C,g,D,y,S,M);if(O){var T=O.bounds.max.y-O.bounds.min.y,L=O.bounds.max.x-O.bounds.min.x;T>P&&(P=T),u.translate(O,{x:L*.5,y:T*.5}),C=O.bounds.max.x+d,n.addBody(w,O),S=O,M+=1}else C+=d}g+=P+m,C=c}return w},e.chain=function(c,t,o,a,d,m){for(var x=c.bodies,w=1;w<x.length;w++){var C=x[w-1],g=x[w],S=C.bounds.max.y-C.bounds.min.y,M=C.bounds.max.x-C.bounds.min.x,y=g.bounds.max.y-g.bounds.min.y,P=g.bounds.max.x-g.bounds.min.x,D={bodyA:C,pointA:{x:M*t,y:S*o},bodyB:g,pointB:{x:P*a,y:y*d}},O=i.extend(D,m);n.addConstraint(c,s.create(O))}return c.label+=" Chain",c},e.mesh=function(c,t,o,a,d){var m=c.bodies,x,w,C,g,S;for(x=0;x<o;x++){for(w=1;w<t;w++)C=m[w-1+x*t],g=m[w+x*t],n.addConstraint(c,s.create(i.extend({bodyA:C,bodyB:g},d)));if(x>0)for(w=0;w<t;w++)C=m[w+(x-1)*t],g=m[w+x*t],n.addConstraint(c,s.create(i.extend({bodyA:C,bodyB:g},d))),a&&w>0&&(S=m[w-1+(x-1)*t],n.addConstraint(c,s.create(i.extend({bodyA:S,bodyB:g},d)))),a&&w<t-1&&(S=m[w+1+(x-1)*t],n.addConstraint(c,s.create(i.extend({bodyA:S,bodyB:g},d))))}return c.label+=" Mesh",c},e.pyramid=function(c,t,o,a,d,m,x){return e.stack(c,t,o,a,d,m,function(w,C,g,S,M,y){var P=Math.min(a,Math.ceil(o/2)),D=M?M.bounds.max.x-M.bounds.min.x:0;if(!(S>P)){S=P-S;var O=S,T=o-1-S;if(!(g<O||g>T)){y===1&&u.translate(M,{x:(g+(o%2===1?1:-1))*D,y:0});var L=M?g*D:0;return x(c+L+g*d,C,g,S,M,y)}}})},e.newtonsCradle=function(c,t,o,a,d){for(var m=n.create({label:"Newtons Cradle"}),x=0;x<o;x++){var w=1.9,C=r.circle(c+x*(a*w),t+d,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),g=s.create({pointA:{x:c+x*(a*w),y:t},bodyB:C});n.addBody(m,C),n.addConstraint(m,g)}return m},f(e,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),e.car=function(c,t,o,a,d){var m=u.nextGroup(!0),x=20,w=-o*.5+x,C=o*.5-x,g=0,S=n.create({label:"Car"}),M=r.rectangle(c,t,o,a,{collisionFilter:{group:m},chamfer:{radius:a*.5},density:2e-4}),y=r.circle(c+w,t+g,d,{collisionFilter:{group:m},friction:.8}),P=r.circle(c+C,t+g,d,{collisionFilter:{group:m},friction:.8}),D=s.create({bodyB:M,pointB:{x:w,y:g},bodyA:y,stiffness:1,length:0}),O=s.create({bodyB:M,pointB:{x:C,y:g},bodyA:P,stiffness:1,length:0});return n.addBody(S,M),n.addBody(S,y),n.addBody(S,P),n.addConstraint(S,D),n.addConstraint(S,O),S},f(e,"car","Composites.car  moved to car example"),e.softBody=function(c,t,o,a,d,m,x,w,C,g){C=i.extend({inertia:1/0},C),g=i.extend({stiffness:.2,render:{type:"line",anchors:!1}},g);var S=e.stack(c,t,o,a,d,m,function(M,y){return r.circle(M,y,w,C)});return e.mesh(S,o,a,x,g),S.label="Soft Body",S},f(e,"softBody","Composites.softBody  moved to softBody and cloth examples")})()},function(p,v,l){var e={};p.exports=e;var n=l(9),s=l(0),i=s.deprecated;(function(){e.create=function(u){var r={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(r,u)},e.update=function(u,r,f,c){var t,o,a,d=f.world,m=u.buckets,x,w,C=!1;for(t=0;t<r.length;t++){var g=r[t];if(!(g.isSleeping&&!c)&&!(d.bounds&&(g.bounds.max.x<d.bounds.min.x||g.bounds.min.x>d.bounds.max.x||g.bounds.max.y<d.bounds.min.y||g.bounds.min.y>d.bounds.max.y))){var S=e._getRegion(u,g);if(!g.region||S.id!==g.region.id||c){(!g.region||c)&&(g.region=S);var M=e._regionUnion(S,g.region);for(o=M.startCol;o<=M.endCol;o++)for(a=M.startRow;a<=M.endRow;a++){w=e._getBucketId(o,a),x=m[w];var y=o>=S.startCol&&o<=S.endCol&&a>=S.startRow&&a<=S.endRow,P=o>=g.region.startCol&&o<=g.region.endCol&&a>=g.region.startRow&&a<=g.region.endRow;!y&&P&&P&&x&&e._bucketRemoveBody(u,x,g),(g.region===S||y&&!P||c)&&(x||(x=e._createBucket(m,w)),e._bucketAddBody(u,x,g))}g.region=S,C=!0}}}C&&(u.pairsList=e._createActivePairsList(u))},i(e,"update","Grid.update  replaced by Matter.Detector"),e.clear=function(u){u.buckets={},u.pairs={},u.pairsList=[]},i(e,"clear","Grid.clear  replaced by Matter.Detector"),e._regionUnion=function(u,r){var f=Math.min(u.startCol,r.startCol),c=Math.max(u.endCol,r.endCol),t=Math.min(u.startRow,r.startRow),o=Math.max(u.endRow,r.endRow);return e._createRegion(f,c,t,o)},e._getRegion=function(u,r){var f=r.bounds,c=Math.floor(f.min.x/u.bucketWidth),t=Math.floor(f.max.x/u.bucketWidth),o=Math.floor(f.min.y/u.bucketHeight),a=Math.floor(f.max.y/u.bucketHeight);return e._createRegion(c,t,o,a)},e._createRegion=function(u,r,f,c){return{id:u+","+r+","+f+","+c,startCol:u,endCol:r,startRow:f,endRow:c}},e._getBucketId=function(u,r){return"C"+u+"R"+r},e._createBucket=function(u,r){var f=u[r]=[];return f},e._bucketAddBody=function(u,r,f){var c=u.pairs,t=n.id,o=r.length,a;for(a=0;a<o;a++){var d=r[a];if(!(f.id===d.id||f.isStatic&&d.isStatic)){var m=t(f,d),x=c[m];x?x[2]+=1:c[m]=[f,d,1]}}r.push(f)},e._bucketRemoveBody=function(u,r,f){var c=u.pairs,t=n.id,o;r.splice(s.indexOf(r,f),1);var a=r.length;for(o=0;o<a;o++){var d=c[t(f,r[o])];d&&(d[2]-=1)}},e._createActivePairsList=function(u){var r,f=u.pairs,c=s.keys(f),t=c.length,o=[],a;for(a=0;a<t;a++)r=f[c[a]],r[2]>0?o.push(r):delete f[c[a]];return o}})()},function(p,v,l){var e={};p.exports=e;var n=l(3),s=l(7),i=l(14),u=l(5),r=l(13),f=l(10),c=l(6),t=l(0),o=l(1);(function(){e.create=function(a,d){var m=(a?a.mouse:null)||(d?d.mouse:null);m||(a&&a.render&&a.render.canvas?m=i.create(a.render.canvas):d&&d.element?m=i.create(d.element):(m=i.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var x=f.create({label:"Mouse Constraint",pointA:m.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),w={type:"mouseConstraint",mouse:m,element:null,body:null,constraint:x,collisionFilter:{category:1,mask:4294967295,group:0}},C=t.extend(w,d);return u.on(a,"beforeUpdate",function(){var g=c.allBodies(a.world);e.update(C,g),e._triggerEvents(C)}),C},e.update=function(a,d){var m=a.mouse,x=a.constraint,w=a.body;if(m.button===0){if(x.bodyB)s.set(x.bodyB,!1),x.pointA=m.position;else for(var C=0;C<d.length;C++)if(w=d[C],o.contains(w.bounds,m.position)&&r.canCollide(w.collisionFilter,a.collisionFilter))for(var g=w.parts.length>1?1:0;g<w.parts.length;g++){var S=w.parts[g];if(n.contains(S.vertices,m.position)){x.pointA=m.position,x.bodyB=a.body=w,x.pointB={x:m.position.x-w.position.x,y:m.position.y-w.position.y},x.angleB=w.angle,s.set(w,!1),u.trigger(a,"startdrag",{mouse:m,body:w});break}}}else x.bodyB=a.body=null,x.pointB=null,w&&u.trigger(a,"enddrag",{mouse:m,body:w})},e._triggerEvents=function(a){var d=a.mouse,m=d.sourceEvents;m.mousemove&&u.trigger(a,"mousemove",{mouse:d}),m.mousedown&&u.trigger(a,"mousedown",{mouse:d}),m.mouseup&&u.trigger(a,"mouseup",{mouse:d}),i.clearSourceEvents(d)}})()},function(p,v,l){var e={};p.exports=e;var n=l(2),s=l(8),i=l(1),u=l(12),r=l(3);(function(){e.collides=function(f,c){for(var t=[],o=c.length,a=f.bounds,d=s.collides,m=i.overlaps,x=0;x<o;x++){var w=c[x],C=w.parts.length,g=C===1?0:1;if(m(w.bounds,a))for(var S=g;S<C;S++){var M=w.parts[S];if(m(M.bounds,a)){var y=d(M,f);if(y){t.push(y);break}}}}return t},e.ray=function(f,c,t,o){o=o||1e-100;for(var a=n.angle(c,t),d=n.magnitude(n.sub(c,t)),m=(t.x+c.x)*.5,x=(t.y+c.y)*.5,w=u.rectangle(m,x,d,o,{angle:a}),C=e.collides(w,f),g=0;g<C.length;g+=1){var S=C[g];S.body=S.bodyB=S.bodyA}return C},e.region=function(f,c,t){for(var o=[],a=0;a<f.length;a++){var d=f[a],m=i.overlaps(d.bounds,c);(m&&!t||!m&&t)&&o.push(d)}return o},e.point=function(f,c){for(var t=[],o=0;o<f.length;o++){var a=f[o];if(i.contains(a.bounds,c))for(var d=a.parts.length===1?0:1;d<a.parts.length;d++){var m=a.parts[d];if(i.contains(m.bounds,c)&&r.contains(m.vertices,c)){t.push(a);break}}}return t}})()},function(p,v,l){var e={};p.exports=e;var n=l(4),s=l(0),i=l(6),u=l(1),r=l(5),f=l(2),c=l(14);(function(){var t,o;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(g){window.setTimeout(function(){g(s.now())},1e3/60)},o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(g){var S={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!g.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},M=s.extend(S,g);return M.canvas&&(M.canvas.width=M.options.width||M.canvas.width,M.canvas.height=M.options.height||M.canvas.height),M.mouse=g.mouse,M.engine=g.engine,M.canvas=M.canvas||m(M.options.width,M.options.height),M.context=M.canvas.getContext("2d"),M.textures={},M.bounds=M.bounds||{min:{x:0,y:0},max:{x:M.canvas.width,y:M.canvas.height}},M.controller=e,M.options.showBroadphase=!1,M.options.pixelRatio!==1&&e.setPixelRatio(M,M.options.pixelRatio),s.isElement(M.element)&&M.element.appendChild(M.canvas),M},e.run=function(g){(function S(M){g.frameRequestId=t(S),a(g,M),e.world(g,M),g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0),(g.options.showStats||g.options.showDebug)&&e.stats(g,g.context,M),(g.options.showPerformance||g.options.showDebug)&&e.performance(g,g.context,M),g.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(g){o(g.frameRequestId)},e.setPixelRatio=function(g,S){var M=g.options,y=g.canvas;S==="auto"&&(S=x(y)),M.pixelRatio=S,y.setAttribute("data-pixel-ratio",S),y.width=M.width*S,y.height=M.height*S,y.style.width=M.width+"px",y.style.height=M.height+"px"},e.setSize=function(g,S,M){g.options.width=S,g.options.height=M,g.bounds.max.x=g.bounds.min.x+S,g.bounds.max.y=g.bounds.min.y+M,g.options.pixelRatio!==1?e.setPixelRatio(g,g.options.pixelRatio):(g.canvas.width=S,g.canvas.height=M)},e.lookAt=function(g,S,M,y){y=typeof y<"u"?y:!0,S=s.isArray(S)?S:[S],M=M||{x:0,y:0};for(var P={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},D=0;D<S.length;D+=1){var O=S[D],T=O.bounds?O.bounds.min:O.min||O.position||O,L=O.bounds?O.bounds.max:O.max||O.position||O;T&&L&&(T.x<P.min.x&&(P.min.x=T.x),L.x>P.max.x&&(P.max.x=L.x),T.y<P.min.y&&(P.min.y=T.y),L.y>P.max.y&&(P.max.y=L.y))}var I=P.max.x-P.min.x+2*M.x,E=P.max.y-P.min.y+2*M.y,R=g.canvas.height,k=g.canvas.width,V=k/R,q=I/E,X=1,G=1;q>V?G=q/V:X=V/q,g.options.hasBounds=!0,g.bounds.min.x=P.min.x,g.bounds.max.x=P.min.x+I*X,g.bounds.min.y=P.min.y,g.bounds.max.y=P.min.y+E*G,y&&(g.bounds.min.x+=I*.5-I*X*.5,g.bounds.max.x+=I*.5-I*X*.5,g.bounds.min.y+=E*.5-E*G*.5,g.bounds.max.y+=E*.5-E*G*.5),g.bounds.min.x-=M.x,g.bounds.max.x-=M.x,g.bounds.min.y-=M.y,g.bounds.max.y-=M.y,g.mouse&&(c.setScale(g.mouse,{x:(g.bounds.max.x-g.bounds.min.x)/g.canvas.width,y:(g.bounds.max.y-g.bounds.min.y)/g.canvas.height}),c.setOffset(g.mouse,g.bounds.min))},e.startViewTransform=function(g){var S=g.bounds.max.x-g.bounds.min.x,M=g.bounds.max.y-g.bounds.min.y,y=S/g.options.width,P=M/g.options.height;g.context.setTransform(g.options.pixelRatio/y,0,0,g.options.pixelRatio/P,0,0),g.context.translate(-g.bounds.min.x,-g.bounds.min.y)},e.endViewTransform=function(g){g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0)},e.world=function(g,S){var M=s.now(),y=g.engine,P=y.world,D=g.canvas,O=g.context,T=g.options,L=g.timing,I=i.allBodies(P),E=i.allConstraints(P),R=T.wireframes?T.wireframeBackground:T.background,k=[],V=[],q,X={timestamp:y.timing.timestamp};if(r.trigger(g,"beforeRender",X),g.currentBackground!==R&&C(g,R),O.globalCompositeOperation="source-in",O.fillStyle="transparent",O.fillRect(0,0,D.width,D.height),O.globalCompositeOperation="source-over",T.hasBounds){for(q=0;q<I.length;q++){var G=I[q];u.overlaps(G.bounds,g.bounds)&&k.push(G)}for(q=0;q<E.length;q++){var K=E[q],Z=K.bodyA,ee=K.bodyB,ie=K.pointA,W=K.pointB;Z&&(ie=f.add(Z.position,K.pointA)),ee&&(W=f.add(ee.position,K.pointB)),!(!ie||!W)&&(u.contains(g.bounds,ie)||u.contains(g.bounds,W))&&V.push(K)}e.startViewTransform(g),g.mouse&&(c.setScale(g.mouse,{x:(g.bounds.max.x-g.bounds.min.x)/g.options.width,y:(g.bounds.max.y-g.bounds.min.y)/g.options.height}),c.setOffset(g.mouse,g.bounds.min))}else V=E,k=I,g.options.pixelRatio!==1&&g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0);!T.wireframes||y.enableSleeping&&T.showSleeping?e.bodies(g,k,O):(T.showConvexHulls&&e.bodyConvexHulls(g,k,O),e.bodyWireframes(g,k,O)),T.showBounds&&e.bodyBounds(g,k,O),(T.showAxes||T.showAngleIndicator)&&e.bodyAxes(g,k,O),T.showPositions&&e.bodyPositions(g,k,O),T.showVelocity&&e.bodyVelocity(g,k,O),T.showIds&&e.bodyIds(g,k,O),T.showSeparations&&e.separations(g,y.pairs.list,O),T.showCollisions&&e.collisions(g,y.pairs.list,O),T.showVertexNumbers&&e.vertexNumbers(g,k,O),T.showMousePosition&&e.mousePosition(g,g.mouse,O),e.constraints(V,O),T.hasBounds&&e.endViewTransform(g),r.trigger(g,"afterRender",X),L.lastElapsed=s.now()-M},e.stats=function(g,S,M){for(var y=g.engine,P=y.world,D=i.allBodies(P),O=0,T=55,L=44,I=0,E=0,R=0;R<D.length;R+=1)O+=D[R].parts.length;var k={Part:O,Body:D.length,Cons:i.allConstraints(P).length,Comp:i.allComposites(P).length,Pair:y.pairs.list.length};S.fillStyle="#0e0f19",S.fillRect(I,E,T*5.5,L),S.font="12px Arial",S.textBaseline="top",S.textAlign="right";for(var V in k){var q=k[V];S.fillStyle="#aaa",S.fillText(V,I+T,E+8),S.fillStyle="#eee",S.fillText(q,I+T,E+26),I+=T}},e.performance=function(g,S){var M=g.engine,y=g.timing,P=y.deltaHistory,D=y.elapsedHistory,O=y.timestampElapsedHistory,T=y.engineDeltaHistory,L=y.engineUpdatesHistory,I=y.engineElapsedHistory,E=M.timing.lastUpdatesPerFrame,R=M.timing.lastDelta,k=d(P),V=d(D),q=d(T),X=d(L),G=d(I),K=d(O),Z=K/k||0,ee=Math.round(k/R),ie=1e3/k||0,W=4,Q=12,N=60,oe=34,Y=10,U=69;S.fillStyle="#0e0f19",S.fillRect(0,50,Q*5+N*6+22,oe),e.status(S,Y,U,N,W,P.length,Math.round(ie)+" fps",ie/e._goodFps,function(B){return P[B]/k-1}),e.status(S,Y+Q+N,U,N,W,T.length,R.toFixed(2)+" dt",e._goodDelta/R,function(B){return T[B]/q-1}),e.status(S,Y+(Q+N)*2,U,N,W,L.length,E+" upf",Math.pow(s.clamp(X/ee||1,0,1),4),function(B){return L[B]/X-1}),e.status(S,Y+(Q+N)*3,U,N,W,I.length,G.toFixed(2)+" ut",1-E*G/e._goodFps,function(B){return I[B]/G-1}),e.status(S,Y+(Q+N)*4,U,N,W,D.length,V.toFixed(2)+" rt",1-V/e._goodFps,function(B){return D[B]/V-1}),e.status(S,Y+(Q+N)*5,U,N,W,O.length,Z.toFixed(2)+" x",Z*Z*Z,function(B){return(O[B]/P[B]/Z||0)-1})},e.status=function(g,S,M,y,P,D,O,T,L){g.strokeStyle="#888",g.fillStyle="#444",g.lineWidth=1,g.fillRect(S,M+7,y,1),g.beginPath(),g.moveTo(S,M+7-P*s.clamp(.4*L(0),-2,2));for(var I=0;I<y;I+=1)g.lineTo(S+I,M+7-(I<D?P*s.clamp(.4*L(I),-2,2):0));g.stroke(),g.fillStyle="hsl("+s.clamp(25+95*T,0,120)+",100%,60%)",g.fillRect(S,M-7,4,4),g.font="12px Arial",g.textBaseline="middle",g.textAlign="right",g.fillStyle="#eee",g.fillText(O,S+y,M-5)},e.constraints=function(g,S){for(var M=S,y=0;y<g.length;y++){var P=g[y];if(!(!P.render.visible||!P.pointA||!P.pointB)){var D=P.bodyA,O=P.bodyB,T,L;if(D?T=f.add(D.position,P.pointA):T=P.pointA,P.render.type==="pin")M.beginPath(),M.arc(T.x,T.y,3,0,2*Math.PI),M.closePath();else{if(O?L=f.add(O.position,P.pointB):L=P.pointB,M.beginPath(),M.moveTo(T.x,T.y),P.render.type==="spring")for(var I=f.sub(L,T),E=f.perp(f.normalise(I)),R=Math.ceil(s.clamp(P.length/5,12,20)),k,V=1;V<R;V+=1)k=V%2===0?1:-1,M.lineTo(T.x+I.x*(V/R)+E.x*k*4,T.y+I.y*(V/R)+E.y*k*4);M.lineTo(L.x,L.y)}P.render.lineWidth&&(M.lineWidth=P.render.lineWidth,M.strokeStyle=P.render.strokeStyle,M.stroke()),P.render.anchors&&(M.fillStyle=P.render.strokeStyle,M.beginPath(),M.arc(T.x,T.y,3,0,2*Math.PI),M.arc(L.x,L.y,3,0,2*Math.PI),M.closePath(),M.fill())}}},e.bodies=function(g,S,M){var y=M;g.engine;var P=g.options,D=P.showInternalEdges||!P.wireframes,O,T,L,I;for(L=0;L<S.length;L++)if(O=S[L],!!O.render.visible){for(I=O.parts.length>1?1:0;I<O.parts.length;I++)if(T=O.parts[I],!!T.render.visible){if(P.showSleeping&&O.isSleeping?y.globalAlpha=.5*T.render.opacity:T.render.opacity!==1&&(y.globalAlpha=T.render.opacity),T.render.sprite&&T.render.sprite.texture&&!P.wireframes){var E=T.render.sprite,R=w(g,E.texture);y.translate(T.position.x,T.position.y),y.rotate(T.angle),y.drawImage(R,R.width*-E.xOffset*E.xScale,R.height*-E.yOffset*E.yScale,R.width*E.xScale,R.height*E.yScale),y.rotate(-T.angle),y.translate(-T.position.x,-T.position.y)}else{if(T.circleRadius)y.beginPath(),y.arc(T.position.x,T.position.y,T.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(T.vertices[0].x,T.vertices[0].y);for(var k=1;k<T.vertices.length;k++)!T.vertices[k-1].isInternal||D?y.lineTo(T.vertices[k].x,T.vertices[k].y):y.moveTo(T.vertices[k].x,T.vertices[k].y),T.vertices[k].isInternal&&!D&&y.moveTo(T.vertices[(k+1)%T.vertices.length].x,T.vertices[(k+1)%T.vertices.length].y);y.lineTo(T.vertices[0].x,T.vertices[0].y),y.closePath()}P.wireframes?(y.lineWidth=1,y.strokeStyle=g.options.wireframeStrokeStyle,y.stroke()):(y.fillStyle=T.render.fillStyle,T.render.lineWidth&&(y.lineWidth=T.render.lineWidth,y.strokeStyle=T.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},e.bodyWireframes=function(g,S,M){var y=M,P=g.options.showInternalEdges,D,O,T,L,I;for(y.beginPath(),T=0;T<S.length;T++)if(D=S[T],!!D.render.visible)for(I=D.parts.length>1?1:0;I<D.parts.length;I++){for(O=D.parts[I],y.moveTo(O.vertices[0].x,O.vertices[0].y),L=1;L<O.vertices.length;L++)!O.vertices[L-1].isInternal||P?y.lineTo(O.vertices[L].x,O.vertices[L].y):y.moveTo(O.vertices[L].x,O.vertices[L].y),O.vertices[L].isInternal&&!P&&y.moveTo(O.vertices[(L+1)%O.vertices.length].x,O.vertices[(L+1)%O.vertices.length].y);y.lineTo(O.vertices[0].x,O.vertices[0].y)}y.lineWidth=1,y.strokeStyle=g.options.wireframeStrokeStyle,y.stroke()},e.bodyConvexHulls=function(g,S,M){var y=M,P,D,O;for(y.beginPath(),D=0;D<S.length;D++)if(P=S[D],!(!P.render.visible||P.parts.length===1)){for(y.moveTo(P.vertices[0].x,P.vertices[0].y),O=1;O<P.vertices.length;O++)y.lineTo(P.vertices[O].x,P.vertices[O].y);y.lineTo(P.vertices[0].x,P.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},e.vertexNumbers=function(g,S,M){var y=M,P,D,O;for(P=0;P<S.length;P++){var T=S[P].parts;for(O=T.length>1?1:0;O<T.length;O++){var L=T[O];for(D=0;D<L.vertices.length;D++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(P+"_"+D,L.position.x+(L.vertices[D].x-L.position.x)*.8,L.position.y+(L.vertices[D].y-L.position.y)*.8)}}},e.mousePosition=function(g,S,M){var y=M;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(S.position.x+"  "+S.position.y,S.position.x+5,S.position.y-5)},e.bodyBounds=function(g,S,M){var y=M;g.engine;var P=g.options;y.beginPath();for(var D=0;D<S.length;D++){var O=S[D];if(O.render.visible)for(var T=S[D].parts,L=T.length>1?1:0;L<T.length;L++){var I=T[L];y.rect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}P.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},e.bodyAxes=function(g,S,M){var y=M;g.engine;var P=g.options,D,O,T,L;for(y.beginPath(),O=0;O<S.length;O++){var I=S[O],E=I.parts;if(I.render.visible)if(P.showAxes)for(T=E.length>1?1:0;T<E.length;T++)for(D=E[T],L=0;L<D.axes.length;L++){var R=D.axes[L];y.moveTo(D.position.x,D.position.y),y.lineTo(D.position.x+R.x*20,D.position.y+R.y*20)}else for(T=E.length>1?1:0;T<E.length;T++)for(D=E[T],L=0;L<D.axes.length;L++)y.moveTo(D.position.x,D.position.y),y.lineTo((D.vertices[0].x+D.vertices[D.vertices.length-1].x)/2,(D.vertices[0].y+D.vertices[D.vertices.length-1].y)/2)}P.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},e.bodyPositions=function(g,S,M){var y=M;g.engine;var P=g.options,D,O,T,L;for(y.beginPath(),T=0;T<S.length;T++)if(D=S[T],!!D.render.visible)for(L=0;L<D.parts.length;L++)O=D.parts[L],y.arc(O.position.x,O.position.y,3,0,2*Math.PI,!1),y.closePath();for(P.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),T=0;T<S.length;T++)D=S[T],D.render.visible&&(y.arc(D.positionPrev.x,D.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},e.bodyVelocity=function(g,S,M){var y=M;y.beginPath();for(var P=0;P<S.length;P++){var D=S[P];if(D.render.visible){var O=n.getVelocity(D);y.moveTo(D.position.x,D.position.y),y.lineTo(D.position.x+O.x,D.position.y+O.y)}}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},e.bodyIds=function(g,S,M){var y=M,P,D;for(P=0;P<S.length;P++)if(S[P].render.visible){var O=S[P].parts;for(D=O.length>1?1:0;D<O.length;D++){var T=O[D];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(T.id,T.position.x+10,T.position.y-10)}}},e.collisions=function(g,S,M){var y=M,P=g.options,D,O,T,L;for(y.beginPath(),T=0;T<S.length;T++)if(D=S[T],!!D.isActive)for(O=D.collision,L=0;L<D.contactCount;L++){var I=D.contacts[L],E=I.vertex;y.rect(E.x-1.5,E.y-1.5,3.5,3.5)}for(P.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),T=0;T<S.length;T++)if(D=S[T],!!D.isActive&&(O=D.collision,D.contactCount>0)){var R=D.contacts[0].vertex.x,k=D.contacts[0].vertex.y;D.contactCount===2&&(R=(D.contacts[0].vertex.x+D.contacts[1].vertex.x)/2,k=(D.contacts[0].vertex.y+D.contacts[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic===!0?y.moveTo(R-O.normal.x*8,k-O.normal.y*8):y.moveTo(R+O.normal.x*8,k+O.normal.y*8),y.lineTo(R,k)}P.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},e.separations=function(g,S,M){var y=M,P=g.options,D,O,T,L,I;for(y.beginPath(),I=0;I<S.length;I++)if(D=S[I],!!D.isActive){O=D.collision,T=O.bodyA,L=O.bodyB;var E=1;!L.isStatic&&!T.isStatic&&(E=.5),L.isStatic&&(E=0),y.moveTo(L.position.x,L.position.y),y.lineTo(L.position.x-O.penetration.x*E,L.position.y-O.penetration.y*E),E=1,!L.isStatic&&!T.isStatic&&(E=.5),T.isStatic&&(E=0),y.moveTo(T.position.x,T.position.y),y.lineTo(T.position.x+O.penetration.x*E,T.position.y+O.penetration.y*E)}P.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},e.inspector=function(g,S){g.engine;var M=g.selected,y=g.render,P=y.options,D;if(P.hasBounds){var O=y.bounds.max.x-y.bounds.min.x,T=y.bounds.max.y-y.bounds.min.y,L=O/y.options.width,I=T/y.options.height;S.scale(1/L,1/I),S.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var E=0;E<M.length;E++){var R=M[E].data;switch(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.9)",S.setLineDash([1,2]),R.type){case"body":D=R.bounds,S.beginPath(),S.rect(Math.floor(D.min.x-3),Math.floor(D.min.y-3),Math.floor(D.max.x-D.min.x+6),Math.floor(D.max.y-D.min.y+6)),S.closePath(),S.stroke();break;case"constraint":var k=R.pointA;R.bodyA&&(k=R.pointB),S.beginPath(),S.arc(k.x,k.y,10,0,2*Math.PI),S.closePath(),S.stroke();break}S.setLineDash([]),S.translate(-.5,-.5)}g.selectStart!==null&&(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.6)",S.fillStyle="rgba(255,165,0,0.1)",D=g.selectBounds,S.beginPath(),S.rect(Math.floor(D.min.x),Math.floor(D.min.y),Math.floor(D.max.x-D.min.x),Math.floor(D.max.y-D.min.y)),S.closePath(),S.stroke(),S.fill(),S.translate(-.5,-.5)),P.hasBounds&&S.setTransform(1,0,0,1,0,0)};var a=function(g,S){var M=g.engine,y=g.timing,P=y.historySize,D=M.timing.timestamp;y.delta=S-y.lastTime||e._goodDelta,y.lastTime=S,y.timestampElapsed=D-y.lastTimestamp||0,y.lastTimestamp=D,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,P),y.engineDeltaHistory.unshift(M.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,P),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,P),y.engineUpdatesHistory.unshift(M.timing.lastUpdatesPerFrame),y.engineUpdatesHistory.length=Math.min(y.engineUpdatesHistory.length,P),y.engineElapsedHistory.unshift(M.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,P),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,P)},d=function(g){for(var S=0,M=0;M<g.length;M+=1)S+=g[M];return S/g.length||0},m=function(g,S){var M=document.createElement("canvas");return M.width=g,M.height=S,M.oncontextmenu=function(){return!1},M.onselectstart=function(){return!1},M},x=function(g){var S=g.getContext("2d"),M=window.devicePixelRatio||1,y=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return M/y},w=function(g,S){var M=g.textures[S];return M||(M=g.textures[S]=new Image,M.src=S,M)},C=function(g,S){var M=S;/(jpg|gif|png)$/.test(S)&&(M="url("+S+")"),g.canvas.style.background=M,g.canvas.style.backgroundSize="contain",g.currentBackground=S}})()},function(p,v,l){var e={};p.exports=e;var n=l(5),s=l(17),i=l(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(r){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=i.extend(f,r);return c.fps=0,c},e.run=function(r,f){return r.timeBuffer=e._frameDeltaFallback,function c(t){r.frameRequestId=e._onNextFrame(r,c),t&&r.enabled&&e.tick(r,f,t)}(),r},e.tick=function(r,f,c){var t=i.now(),o=r.delta,a=0,d=c-r.timeLastTick;if((!d||!r.timeLastTick||d>Math.max(e._maxFrameDelta,r.maxFrameTime))&&(d=r.frameDelta||e._frameDeltaFallback),r.frameDeltaSmoothing){r.frameDeltaHistory.push(d),r.frameDeltaHistory=r.frameDeltaHistory.slice(-r.frameDeltaHistorySize);var m=r.frameDeltaHistory.slice(0).sort(),x=r.frameDeltaHistory.slice(m.length*e._smoothingLowerBound,m.length*e._smoothingUpperBound),w=u(x);d=w||d}r.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),r.frameDelta=d,r.timeLastTick=c,r.timeBuffer+=r.frameDelta,r.timeBuffer=i.clamp(r.timeBuffer,0,r.frameDelta+o*e._timeBufferMargin),r.lastUpdatesDeferred=0;var C=r.maxUpdates||Math.ceil(r.maxFrameTime/o),g={timestamp:f.timing.timestamp};n.trigger(r,"beforeTick",g),n.trigger(r,"tick",g);for(var S=i.now();o>0&&r.timeBuffer>=o*e._timeBufferMargin;){n.trigger(r,"beforeUpdate",g),s.update(f,o),n.trigger(r,"afterUpdate",g),r.timeBuffer-=o,a+=1;var M=i.now()-t,y=i.now()-S,P=M+e._elapsedNextEstimate*y/a;if(a>=C||P>r.maxFrameTime){r.lastUpdatesDeferred=Math.round(Math.max(0,r.timeBuffer/o-e._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=a,n.trigger(r,"afterTick",g),r.frameDeltaHistory.length>=100&&(r.lastUpdatesDeferred&&Math.round(r.frameDelta/o)>C?i.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):r.lastUpdatesDeferred&&i.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof r.isFixed<"u"&&i.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(r.deltaMin||r.deltaMax)&&i.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),r.fps!==0&&i.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(r){e._cancelNextFrame(r)},e._onNextFrame=function(r,f){if(typeof window<"u"&&window.requestAnimationFrame)r.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return r.frameRequestId},e._cancelNextFrame=function(r){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(r.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=function(r){for(var f=0,c=r.length,t=0;t<c;t+=1)f+=r[t];return f/c||0}})()},function(p,v,l){var e={};p.exports=e;var n=l(8),s=l(0),i=s.deprecated;(function(){e.collides=function(u,r){return n.collides(u,r)},i(e,"collides","SAT.collides  replaced by Collision.collides")})()},function(p,v,l){var e={};p.exports=e,l(1);var n=l(0);(function(){e.pathToVertices=function(s,i){typeof window<"u"&&!("SVGPathSeg"in window)&&n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,r,f,c,t,o,a,d,m,x,w=[],C,g,S=0,M=0,y=0;i=i||15;var P=function(O,T,L){var I=L%2===1&&L>1;if(!m||O!=m.x||T!=m.y){m&&I?(C=m.x,g=m.y):(C=0,g=0);var E={x:C+O,y:g+T};(I||!m)&&(m=E),w.push(E),M=C+O,y=g+T}},D=function(O){var T=O.pathSegTypeAsLetter.toUpperCase();if(T!=="Z"){switch(T){case"M":case"L":case"T":case"C":case"S":case"Q":M=O.x,y=O.y;break;case"H":M=O.x;break;case"V":y=O.y;break}P(M,y,O.pathSegType)}};for(e._svgPathToAbsolute(s),f=s.getTotalLength(),o=[],u=0;u<s.pathSegList.numberOfItems;u+=1)o.push(s.pathSegList.getItem(u));for(a=o.concat();S<f;){if(x=s.getPathSegAtLength(S),t=o[x],t!=d){for(;a.length&&a[0]!=t;)D(a.shift());d=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=s.getPointAtLength(S),P(c.x,c.y,0);break}S+=i}for(u=0,r=a.length;u<r;++u)D(a[u]);return w},e._svgPathToAbsolute=function(s){for(var i,u,r,f,c,t,o=s.pathSegList,a=0,d=0,m=o.numberOfItems,x=0;x<m;++x){var w=o.getItem(x),C=w.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in w&&(a=w.x),"y"in w&&(d=w.y);else switch("x1"in w&&(r=a+w.x1),"x2"in w&&(c=a+w.x2),"y1"in w&&(f=d+w.y1),"y2"in w&&(t=d+w.y2),"x"in w&&(a+=w.x),"y"in w&&(d+=w.y),C){case"m":o.replaceItem(s.createSVGPathSegMovetoAbs(a,d),x);break;case"l":o.replaceItem(s.createSVGPathSegLinetoAbs(a,d),x);break;case"h":o.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(a),x);break;case"v":o.replaceItem(s.createSVGPathSegLinetoVerticalAbs(d),x);break;case"c":o.replaceItem(s.createSVGPathSegCurvetoCubicAbs(a,d,r,f,c,t),x);break;case"s":o.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(a,d,c,t),x);break;case"q":o.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(a,d,r,f),x);break;case"t":o.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(a,d),x);break;case"a":o.replaceItem(s.createSVGPathSegArcAbs(a,d,w.r1,w.r2,w.angle,w.largeArcFlag,w.sweepFlag),x);break;case"z":case"Z":a=i,d=u;break}(C=="M"||C=="m")&&(i=a,u=d)}}})()},function(p,v,l){var e={};p.exports=e;var n=l(6);l(0),function(){e.create=n.create,e.add=n.add,e.remove=n.remove,e.clear=n.clear,e.addComposite=n.addComposite,e.addBody=n.addBody,e.addConstraint=n.addConstraint}()}])})})(ai);const pe=rn(ye);class li{constructor(h){H(this,"widthCanvas",document.body.clientWidth>2560?1920:document.body.clientWidth);H(this,"maxBall");H(this,"heightCanvas");H(this,"DOM");H(this,"dataImgs",[]);H(this,"MatterJS");H(this,"sizeCustom");this.DOM={el:h},this.MatterJS={Engine:void 0,Render:void 0},this.maxBall=25,this.sizeCustom={mobile:{radius:_(5),scaleRatio:_(5)/267,scaleCircleMain:171/50,xLeftWall:0-_(9),xRightWall:window.innerWidth+_(9),yMainCircle:_(72.2)+_(17)},tablet:{radius:_(5),scaleRatio:_(5)/267,scaleCircleMain:190/50,xLeftWall:0-_(9),xRightWall:window.innerWidth+_(9),yMainCircle:_(72.2)+_(19)},desktop:{radius:_(13.3),scaleRatio:_(13.3)/267,scaleCircleMain:293/133,xLeftWall:0,xRightWall:window.innerWidth>2560?1920:window.innerWidth,yMainCircle:_(51.2)+_(29.3)}},this.heightCanvas=this.DOM.el.clientHeight,sn(Array.from(h==null?void 0:h.querySelectorAll(".home-bubble-item"))).forEach((p,v)=>{var e;const l=(e=p.querySelector("img"))==null?void 0:e.getAttribute("src");l&&v<this.maxBall&&this.dataImgs.push(l),p.style.pointerEvents="none",p.style.opacity="0"})}render(){var l,e,n,s;this.init();const h=pe.Runner.create(),p=(e=(l=this.MatterJS).Engine)==null?void 0:e.call(l),v=(s=(n=this.MatterJS).Render)==null?void 0:s.call(n);Me.create({trigger:this.DOM.el,start:"top center",end:"bottom center",onEnter:()=>{!p||!v||(pe.Render.run(v),pe.Runner.run(h,p))}})}init(){const h=this.sizeCustom[Ce].radius,p=this.sizeCustom[Ce].scaleRatio,v=this.sizeCustom[Ce].scaleCircleMain,l=this.sizeCustom[Ce].xLeftWall,e=this.sizeCustom[Ce].xRightWall,n=this.sizeCustom[Ce].yMainCircle,s=pe.Engine.create(),i=pe.Render.create({element:this.DOM.el,engine:s,options:{width:this.widthCanvas,height:this.heightCanvas,background:"transparent",wireframes:!1,showAngleIndicator:!1}}),u=Math.floor(this.widthCanvas/(h*2)),f=(this.widthCanvas-u*h*2)/(u-1);let c=0;for(let w=0;w<Math.round(this.dataImgs.length/u)&&this.dataImgs[c];w++){for(let C=0;C<u&&this.dataImgs[c];C++){const g=C*h*2+f*C,S=-w*h*2-h*2-f*w,M=ye.Bodies.circle(g,S,h,{friction:.001,frictionAir:.01,restitution:.8,timeScale:1.05,render:{fillStyle:"#f3f3f3",visible:!0,sprite:{texture:this.dataImgs[c],xScale:p,yScale:p}}});if(c++,pe.Composite.add(s.world,M),c>=this.dataImgs.length)break}if(c>=this.dataImgs.length)break}const t=ye.Bodies.circle(this.widthCanvas/2,n,h*v,{render:{fillStyle:"transparent"},isStatic:!0}),o=ye.Bodies.rectangle(this.widthCanvas/2,this.DOM.el.clientHeight,this.widthCanvas*10,1,{isStatic:!0,render:{fillStyle:"transparent"}}),a=ye.Bodies.rectangle(l,this.DOM.el.clientHeight/2,1,this.DOM.el.clientHeight*5,{isStatic:!0,render:{fillStyle:"transparent"}}),d=ye.Bodies.rectangle(e,this.DOM.el.clientHeight/2,1,this.DOM.el.clientHeight*5,{isStatic:!0,render:{fillStyle:"transparent"}});pe.Composite.add(s.world,[o,a,d,t]);const m=pe.Mouse.create(i.canvas),x=pe.MouseConstraint.create(s,{mouse:m,constraint:{stiffness:.2,render:{visible:!1}}});pe.Composite.add(s.world,x),x.mouse.element.removeEventListener("touchstart",x.mouse.mousedown),x.mouse.element.removeEventListener("touchmove",x.mouse.mousemove),x.mouse.element.removeEventListener("touchend",x.mouse.mouseup),x.mouse.element.addEventListener("touchstart",x.mouse.mousedown,{passive:!0}),x.mouse.element.addEventListener("touchmove",w=>{x.body&&x.mouse.mousemove(w)}),x.mouse.element.addEventListener("touchend",w=>{x.body&&x.mouse.mouseup(w)}),this.MatterJS.Render=()=>i,this.MatterJS.Engine=()=>s}}class ci{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this))}initParticles(){const h=this.DOM.el.querySelectorAll(".home-hero-brands-wrap"),p=this.DOM.el.querySelector(".home-bubble"),v=this.DOM.el.querySelector(".home-book-img-inner");h.length&&h.forEach(l=>{new Ie({wrap:l,listSplide:l.querySelectorAll(".home-hero-brands")})}),new oi(this.DOM.el),p&&new li(p).render(),v&&new nt({el:v,offset:30,direction:-1}),this.heroVideoAction(),this.handleParallaxTitle(),this.initMotion()}clear(){this.initParticles()}initMotion(){b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}heroVideoAction(){const h=this.DOM.el.querySelector(".home-hero-img-btn"),p=this.DOM.el.querySelector(".home-hero-poup-video"),v=this.DOM.el.querySelector(".home-hero--poup-ic"),l=this.DOM.el.querySelector(".home-hero-poup-video-content");h.addEventListener("click",()=>{p.classList.add("is-show")}),v.addEventListener("click",()=>e()),tt({element:l,action:()=>e()});const e=()=>{p.classList.remove("is-show")}}handleParallaxTitle(){const h=this.DOM.el.querySelector(".home-feature-top-inner"),p=this.DOM.el.querySelector(".home-bubble");if(!h||!p)return;const v=F.fromTo(h,{y:h.clientHeight/2},{y:`-${window.innerHeight/2-h.clientHeight/2}px`,ease:"none",duration:3});Me.create({trigger:p,start:()=>"bottom bottom",end:"bottom top",animation:v,scrub:!0})}}class ui{constructor(h){H(this,"DOM");H(this,"pricing");H(this,"pricingBase");H(this,"pricingAgent");H(this,"planCurrent");H(this,"planOptions",{month:{planUser:35,basePrice:75,valSaleUp:0,type:"month"},year:{planUser:35,basePrice:75,valSaleUp:10,type:"year"}});this.DOM={el:h,input:h.querySelector(".fs-rangeslider_input__custom")};const p=document.getElementById("plane-options"),v=p==null?void 0:p.textContent;try{this.planOptions=JSON.parse(v||"{}")}catch(l){console.error("Error parsing plane-options data:",l)}this.planCurrent=this.planOptions.month,this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this)),on(this.clear.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}initParticles(){const h=this.DOM.el.querySelector(".home-book-img-inner");h&&new nt({el:h,offset:30,direction:-1});const p=this.DOM.el.querySelectorAll(".pricing-testimonials-brands");p.length&&p.forEach(v=>{new Ie({wrap:v,listSplide:this.DOM.el.querySelectorAll(".pricing-testimonials-brands")})}),new Ie({wrap:this.DOM.el.querySelector(".book-brands-wrap"),listSplide:this.DOM.el.querySelectorAll(".home-hero-brands")}),this.initMotions(),this.handleInitPricing(),this.handleLoadMorePrice(),this.handleSubmitForm(),this.handleRoateIconSale(),this.handleShowTextMoreLimit()}initMotions(){b.parrallaxImage(this.DOM.el),b.maskText(this.DOM.el),b.fadeText(this.DOM.el),b.fadeWrap(this.DOM.el)}handleRoateIconSale(){const h=this.DOM.el.querySelector(".pricing-hero-tab-tag"),p=()=>{F.killTweensOf(h),F.to(h,{keyframes:{rotation:[16,-12,8,-4,2,0]},ease:"bounce.out",duration:1.6})};return an({el:h,animIn:p}),p}handleLoadMorePrice(){if(!this.DOM.el)return;const h=this.DOM.el.querySelectorAll("#tablePricing .pricing_table_row"),p=this.DOM.el.querySelector("#loadMoreTable"),v=this.DOM.el.querySelector(".pricing-table-note");let l=10;p.addEventListener("click",function(){const e=l+21;for(let n=l;n<e&&n<h.length;n++)if(n>10){const s=h[n],i=Ze(n,l,e,0,1);s.style.animationDelay=`${i}s`,s.classList.add("show_row")}v.style.pointerEvents="auto",v.style.opacity="1",l=e,l>=h.length&&(this.style.display="none"),Me.refresh()})}onRenderPlane({item:h,bgElemenet:p,textTypePlan:v,bgElementInner:l,isInit:e=!1}){var t;const n=h.getAttribute("data-plan-pricing");if(!this.pricing||n===((t=this.planCurrent)==null?void 0:t.type))return;n==="year"&&this.handleRoateIconSale();const s=p.getBoundingClientRect().x,i=h.getBoundingClientRect().x,u=h.getBoundingClientRect().width,r=this.planOptions[n];if(this.planCurrent=r,v.forEach(o=>{const a=o.querySelectorAll(".txt.txt-18");n==="month"?(F.to(a[0],{opacity:1,ease:"power3",duration:.6}),F.to(a[1],{opacity:0,ease:"power3",duration:.6})):(F.to(a[0],{opacity:0,ease:"power3",duration:.6}),F.to(a[1],{opacity:1,ease:"power3",duration:.6}))}),!this.pricingAgent||!this.pricingBase)return;const f=xt(r.basePrice)?r.basePrice.toFixed(2):r.basePrice,c=xt(r.planUser)?r.planUser.toFixed(2):r.planUser;this.pricingBase.DOM.el.innerHTML=`${f}`,this.pricingAgent.DOM.el.innerHTML=`${c}`,F.to(l,{x:-(s-i),duration:.5,width:u,ease:"power3.out"}),this.pricing.handleCalcPricing({...r,isReinit:e})}handleSelectTypePlan(){const h=this.DOM.el.querySelector(".pricing-hero-bg-wrap"),p=this.DOM.el.querySelector(".pricing-hero-bg"),v=this.DOM.el.querySelectorAll(".js-text-timer");v.forEach(l=>{const e=l.querySelectorAll(".txt.txt-18");F.set(e[1],{yPercent:0,y:0,top:0,left:0,opacity:0})}),h&&this.DOM.el.querySelectorAll(".pricing-hero-tab-item").forEach(l=>{l.addEventListener("click",()=>{this.onRenderPlane({item:l,bgElemenet:h,textTypePlan:v,bgElementInner:p})})})}onResize(){var s,i;const h=this.DOM.el.querySelector(".pricing-hero-bg-wrap"),p=this.DOM.el.querySelector(".pricing-hero-bg"),v=this.DOM.el.querySelectorAll(".pricing-hero-tab-item");if(!h||!p||!v)return;const l=h.getBoundingClientRect().x,e=v[((s=this.planCurrent)==null?void 0:s.type)==="year"?1:0].getBoundingClientRect().x,n=v[((i=this.planCurrent)==null?void 0:i.type)==="year"?1:0].getBoundingClientRect().width;F.to(p,{x:-(l-e),duration:.5,width:n,ease:"power3.out"})}handleSubmitForm(){const h=this.DOM.el.querySelector(".pricing-message-success");this.DOM.el.querySelector(".form-btn-wrap").addEventListener("click",()=>{var v,l;localStorage.setItem("countUser",JSON.stringify(((l=(v=this.DOM)==null?void 0:v.input)==null?void 0:l.value)||0)),window.location.href="/sign-up"}),setInterval(()=>{h.style.display==="block"&&setTimeout(()=>{F.to(h,{opacity:0,duration:1.2,ease:"power3.out",onComplete:()=>{h.style.display="none"}})},2e3)},100)}handleInitPricing(){var u;const h=(u=this.DOM.el.querySelector(".txt-168.txt-bold"))==null?void 0:u.querySelector(".js-text-counter"),p=this.DOM.el.querySelector(".text-pricing-agent"),v=this.DOM.el.querySelector(".text-pricing-base"),l=document.querySelector(".fs-rangeslider_input__custom"),e=!0,n=new Ke(h,l,e),s=new Ke(v,void 0,e),i=new Ke(p,void 0,e);this.pricingAgent=i,this.pricingBase=s,this.pricing=n,this.handleSelectTypePlan(),this.handleActionPlanPricing()}handleActionPlanPricing(){setTimeout(()=>{var h,p,v,l;this.pricing&&this.pricing.handleSlide({type:((h=this.planCurrent)==null?void 0:h.type)||"month",planUser:((p=this.planCurrent)==null?void 0:p.planUser)||35,valSaleUp:((v=this.planCurrent)==null?void 0:v.valSaleUp)||0,basePrice:((l=this.planCurrent)==null?void 0:l.basePrice)||75})},1e3)}handleShowTextMoreLimit(){const h=document.querySelector(".fs-rangeslider_input__custom"),p=document.querySelector(".pricing-hero-panel-main-range-heading-more"),v=this.DOM.el.querySelector(".fs-rangeslider_handle-value-txt");if(!h||!p)return;const l=this;h.addEventListener("input",function(){if(window.innerWidth<991){const e=l.DOM.el.querySelector(".fs-rangeslider_handle-value-2"),n=l.DOM.el.querySelector(".pricing-clipath");if(!e)return;const s=Ze(Number(h.value),0,30,-e.clientWidth/6,e.clientWidth/3);e.style.marginLeft=`${-s}px`,n.style.marginLeft=`${s}px`}h.value==="30"?(p.style.opacity="1",p.style.transitionDuration=".3s",p.style.pointerEvents="auto"):(p.style.opacity="0",p.style.transitionDuration=".3s",p.style.pointerEvents="none"),v&&(h.value==="0"?(v.innerHTML="Drag me",F.killTweensOf(".pricing-range-total-left"),F.to(".pricing-range-total-left",{duration:.6,opacity:0,ease:"power3.out"})):(F.killTweensOf(".pricing-range-total-left"),F.to(".pricing-range-total-left",{duration:.6,opacity:1,ease:"power3.out"}),v.innerHTML=`${h.value} agent${h.value>"1"?"s":""} / user${h.value>"1"?"s":""}`))})}clear(){window.removeEventListener("resize",this.onResize.bind(this))}}class fi{constructor(h){H(this,"DOM");this.DOM={el:h},this.initParticles=this.initParticles.bind(this),z.on(ne,this.initParticles),se(this.clear.bind(this)),this.handleTotalArticle(),this.handleNavigateArticle(),this.handleSearchQuery()}initParticles(){b.maskText(this.DOM.el),b.parrallaxImage(this.DOM.el),b.fadeText(this.DOM.el),b.countText(this.DOM.el),b.fadeWrap(this.DOM.el)}clear(){this.initParticles()}handleTotalArticle(){const h=this.DOM.el.querySelectorAll(".sc-result-card-wrap");h.length&&ln(()=>{for(let p=0;p<h.length;p++){const v=h[p].querySelectorAll(".w-dyn-item"),l=h[p].querySelector(".sc-result-card-content-total");if(!l)return;const e=v.length;e?l.innerHTML=`${e}`:l.innerHTML="0"}},1200)()}handleNavigateArticle(){var v;const h=this.DOM.el.querySelectorAll(".sc-articles-list-item-txt"),p=(v=this.DOM.el.querySelector(".sc-inner-right-heading"))==null?void 0:v.textContent;p&&h.forEach(l=>{l.addEventListener("click",()=>{localStorage.setItem("sc-category",p)})})}handleSearchQuery(){const h=this.DOM.el.querySelector(".sc-hero-wrapper-form-input"),p=this.DOM.el.querySelector(".sc-inner-left-search-go");h&&(h.addEventListener("input",v=>{var e;const l=(e=v.currentTarget)==null?void 0:e.value.trim();l!==""?p==null||p.classList.add("active"):p==null||p.classList.remove("active"),v.key==="Enter"&&l!==""&&(window.location.href=`/search?query=${l}`)}),h.addEventListener("keydown",v=>{var e;const l=(e=v.currentTarget)==null?void 0:e.value.trim();l!==""?p==null||p.classList.add("active"):p==null||p.classList.remove("active"),v.key==="Enter"&&l!==""&&(window.location.href=`/search?query=${l}`)}),p==null||p.addEventListener("click",()=>{const v=h.value.trim();v!==""&&(window.location.href=`/search?query=${v}`)}))}}F.registerPlugin(Me);class di{constructor(){new URL(location.href).searchParams.get("dev")||(this.init(),this.bindEvents(),b.init(),new ei,new _n)}init(){const h=document.querySelector("div[data-page]");if(!h)return;const p=h.getAttribute("data-page")||"home",v={home:()=>{new ci(h)},about:()=>{new ii(h)},pricing:()=>{new ui(h)},"support-center":()=>{new fi(h)},changelog:()=>{new si(h)},"blog-detail":()=>{new hn(h)},"contact-us":()=>{new mn(h)},resources:()=>{new Jn(h)},"request-trial":()=>{new xn(h)},"ask-a-question":()=>{new fn(h)},"sign-up":()=>{new Zn(h)},"article-detail":()=>{new ri(h)},"case-studies-detail":()=>{new gn(h)},products:()=>{new vn(h)},solutions:()=>{new jn(h)},"case-studies":()=>{new pn(h)},blog:()=>{new dn(h)}};v[p]&&v[p]()}bindEvents(){z.on(cn,this.init.bind(this)),Pt.simple(),Pt.simpleLoaded()}}new di;
